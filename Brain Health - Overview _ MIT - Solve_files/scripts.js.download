!function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return r(i||t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){!function(t,i){void 0!==e?e.exports=i():"function"==typeof define&&"object"==typeof define.amd?define(i):this[t]=i()}("domready",function(){var t,e=[],i=document,n=i.documentElement.doScroll,r="DOMContentLoaded",o=(n?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);return o||i.addEventListener(r,t=function(){for(i.removeEventListener(r,t),o=1;t=e.shift();)t()}),function(t){o?setTimeout(t,0):e.push(t)}})},{}],2:[function(t,e,i){"undefined"==typeof document||"classList"in document.createElement("a")||function(t){"use strict";var e="classList",i="prototype",n=(t.HTMLElement||t.Element)[i],r=Object,o=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=o.call(t.className),i=e?e.split(/\s+/):[],n=0,r=i.length;n<r;n++)this.push(i[n]);this._updateClassName=function(){t.className=this.toString()}},u=c[i]=[],h=function(){return new c(this)};if(a[i]=Error[i],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(t){t+="",-1===l(this,t)&&(this.push(t),this._updateClassName())},u.remove=function(t){t+="";var e=l(this,t);-1!==e&&(this.splice(e,1),this._updateClassName())},u.toggle=function(t){t+="",-1===l(this,t)?this.add(t):this.remove(t)},u.toString=function(){return this.join(" ")},r.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{r.defineProperty(n,e,d)}catch(t){-2146823252===t.number&&(d.enumerable=!1,r.defineProperty(n,e,d))}}else r[i].__defineGetter__&&n.__defineGetter__(e,h)}(self)},{}],3:[function(t,e,i){!function(t,n){"use strict";"function"==typeof define&&define.amd?define([],n):"object"==typeof i?e.exports=n():t.Headroom=n()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function e(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function i(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var n,r,o=t||{};for(r=1;r<arguments.length;r++){var s=arguments[r]||{};for(n in s)"object"!=typeof o[n]||e(o[n])?o[n]=o[n]||s[n]:o[n]=i(o[n],s[n])}return o}function n(t){return t===Object(t)?t:{down:t,up:t}}function r(t,e){e=i(e,r.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=n(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}var o={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},r.prototype={constructor:r,init:function(){if(r.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.notTop,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,i=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||i},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var i=t>this.lastKnownScrollY,n=t>=this.offset;return i&&n&&e},shouldPin:function(t,e){var i=t<this.lastKnownScrollY,n=t<=this.offset;return i&&e||n},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,i)?this.unpin():this.shouldPin(t,i)&&this.pin(),this.lastKnownScrollY=t)}},r.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},r.cutsTheMustard=void 0!==o&&o.rAF&&o.bind&&o.classList,r})},{}],4:[function(t,e,i){!function(t,n){"object"==typeof i&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):t.Jump=n()}(this,function(){"use strict";var t=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e)},e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return function(){function i(){return window.scrollY||window.pageYOffset}function n(t){return t.getBoundingClientRect().top+l}function r(t){g||(g=t),m=t-g,v=h(m,l,f,p),window.scrollTo(0,v),m<p?window.requestAnimationFrame(r):o()}function o(){window.scrollTo(0,l+f),a&&d&&(a.setAttribute("tabindex","-1"),a.focus()),"function"==typeof b&&b(),g=!1}function s(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(p=s.duration||1e3,u=s.offset||0,b=s.callback,h=s.easing||t,d=s.a11y||!1,l=i(),void 0===o?"undefined":e(o)){case"number":a=void 0,d=!1,c=l+o;break;case"object":a=o,c=n(a);break;case"string":a=document.querySelector(o),c=n(a)}switch(f=c-l+u,e(s.duration)){case"number":p=s.duration;break;case"function":p=s.duration(f)}window.requestAnimationFrame(r)}var a=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0,m=void 0,v=void 0,b=void 0;return s}()})},{}],5:[function(t,e,i){(function(t){(function(){function n(t,e){return t.set(e[0],e[1]),t}function r(t,e){return t.add(e),t}function o(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function s(t,e,i,n){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(n,s,i(s),t)}return n}function a(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function l(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function c(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function u(t,e){for(var i=-1,n=null==t?0:t.length,r=0,o=[];++i<n;){var s=t[i];e(s,i,t)&&(o[r++]=s)}return o}function h(t,e){return!!(null==t?0:t.length)&&x(t,e,0)>-1}function d(t,e,i){for(var n=-1,r=null==t?0:t.length;++n<r;)if(i(e,t[n]))return!0;return!1}function f(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}function p(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function g(t,e,i,n){var r=-1,o=null==t?0:t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}function m(t,e,i,n){var r=null==t?0:t.length;for(n&&r&&(i=t[--r]);r--;)i=e(i,t[r],r,t);return i}function v(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function b(t){return t.split("")}function y(t){return t.match(Ue)||[]}function k(t,e,i){var n;return i(t,function(t,i,r){if(e(t,i,r))return n=i,!1}),n}function w(t,e,i,n){for(var r=t.length,o=i+(n?1:-1);n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function x(t,e,i){return e===e?Y(t,e,i):w(t,C,i)}function _(t,e,i,n){for(var r=i-1,o=t.length;++r<o;)if(n(t[r],e))return r;return-1}function C(t){return t!==t}function A(t,e){var i=null==t?0:t.length;return i?R(t,e)/i:Dt}function E(t){return function(e){return null==e?it:e[t]}}function T(t){return function(e){return null==t?it:t[e]}}function $(t,e,i,n,r){return r(t,function(t,r,o){i=n?(n=!1,t):e(i,t,r,o)}),i}function S(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}function R(t,e){for(var i,n=-1,r=t.length;++n<r;){var o=e(t[n]);o!==it&&(i=i===it?o:i+o)}return i}function B(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function L(t,e){return f(e,function(e){return[e,t[e]]})}function I(t){return function(e){return t(e)}}function N(t,e){return f(e,function(e){return t[e]})}function D(t,e){return t.has(e)}function O(t,e){for(var i=-1,n=t.length;++i<n&&x(e,t[i],0)>-1;);return i}function F(t,e){for(var i=t.length;i--&&x(e,t[i],0)>-1;);return i}function z(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}function H(t){return"\\"+Ji[t]}function P(t,e){return null==t?it:t[e]}function U(t){return Wi.test(t)}function M(t){return qi.test(t)}function j(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}function W(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}function q(t,e){return function(i){return t(e(i))}}function K(t,e){for(var i=-1,n=t.length,r=0,o=[];++i<n;){var s=t[i];s!==e&&s!==ct||(t[i]=ct,o[r++]=i)}return o}function G(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}function V(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=[t,t]}),i}function Y(t,e,i){for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function X(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}function Q(t){return U(t)?J(t):vn(t)}function Z(t){return U(t)?tt(t):b(t)}function J(t){for(var e=Mi.lastIndex=0;Mi.test(t);)++e;return e}function tt(t){return t.match(Mi)||[]}function et(t){return t.match(ji)||[]}var it,nt="4.17.4",rt=200,ot="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",at="__lodash_hash_undefined__",lt=500,ct="__lodash_placeholder__",ut=1,ht=2,dt=4,ft=1,pt=2,gt=1,mt=2,vt=4,bt=8,yt=16,kt=32,wt=64,xt=128,_t=256,Ct=512,At=30,Et="...",Tt=800,$t=16,St=1,Rt=2,Bt=3,Lt=1/0,It=9007199254740991,Nt=1.7976931348623157e308,Dt=NaN,Ot=4294967295,Ft=Ot-1,zt=Ot>>>1,Ht=[["ary",xt],["bind",gt],["bindKey",mt],["curry",bt],["curryRight",yt],["flip",Ct],["partial",kt],["partialRight",wt],["rearg",_t]],Pt="[object Arguments]",Ut="[object Array]",Mt="[object AsyncFunction]",jt="[object Boolean]",Wt="[object Date]",qt="[object DOMException]",Kt="[object Error]",Gt="[object Function]",Vt="[object GeneratorFunction]",Yt="[object Map]",Xt="[object Number]",Qt="[object Null]",Zt="[object Object]",Jt="[object Promise]",te="[object Proxy]",ee="[object RegExp]",ie="[object Set]",ne="[object String]",re="[object Symbol]",oe="[object Undefined]",se="[object WeakMap]",ae="[object WeakSet]",le="[object ArrayBuffer]",ce="[object DataView]",ue="[object Float32Array]",he="[object Float64Array]",de="[object Int8Array]",fe="[object Int16Array]",pe="[object Int32Array]",ge="[object Uint8Array]",me="[object Uint8ClampedArray]",ve="[object Uint16Array]",be="[object Uint32Array]",ye=/\b__p \+= '';/g,ke=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,_e=/[&<>"']/g,Ce=RegExp(xe.source),Ae=RegExp(_e.source),Ee=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,$e=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Re=/^\w*$/,Be=/^\./,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Ne=RegExp(Ie.source),De=/^\s+|\s+$/g,Oe=/^\s+/,Fe=/\s+$/,ze=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,Pe=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Me=/\\(\\)?/g,je=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,qe=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,Ge=/^\[object .+?Constructor\]$/,Ve=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qe=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",ti="\\u0300-\\u036f",ei="\\ufe20-\\ufe2f",ii="\\u20d0-\\u20ff",ni=ti+ei+ii,ri="\\u2700-\\u27bf",oi="a-z\\xdf-\\xf6\\xf8-\\xff",si="\\xac\\xb1\\xd7\\xf7",ai="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",li="\\u2000-\\u206f",ci=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ui="A-Z\\xc0-\\xd6\\xd8-\\xde",hi="\\ufe0e\\ufe0f",di=si+ai+li+ci,fi="['’]",pi="["+Je+"]",gi="["+di+"]",mi="["+ni+"]",vi="\\d+",bi="["+ri+"]",yi="["+oi+"]",ki="[^"+Je+di+vi+ri+oi+ui+"]",wi="\\ud83c[\\udffb-\\udfff]",xi="(?:"+mi+"|"+wi+")",_i="[^"+Je+"]",Ci="(?:\\ud83c[\\udde6-\\uddff]){2}",Ai="[\\ud800-\\udbff][\\udc00-\\udfff]",Ei="["+ui+"]",Ti="\\u200d",$i="(?:"+yi+"|"+ki+")",Si="(?:"+Ei+"|"+ki+")",Ri="(?:"+fi+"(?:d|ll|m|re|s|t|ve))?",Bi="(?:"+fi+"(?:D|LL|M|RE|S|T|VE))?",Li=xi+"?",Ii="["+hi+"]?",Ni="(?:"+Ti+"(?:"+[_i,Ci,Ai].join("|")+")"+Ii+Li+")*",Di="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Oi="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Fi=Ii+Li+Ni,zi="(?:"+[bi,Ci,Ai].join("|")+")"+Fi,Hi="(?:"+[_i+mi+"?",mi,Ci,Ai,pi].join("|")+")",Pi=RegExp(fi,"g"),Ui=RegExp(mi,"g"),Mi=RegExp(wi+"(?="+wi+")|"+Hi+Fi,"g"),ji=RegExp([Ei+"?"+yi+"+"+Ri+"(?="+[gi,Ei,"$"].join("|")+")",Si+"+"+Bi+"(?="+[gi,Ei+$i,"$"].join("|")+")",Ei+"?"+$i+"+"+Ri,Ei+"+"+Bi,Oi,Di,vi,zi].join("|"),"g"),Wi=RegExp("["+Ti+Je+ni+hi+"]"),qi=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ki=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gi=-1,Vi={};Vi[ue]=Vi[he]=Vi[de]=Vi[fe]=Vi[pe]=Vi[ge]=Vi[me]=Vi[ve]=Vi[be]=!0,Vi[Pt]=Vi[Ut]=Vi[le]=Vi[jt]=Vi[ce]=Vi[Wt]=Vi[Kt]=Vi[Gt]=Vi[Yt]=Vi[Xt]=Vi[Zt]=Vi[ee]=Vi[ie]=Vi[ne]=Vi[se]=!1;var Yi={};Yi[Pt]=Yi[Ut]=Yi[le]=Yi[ce]=Yi[jt]=Yi[Wt]=Yi[ue]=Yi[he]=Yi[de]=Yi[fe]=Yi[pe]=Yi[Yt]=Yi[Xt]=Yi[Zt]=Yi[ee]=Yi[ie]=Yi[ne]=Yi[re]=Yi[ge]=Yi[me]=Yi[ve]=Yi[be]=!0,Yi[Kt]=Yi[Gt]=Yi[se]=!1;var Xi={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Qi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ji={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tn=parseFloat,en=parseInt,nn="object"==typeof t&&t&&t.Object===Object&&t,rn="object"==typeof self&&self&&self.Object===Object&&self,on=nn||rn||Function("return this")(),sn="object"==typeof i&&i&&!i.nodeType&&i,an=sn&&"object"==typeof e&&e&&!e.nodeType&&e,ln=an&&an.exports===sn,cn=ln&&nn.process,un=function(){try{return cn&&cn.binding&&cn.binding("util")}catch(t){}}(),hn=un&&un.isArrayBuffer,dn=un&&un.isDate,fn=un&&un.isMap,pn=un&&un.isRegExp,gn=un&&un.isSet,mn=un&&un.isTypedArray,vn=E("length"),bn=T(Xi),yn=T(Qi),kn=T(Zi),wn=function t(e){function i(t){if(cl(t)&&!kd(t)&&!(t instanceof Y)){if(t instanceof T)return t;if(ku.call(t,"__wrapped__"))return ss(t)}return new T(t)}function b(){}function T(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function Y(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ot,this.__views__=[]}function J(){var t=new Y(this.__wrapped__);return t.__actions__=Pr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Pr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Pr(this.__views__),t}function tt(){if(this.__filtered__){var t=new Y(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ue(){var t=this.__wrapped__.value(),e=this.__dir__,i=kd(t),n=e<0,r=i?t.length:0,o=Ro(0,r,this.__views__),s=o.start,a=o.end,l=a-s,c=n?a:s-1,u=this.__iteratees__,h=u.length,d=0,f=Xu(l,this.__takeCount__);if(!i||!n&&r==l&&f==l)return wr(t,this.__actions__);var p=[];t:for(;l--&&d<f;){c+=e;for(var g=-1,m=t[c];++g<h;){var v=u[g],b=v.iteratee,y=v.type,k=b(m);if(y==Rt)m=k;else if(!k){if(y==St)continue t;break t}}p[d++]=m}return p}function Je(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function ti(){this.__data__=sh?sh(null):{},this.size=0}function ei(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function ii(t){var e=this.__data__;if(sh){var i=e[t];return i===at?it:i}return ku.call(e,t)?e[t]:it}function ni(t){var e=this.__data__;return sh?e[t]!==it:ku.call(e,t)}function ri(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=sh&&e===it?at:e,this}function oi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function si(){this.__data__=[],this.size=0}function ai(t){var e=this.__data__,i=Li(e,t);return!(i<0)&&(i==e.length-1?e.pop():Nu.call(e,i,1),--this.size,!0)}function li(t){var e=this.__data__,i=Li(e,t);return i<0?it:e[i][1]}function ci(t){return Li(this.__data__,t)>-1}function ui(t,e){var i=this.__data__,n=Li(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}function hi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function di(){this.size=0,this.__data__={hash:new Je,map:new(ih||oi),string:new Je}}function fi(t){var e=Eo(this,t).delete(t);return this.size-=e?1:0,e}function pi(t){return Eo(this,t).get(t)}function gi(t){return Eo(this,t).has(t)}function mi(t,e){var i=Eo(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}function vi(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new hi;++e<i;)this.add(t[e])}function bi(t){return this.__data__.set(t,at),this}function yi(t){return this.__data__.has(t)}function ki(t){var e=this.__data__=new oi(t);this.size=e.size}function wi(){this.__data__=new oi,this.size=0}function xi(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function _i(t){return this.__data__.get(t)}function Ci(t){return this.__data__.has(t)}function Ai(t,e){var i=this.__data__;if(i instanceof oi){var n=i.__data__;if(!ih||n.length<rt-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new hi(n)}return i.set(t,e),this.size=i.size,this}function Ei(t,e){var i=kd(t),n=!i&&yd(t),r=!i&&!n&&xd(t),o=!i&&!n&&!r&&Td(t),s=i||n||r||o,a=s?B(t.length,fu):[],l=a.length;for(var c in t)!e&&!ku.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zo(c,l))||a.push(c);return a}function Ti(t){var e=t.length;return e?t[ir(0,e-1)]:it}function $i(t,e){return is(Pr(t),zi(e,0,t.length))}function Si(t){return is(Pr(t))}function Ri(t,e,i){(i===it||Ya(t[e],i))&&(i!==it||e in t)||Oi(t,e,i)}function Bi(t,e,i){var n=t[e];ku.call(t,e)&&Ya(n,i)&&(i!==it||e in t)||Oi(t,e,i)}function Li(t,e){for(var i=t.length;i--;)if(Ya(t[i][0],e))return i;return-1}function Ii(t,e,i,n){return bh(t,function(t,r,o){e(n,t,i(t),o)}),n}function Ni(t,e){return t&&Ur(e,Wl(e),t)}function Di(t,e){return t&&Ur(e,ql(e),t)}function Oi(t,e,i){"__proto__"==e&&zu?zu(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Fi(t,e){for(var i=-1,n=e.length,r=su(n),o=null==t;++i<n;)r[i]=o?it:Ul(t,e[i]);return r}function zi(t,e,i){return t===t&&(i!==it&&(t=t<=i?t:i),e!==it&&(t=t>=e?t:e)),t}function Hi(t,e,i,n,r,o){var s,l=e&ut,c=e&ht,u=e&dt;if(i&&(s=r?i(t,n,r,o):i(t)),s!==it)return s;if(!ll(t))return t;var h=kd(t);if(h){if(s=Io(t),!l)return Pr(t,s)}else{var d=Rh(t),f=d==Gt||d==Vt;if(xd(t))return $r(t,l);if(d==Zt||d==Pt||f&&!r){if(s=c||f?{}:No(t),!l)return c?jr(t,Di(s,t)):Mr(t,Ni(s,t))}else{if(!Yi[d])return r?t:{};s=Do(t,d,Hi,l)}}o||(o=new ki);var p=o.get(t);if(p)return p;o.set(t,s);var g=u?c?xo:wo:c?ql:Wl,m=h?it:g(t);return a(m||t,function(n,r){m&&(r=n,n=t[r]),Bi(s,r,Hi(n,e,i,r,t,o))}),s}function Mi(t){var e=Wl(t);return function(i){return ji(i,t,e)}}function ji(t,e,i){var n=i.length;if(null==t)return!n;for(t=hu(t);n--;){var r=i[n],o=e[r],s=t[r];if(s===it&&!(r in t)||!o(s))return!1}return!0}function Wi(t,e,i){if("function"!=typeof t)throw new pu(st);return Ih(function(){t.apply(it,i)},e)}function qi(t,e,i,n){var r=-1,o=h,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;i&&(e=f(e,I(i))),n?(o=d,s=!1):e.length>=rt&&(o=D,s=!1,e=new vi(e));t:for(;++r<a;){var u=t[r],p=null==i?u:i(u);if(u=n||0!==u?u:0,s&&p===p){for(var g=c;g--;)if(e[g]===p)continue t;l.push(u)}else o(e,p,n)||l.push(u)}return l}function Xi(t,e){var i=!0;return bh(t,function(t,n,r){return i=!!e(t,n,r)}),i}function Qi(t,e,i){for(var n=-1,r=t.length;++n<r;){var o=t[n],s=e(o);if(null!=s&&(a===it?s===s&&!kl(s):i(s,a)))var a=s,l=o}return l}function Zi(t,e,i,n){var r=t.length;for(i=El(i),i<0&&(i=-i>r?0:r+i),n=n===it||n>r?r:El(n),n<0&&(n+=r),n=i>n?0:Tl(n);i<n;)t[i++]=e;return t}function Ji(t,e){var i=[];return bh(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i}function nn(t,e,i,n,r){var o=-1,s=t.length;for(i||(i=Fo),r||(r=[]);++o<s;){var a=t[o];e>0&&i(a)?e>1?nn(a,e-1,i,n,r):p(r,a):n||(r[r.length]=a)}return r}function rn(t,e){return t&&kh(t,e,Wl)}function sn(t,e){return t&&wh(t,e,Wl)}function an(t,e){return u(e,function(e){return ol(t[e])})}function cn(t,e){e=Er(e,t);for(var i=0,n=e.length;null!=t&&i<n;)t=t[ns(e[i++])];return i&&i==n?t:it}function un(t,e,i){var n=e(t);return kd(t)?n:p(n,i(t))}function vn(t){return null==t?t===it?oe:Qt:Fu&&Fu in hu(t)?So(t):Xo(t)}function wn(t,e){return t>e}function _n(t,e){return null!=t&&ku.call(t,e)}function Cn(t,e){return null!=t&&e in hu(t)}function An(t,e,i){return t>=Xu(e,i)&&t<Yu(e,i)}function En(t,e,i){for(var n=i?d:h,r=t[0].length,o=t.length,s=o,a=su(o),l=1/0,c=[];s--;){var u=t[s];s&&e&&(u=f(u,I(e))),l=Xu(u.length,l),a[s]=!i&&(e||r>=120&&u.length>=120)?new vi(s&&u):it}u=t[0];var p=-1,g=a[0];t:for(;++p<r&&c.length<l;){var m=u[p],v=e?e(m):m;if(m=i||0!==m?m:0,!(g?D(g,v):n(c,v,i))){for(s=o;--s;){var b=a[s];if(!(b?D(b,v):n(t[s],v,i)))continue t}g&&g.push(v),c.push(m)}}return c}function Tn(t,e,i,n){return rn(t,function(t,r,o){e(n,i(t),r,o)}),n}function $n(t,e,i){e=Er(e,t),t=Zo(t,e);var n=null==t?t:t[ns(As(e))];return null==n?it:o(n,t,i)}function Sn(t){return cl(t)&&vn(t)==Pt}function Rn(t){return cl(t)&&vn(t)==le}function Bn(t){return cl(t)&&vn(t)==Wt}function Ln(t,e,i,n,r){return t===e||(null==t||null==e||!cl(t)&&!cl(e)?t!==t&&e!==e:In(t,e,i,n,Ln,r))}function In(t,e,i,n,r,o){var s=kd(t),a=kd(e),l=s?Ut:Rh(t),c=a?Ut:Rh(e);l=l==Pt?Zt:l,c=c==Pt?Zt:c;var u=l==Zt,h=c==Zt,d=l==c;if(d&&xd(t)){if(!xd(e))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new ki),s||Td(t)?vo(t,e,i,n,r,o):bo(t,e,l,i,n,r,o);if(!(i&ft)){var f=u&&ku.call(t,"__wrapped__"),p=h&&ku.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return o||(o=new ki),r(g,m,i,n,o)}}return!!d&&(o||(o=new ki),yo(t,e,i,n,r,o))}function Nn(t){return cl(t)&&Rh(t)==Yt}function Dn(t,e,i,n){var r=i.length,o=r,s=!n;if(null==t)return!o;for(t=hu(t);r--;){var a=i[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=i[r];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===it&&!(l in t))return!1}else{var h=new ki;if(n)var d=n(c,u,l,t,e,h);if(!(d===it?Ln(u,c,ft|pt,n,h):d))return!1}}return!0}function On(t){return!(!ll(t)||jo(t))&&(ol(t)?Eu:Ge).test(rs(t))}function Fn(t){return cl(t)&&vn(t)==ee}function zn(t){return cl(t)&&Rh(t)==ie}function Hn(t){return cl(t)&&al(t.length)&&!!Vi[vn(t)]}function Pn(t){return"function"==typeof t?t:null==t?Nc:"object"==typeof t?kd(t)?Kn(t[0],t[1]):qn(t):Mc(t)}function Un(t){if(!Wo(t))return Vu(t);var e=[];for(var i in hu(t))ku.call(t,i)&&"constructor"!=i&&e.push(i);return e}function Mn(t){if(!ll(t))return Yo(t);var e=Wo(t),i=[];for(var n in t)("constructor"!=n||!e&&ku.call(t,n))&&i.push(n);return i}function jn(t,e){return t<e}function Wn(t,e){var i=-1,n=Xa(t)?su(t.length):[];return bh(t,function(t,r,o){n[++i]=e(t,r,o)}),n}function qn(t){var e=To(t);return 1==e.length&&e[0][2]?Ko(e[0][0],e[0][1]):function(i){return i===t||Dn(i,t,e)}}function Kn(t,e){return Po(t)&&qo(e)?Ko(ns(t),e):function(i){var n=Ul(i,t);return n===it&&n===e?jl(i,t):Ln(e,n,ft|pt)}}function Gn(t,e,i,n,r){t!==e&&kh(e,function(o,s){if(ll(o))r||(r=new ki),Vn(t,e,s,i,Gn,n,r);else{var a=n?n(t[s],o,s+"",t,e,r):it;a===it&&(a=o),Ri(t,s,a)}},ql)}function Vn(t,e,i,n,r,o,s){var a=t[i],l=e[i],c=s.get(l);if(c)return void Ri(t,i,c);var u=o?o(a,l,i+"",t,e,s):it,h=u===it;if(h){var d=kd(l),f=!d&&xd(l),p=!d&&!f&&Td(l);u=l,d||f||p?kd(a)?u=a:Qa(a)?u=Pr(a):f?(h=!1,u=$r(l,!0)):p?(h=!1,u=Dr(l,!0)):u=[]:vl(l)||yd(l)?(u=a,yd(a)?u=Sl(a):(!ll(a)||n&&ol(a))&&(u=No(l))):h=!1}h&&(s.set(l,u),r(u,l,n,o,s),s.delete(l)),Ri(t,i,u)}function Yn(t,e){var i=t.length;if(i)return e+=e<0?i:0,zo(e,i)?t[e]:it}function Xn(t,e,i){var n=-1;return e=f(e.length?e:[Nc],I(Ao())),S(Wn(t,function(t,i,r){return{criteria:f(e,function(e){return e(t)}),index:++n,value:t}}),function(t,e){return Fr(t,e,i)})}function Qn(t,e){return Zn(t,e,function(e,i){return jl(t,i)})}function Zn(t,e,i){for(var n=-1,r=e.length,o={};++n<r;){var s=e[n],a=cn(t,s);i(a,s)&&lr(o,Er(s,t),a)}return o}function Jn(t){return function(e){return cn(e,t)}}function tr(t,e,i,n){var r=n?_:x,o=-1,s=e.length,a=t;for(t===e&&(e=Pr(e)),i&&(a=f(t,I(i)));++o<s;)for(var l=0,c=e[o],u=i?i(c):c;(l=r(a,u,l,n))>-1;)a!==t&&Nu.call(a,l,1),Nu.call(t,l,1);return t}function er(t,e){for(var i=t?e.length:0,n=i-1;i--;){var r=e[i];if(i==n||r!==o){var o=r;zo(r)?Nu.call(t,r,1):br(t,r)}}return t}function ir(t,e){return t+ju(Ju()*(e-t+1))}function nr(t,e,i,n){for(var r=-1,o=Yu(Mu((e-t)/(i||1)),0),s=su(o);o--;)s[n?o:++r]=t,t+=i;return s}function rr(t,e){var i="";if(!t||e<1||e>It)return i;do{e%2&&(i+=t),(e=ju(e/2))&&(t+=t)}while(e);return i}function or(t,e){return Nh(Qo(t,e,Nc),t+"")}function sr(t){return Ti(nc(t))}function ar(t,e){var i=nc(t);return is(i,zi(e,0,i.length))}function lr(t,e,i,n){if(!ll(t))return t;e=Er(e,t);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var l=ns(e[r]),c=i;if(r!=s){var u=a[l];c=n?n(u,l,a):it,c===it&&(c=ll(u)?u:zo(e[r+1])?[]:{})}Bi(a,l,c),a=a[l]}return t}function cr(t){return is(nc(t))}function ur(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),i=i>r?r:i,i<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var o=su(r);++n<r;)o[n]=t[n+e];return o}function hr(t,e){var i;return bh(t,function(t,n,r){return!(i=e(t,n,r))}),!!i}function dr(t,e,i){var n=0,r=null==t?n:t.length;if("number"==typeof e&&e===e&&r<=zt){for(;n<r;){var o=n+r>>>1,s=t[o];null!==s&&!kl(s)&&(i?s<=e:s<e)?n=o+1:r=o}return r}return fr(t,e,Nc,i)}function fr(t,e,i,n){e=i(e);for(var r=0,o=null==t?0:t.length,s=e!==e,a=null===e,l=kl(e),c=e===it;r<o;){var u=ju((r+o)/2),h=i(t[u]),d=h!==it,f=null===h,p=h===h,g=kl(h);if(s)var m=n||p;else m=c?p&&(n||d):a?p&&d&&(n||!f):l?p&&d&&!f&&(n||!g):!f&&!g&&(n?h<=e:h<e);m?r=u+1:o=u}return Xu(o,Ft)}function pr(t,e){for(var i=-1,n=t.length,r=0,o=[];++i<n;){var s=t[i],a=e?e(s):s;if(!i||!Ya(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function gr(t){return"number"==typeof t?t:kl(t)?Dt:+t}function mr(t){if("string"==typeof t)return t;if(kd(t))return f(t,mr)+"";if(kl(t))return mh?mh.call(t):"";var e=t+"";return"0"==e&&1/t==-Lt?"-0":e}function vr(t,e,i){var n=-1,r=h,o=t.length,s=!0,a=[],l=a;if(i)s=!1,r=d;else if(o>=rt){var c=e?null:Eh(t);if(c)return G(c);s=!1,r=D,l=new vi}else l=e?[]:a;t:for(;++n<o;){var u=t[n],f=e?e(u):u;if(u=i||0!==u?u:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue t;e&&l.push(f),a.push(u)}else r(l,f,i)||(l!==a&&l.push(f),a.push(u))}return a}function br(t,e){return e=Er(e,t),null==(t=Zo(t,e))||delete t[ns(As(e))]}function yr(t,e,i,n){return lr(t,e,i(cn(t,e)),n)}function kr(t,e,i,n){for(var r=t.length,o=n?r:-1;(n?o--:++o<r)&&e(t[o],o,t););return i?ur(t,n?0:o,n?o+1:r):ur(t,n?o+1:0,n?r:o)}function wr(t,e){var i=t;return i instanceof Y&&(i=i.value()),g(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},i)}function xr(t,e,i){var n=t.length;if(n<2)return n?vr(t[0]):[];for(var r=-1,o=su(n);++r<n;)for(var s=t[r],a=-1;++a<n;)a!=r&&(o[r]=qi(o[r]||s,t[a],e,i));return vr(nn(o,1),e,i)}function _r(t,e,i){for(var n=-1,r=t.length,o=e.length,s={};++n<r;){var a=n<o?e[n]:it;i(s,t[n],a)}return s}function Cr(t){return Qa(t)?t:[]}function Ar(t){return"function"==typeof t?t:Nc}function Er(t,e){return kd(t)?t:Po(t,e)?[t]:Dh(Bl(t))}function Tr(t,e,i){var n=t.length;return i=i===it?n:i,!e&&i>=n?t:ur(t,e,i)}function $r(t,e){if(e)return t.slice();var i=t.length,n=Ru?Ru(i):new t.constructor(i);return t.copy(n),n}function Sr(t){var e=new t.constructor(t.byteLength);return new Su(e).set(new Su(t)),e}function Rr(t,e){var i=e?Sr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function Br(t,e,i){return g(e?i(W(t),ut):W(t),n,new t.constructor)}function Lr(t){var e=new t.constructor(t.source,We.exec(t));return e.lastIndex=t.lastIndex,e}function Ir(t,e,i){return g(e?i(G(t),ut):G(t),r,new t.constructor)}function Nr(t){return gh?hu(gh.call(t)):{}}function Dr(t,e){var i=e?Sr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Or(t,e){if(t!==e){var i=t!==it,n=null===t,r=t===t,o=kl(t),s=e!==it,a=null===e,l=e===e,c=kl(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||n&&s&&l||!i&&l||!r)return 1;if(!n&&!o&&!c&&t<e||c&&i&&r&&!n&&!o||a&&i&&r||!s&&r||!l)return-1}return 0}function Fr(t,e,i){for(var n=-1,r=t.criteria,o=e.criteria,s=r.length,a=i.length;++n<s;){var l=Or(r[n],o[n]);if(l){if(n>=a)return l;return l*("desc"==i[n]?-1:1)}}return t.index-e.index}function zr(t,e,i,n){for(var r=-1,o=t.length,s=i.length,a=-1,l=e.length,c=Yu(o-s,0),u=su(l+c),h=!n;++a<l;)u[a]=e[a];for(;++r<s;)(h||r<o)&&(u[i[r]]=t[r]);for(;c--;)u[a++]=t[r++];return u}function Hr(t,e,i,n){for(var r=-1,o=t.length,s=-1,a=i.length,l=-1,c=e.length,u=Yu(o-a,0),h=su(u+c),d=!n;++r<u;)h[r]=t[r];for(var f=r;++l<c;)h[f+l]=e[l];for(;++s<a;)(d||r<o)&&(h[f+i[s]]=t[r++]);return h}function Pr(t,e){var i=-1,n=t.length;for(e||(e=su(n));++i<n;)e[i]=t[i];return e}function Ur(t,e,i,n){var r=!i;i||(i={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=n?n(i[a],t[a],a,i,t):it;l===it&&(l=t[a]),r?Oi(i,a,l):Bi(i,a,l)}return i}function Mr(t,e){return Ur(t,$h(t),e)}function jr(t,e){return Ur(t,Sh(t),e)}function Wr(t,e){return function(i,n){var r=kd(i)?s:Ii,o=e?e():{};return r(i,t,Ao(n,2),o)}}function qr(t){return or(function(e,i){var n=-1,r=i.length,o=r>1?i[r-1]:it,s=r>2?i[2]:it;for(o=t.length>3&&"function"==typeof o?(r--,o):it,s&&Ho(i[0],i[1],s)&&(o=r<3?it:o,r=1),e=hu(e);++n<r;){var a=i[n];a&&t(e,a,n,o)}return e})}function Kr(t,e){return function(i,n){if(null==i)return i;if(!Xa(i))return t(i,n);for(var r=i.length,o=e?r:-1,s=hu(i);(e?o--:++o<r)&&!1!==n(s[o],o,s););return i}}function Gr(t){return function(e,i,n){for(var r=-1,o=hu(e),s=n(e),a=s.length;a--;){var l=s[t?a:++r];if(!1===i(o[l],l,o))break}return e}}function Vr(t,e,i){function n(){return(this&&this!==on&&this instanceof n?o:t).apply(r?i:this,arguments)}var r=e&gt,o=Qr(t);return n}function Yr(t){return function(e){e=Bl(e);var i=U(e)?Z(e):it,n=i?i[0]:e.charAt(0),r=i?Tr(i,1).join(""):e.slice(1);return n[t]()+r}}function Xr(t){return function(e){return g(Sc(cc(e).replace(Pi,"")),t,"")}}function Qr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=vh(t.prototype),n=t.apply(i,e);return ll(n)?n:i}}function Zr(t,e,i){function n(){for(var s=arguments.length,a=su(s),l=s,c=Co(n);l--;)a[l]=arguments[l];var u=s<3&&a[0]!==c&&a[s-1]!==c?[]:K(a,c);return(s-=u.length)<i?co(t,e,eo,n.placeholder,it,a,u,it,it,i-s):o(this&&this!==on&&this instanceof n?r:t,this,a)}var r=Qr(t);return n}function Jr(t){return function(e,i,n){var r=hu(e);if(!Xa(e)){var o=Ao(i,3);e=Wl(e),i=function(t){return o(r[t],t,r)}}var s=t(e,i,n);return s>-1?r[o?e[s]:s]:it}}function to(t){return ko(function(e){var i=e.length,n=i,r=T.prototype.thru;for(t&&e.reverse();n--;){var o=e[n];if("function"!=typeof o)throw new pu(st);if(r&&!s&&"wrapper"==_o(o))var s=new T([],!0)}for(n=s?n:i;++n<i;){o=e[n];var a=_o(o),l="wrapper"==a?Th(o):it;s=l&&Mo(l[0])&&l[1]==(xt|bt|kt|_t)&&!l[4].length&&1==l[9]?s[_o(l[0])].apply(s,l[3]):1==o.length&&Mo(o)?s[a]():s.thru(o)}return function(){var t=arguments,n=t[0];if(s&&1==t.length&&kd(n))return s.plant(n).value();for(var r=0,o=i?e[r].apply(this,t):n;++r<i;)o=e[r].call(this,o);return o}})}function eo(t,e,i,n,r,o,s,a,l,c){function u(){for(var v=arguments.length,b=su(v),y=v;y--;)b[y]=arguments[y];if(p)var k=Co(u),w=z(b,k);if(n&&(b=zr(b,n,r,p)),o&&(b=Hr(b,o,s,p)),v-=w,p&&v<c){var x=K(b,k);return co(t,e,eo,u.placeholder,i,b,x,a,l,c-v)}var _=d?i:this,C=f?_[t]:t;return v=b.length,a?b=Jo(b,a):g&&v>1&&b.reverse(),h&&l<v&&(b.length=l),this&&this!==on&&this instanceof u&&(C=m||Qr(C)),C.apply(_,b)}var h=e&xt,d=e&gt,f=e&mt,p=e&(bt|yt),g=e&Ct,m=f?it:Qr(t);return u}function io(t,e){return function(i,n){return Tn(i,t,e(n),{})}}function no(t,e){return function(i,n){var r;if(i===it&&n===it)return e;if(i!==it&&(r=i),n!==it){if(r===it)return n;"string"==typeof i||"string"==typeof n?(i=mr(i),n=mr(n)):(i=gr(i),n=gr(n)),r=t(i,n)}return r}}function ro(t){return ko(function(e){return e=f(e,I(Ao())),or(function(i){var n=this;return t(e,function(t){return o(t,n,i)})})})}function oo(t,e){e=e===it?" ":mr(e);var i=e.length;if(i<2)return i?rr(e,t):e;var n=rr(e,Mu(t/Q(e)));return U(e)?Tr(Z(n),0,t).join(""):n.slice(0,t)}function so(t,e,i,n){function r(){for(var e=-1,l=arguments.length,c=-1,u=n.length,h=su(u+l),d=this&&this!==on&&this instanceof r?a:t;++c<u;)h[c]=n[c];for(;l--;)h[c++]=arguments[++e];return o(d,s?i:this,h)}var s=e&gt,a=Qr(t);return r}function ao(t){return function(e,i,n){return n&&"number"!=typeof n&&Ho(e,i,n)&&(i=n=it),e=Al(e),i===it?(i=e,e=0):i=Al(i),n=n===it?e<i?1:-1:Al(n),nr(e,i,n,t)}}function lo(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=$l(e),i=$l(i)),t(e,i)}}function co(t,e,i,n,r,o,s,a,l,c){var u=e&bt,h=u?s:it,d=u?it:s,f=u?o:it,p=u?it:o;e|=u?kt:wt,(e&=~(u?wt:kt))&vt||(e&=~(gt|mt));var g=[t,e,r,f,h,p,d,a,l,c],m=i.apply(it,g);return Mo(t)&&Lh(m,g),m.placeholder=n,ts(m,t,e)}function uo(t){var e=uu[t];return function(t,i){if(t=$l(t),i=null==i?0:Xu(El(i),292)){var n=(Bl(t)+"e").split("e");return n=(Bl(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"),+(n[0]+"e"+(+n[1]-i))}return e(t)}}function ho(t){return function(e){var i=Rh(e);return i==Yt?W(e):i==ie?V(e):L(e,t(e))}}function fo(t,e,i,n,r,o,s,a){var l=e&mt;if(!l&&"function"!=typeof t)throw new pu(st);var c=n?n.length:0;if(c||(e&=~(kt|wt),n=r=it),s=s===it?s:Yu(El(s),0),a=a===it?a:El(a),c-=r?r.length:0,e&wt){var u=n,h=r;n=r=it}var d=l?it:Th(t),f=[t,e,i,n,r,u,h,o,s,a];if(d&&Vo(f,d),t=f[0],e=f[1],i=f[2],n=f[3],r=f[4],a=f[9]=f[9]===it?l?0:t.length:Yu(f[9]-c,0),!a&&e&(bt|yt)&&(e&=~(bt|yt)),e&&e!=gt)p=e==bt||e==yt?Zr(t,e,a):e!=kt&&e!=(gt|kt)||r.length?eo.apply(it,f):so(t,e,i,n);else var p=Vr(t,e,i);return ts((d?xh:Lh)(p,f),t,e)}function po(t,e,i,n){return t===it||Ya(t,vu[i])&&!ku.call(n,i)?e:t}function go(t,e,i,n,r,o){return ll(t)&&ll(e)&&(o.set(e,t),Gn(t,e,it,go,o),o.delete(e)),t}function mo(t){return vl(t)?it:t}function vo(t,e,i,n,r,o){var s=i&ft,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var u=-1,h=!0,d=i&pt?new vi:it;for(o.set(t,e),o.set(e,t);++u<a;){var f=t[u],p=e[u];if(n)var g=s?n(p,f,u,e,t,o):n(f,p,u,t,e,o);if(g!==it){if(g)continue;h=!1;break}if(d){if(!v(e,function(t,e){if(!D(d,e)&&(f===t||r(f,t,i,n,o)))return d.push(e)})){h=!1;break}}else if(f!==p&&!r(f,p,i,n,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function bo(t,e,i,n,r,o,s){switch(i){case ce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case le:return!(t.byteLength!=e.byteLength||!o(new Su(t),new Su(e)));case jt:case Wt:case Xt:return Ya(+t,+e);case Kt:return t.name==e.name&&t.message==e.message;case ee:case ne:return t==e+"";case Yt:var a=W;case ie:var l=n&ft;if(a||(a=G),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=pt,s.set(t,e);var u=vo(a(t),a(e),n,r,o,s);return s.delete(t),u;case re:if(gh)return gh.call(t)==gh.call(e)}return!1}function yo(t,e,i,n,r,o){var s=i&ft,a=wo(t),l=a.length;if(l!=wo(e).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in e:ku.call(e,u)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);for(var f=s;++c<l;){u=a[c];var p=t[u],g=e[u];if(n)var m=s?n(g,p,u,e,t,o):n(p,g,u,t,e,o);if(!(m===it?p===g||r(p,g,i,n,o):m)){d=!1;break}f||(f="constructor"==u)}if(d&&!f){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(t),o.delete(e),d}function ko(t){return Nh(Qo(t,it,vs),t+"")}function wo(t){return un(t,Wl,$h)}function xo(t){return un(t,ql,Sh)}function _o(t){for(var e=t.name+"",i=lh[e],n=ku.call(lh,e)?i.length:0;n--;){var r=i[n],o=r.func;if(null==o||o==t)return r.name}return e}function Co(t){return(ku.call(i,"placeholder")?i:t).placeholder}function Ao(){var t=i.iteratee||Dc;return t=t===Dc?Pn:t,arguments.length?t(arguments[0],arguments[1]):t}function Eo(t,e){var i=t.__data__;return Uo(e)?i["string"==typeof e?"string":"hash"]:i.map}function To(t){for(var e=Wl(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,qo(r)]}return e}function $o(t,e){var i=P(t,e);return On(i)?i:it}function So(t){var e=ku.call(t,Fu),i=t[Fu];try{t[Fu]=it;var n=!0}catch(t){}var r=_u.call(t);return n&&(e?t[Fu]=i:delete t[Fu]),r}function Ro(t,e,i){for(var n=-1,r=i.length;++n<r;){var o=i[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Xu(e,t+s);break;case"takeRight":t=Yu(t,e-s)}}return{start:t,end:e}}function Bo(t){var e=t.match(He);return e?e[1].split(Pe):[]}function Lo(t,e,i){e=Er(e,t);for(var n=-1,r=e.length,o=!1;++n<r;){var s=ns(e[n]);if(!(o=null!=t&&i(t,s)))break;t=t[s]}return o||++n!=r?o:!!(r=null==t?0:t.length)&&al(r)&&zo(s,r)&&(kd(t)||yd(t))}function Io(t){var e=t.length,i=t.constructor(e);return e&&"string"==typeof t[0]&&ku.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function No(t){return"function"!=typeof t.constructor||Wo(t)?{}:vh(Bu(t))}function Do(t,e,i,n){var r=t.constructor;switch(e){case le:return Sr(t);case jt:case Wt:return new r(+t);case ce:return Rr(t,n);case ue:case he:case de:case fe:case pe:case ge:case me:case ve:case be:return Dr(t,n);case Yt:return Br(t,n,i);case Xt:case ne:return new r(t);case ee:return Lr(t);case ie:return Ir(t,n,i);case re:return Nr(t)}}function Oo(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(ze,"{\n/* [wrapped with "+e+"] */\n")}function Fo(t){return kd(t)||yd(t)||!!(Du&&t&&t[Du])}function zo(t,e){return!!(e=null==e?It:e)&&("number"==typeof t||Ye.test(t))&&t>-1&&t%1==0&&t<e}function Ho(t,e,i){if(!ll(i))return!1;var n=typeof e;return!!("number"==n?Xa(i)&&zo(e,i.length):"string"==n&&e in i)&&Ya(i[e],t)}function Po(t,e){if(kd(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!kl(t))||(Re.test(t)||!Se.test(t)||null!=e&&t in hu(e))}function Uo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Mo(t){var e=_o(t),n=i[e];if("function"!=typeof n||!(e in Y.prototype))return!1;if(t===n)return!0;var r=Th(n);return!!r&&t===r[0]}function jo(t){return!!xu&&xu in t}function Wo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||vu)}function qo(t){return t===t&&!ll(t)}function Ko(t,e){return function(i){return null!=i&&(i[t]===e&&(e!==it||t in hu(i)))}}function Go(t){var e=Da(t,function(t){return i.size===lt&&i.clear(),t}),i=e.cache;return e}function Vo(t,e){var i=t[1],n=e[1],r=i|n,o=r<(gt|mt|xt),s=n==xt&&i==bt||n==xt&&i==_t&&t[7].length<=e[8]||n==(xt|_t)&&e[7].length<=e[8]&&i==bt;if(!o&&!s)return t;n&gt&&(t[2]=e[2],r|=i&gt?0:vt);var a=e[3];if(a){var l=t[3];t[3]=l?zr(l,a,e[4]):a,t[4]=l?K(t[3],ct):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?Hr(l,a,e[6]):a,t[6]=l?K(t[5],ct):e[6]),a=e[7],a&&(t[7]=a),n&xt&&(t[8]=null==t[8]?e[8]:Xu(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Yo(t){var e=[];if(null!=t)for(var i in hu(t))e.push(i);return e}function Xo(t){return _u.call(t)}function Qo(t,e,i){return e=Yu(e===it?t.length-1:e,0),function(){for(var n=arguments,r=-1,s=Yu(n.length-e,0),a=su(s);++r<s;)a[r]=n[e+r];r=-1;for(var l=su(e+1);++r<e;)l[r]=n[r];return l[e]=i(a),o(t,this,l)}}function Zo(t,e){return e.length<2?t:cn(t,ur(e,0,-1))}function Jo(t,e){for(var i=t.length,n=Xu(e.length,i),r=Pr(t);n--;){var o=e[n];t[n]=zo(o,i)?r[o]:it}return t}function ts(t,e,i){var n=e+"";return Nh(t,Oo(n,os(Bo(n),i)))}function es(t){var e=0,i=0;return function(){var n=Qu(),r=$t-(n-i);if(i=n,r>0){if(++e>=Tt)return arguments[0]}else e=0;return t.apply(it,arguments)}}function is(t,e){var i=-1,n=t.length,r=n-1;for(e=e===it?n:e;++i<e;){var o=ir(i,r),s=t[o];t[o]=t[i],t[i]=s}return t.length=e,t}function ns(t){if("string"==typeof t||kl(t))return t;var e=t+"";return"0"==e&&1/t==-Lt?"-0":e}function rs(t){if(null!=t){try{return yu.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function os(t,e){return a(Ht,function(i){var n="_."+i[0];e&i[1]&&!h(t,n)&&t.push(n)}),t.sort()}function ss(t){if(t instanceof Y)return t.clone();var e=new T(t.__wrapped__,t.__chain__);return e.__actions__=Pr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function as(t,e,i){e=(i?Ho(t,e,i):e===it)?1:Yu(El(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var r=0,o=0,s=su(Mu(n/e));r<n;)s[o++]=ur(t,r,r+=e);return s}function ls(t){for(var e=-1,i=null==t?0:t.length,n=0,r=[];++e<i;){var o=t[e];o&&(r[n++]=o)}return r}function cs(){var t=arguments.length;if(!t)return[];for(var e=su(t-1),i=arguments[0],n=t;n--;)e[n-1]=arguments[n];return p(kd(i)?Pr(i):[i],nn(e,1))}function us(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===it?1:El(e),ur(t,e<0?0:e,n)):[]}function hs(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===it?1:El(e),e=n-e,ur(t,0,e<0?0:e)):[]}function ds(t,e){return t&&t.length?kr(t,Ao(e,3),!0,!0):[]}function fs(t,e){return t&&t.length?kr(t,Ao(e,3),!0):[]}function ps(t,e,i,n){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&Ho(t,e,i)&&(i=0,n=r),Zi(t,e,i,n)):[]}function gs(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=null==i?0:El(i);return r<0&&(r=Yu(n+r,0)),w(t,Ao(e,3),r)}function ms(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n-1;return i!==it&&(r=El(i),r=i<0?Yu(n+r,0):Xu(r,n-1)),w(t,Ao(e,3),r,!0)}function vs(t){return(null==t?0:t.length)?nn(t,1):[]}function bs(t){return(null==t?0:t.length)?nn(t,Lt):[]}function ys(t,e){return(null==t?0:t.length)?(e=e===it?1:El(e),nn(t,e)):[]}function ks(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var r=t[e];n[r[0]]=r[1]}return n}function ws(t){return t&&t.length?t[0]:it}function xs(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=null==i?0:El(i);return r<0&&(r=Yu(n+r,0)),x(t,e,r)}function _s(t){return(null==t?0:t.length)?ur(t,0,-1):[]}function Cs(t,e){return null==t?"":Gu.call(t,e)}function As(t){var e=null==t?0:t.length;return e?t[e-1]:it}function Es(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n;return i!==it&&(r=El(i),r=r<0?Yu(n+r,0):Xu(r,n-1)),e===e?X(t,e,r):w(t,C,r,!0)}function Ts(t,e){return t&&t.length?Yn(t,El(e)):it}function $s(t,e){return t&&t.length&&e&&e.length?tr(t,e):t}function Ss(t,e,i){return t&&t.length&&e&&e.length?tr(t,e,Ao(i,2)):t}function Rs(t,e,i){return t&&t.length&&e&&e.length?tr(t,e,it,i):t}function Bs(t,e){var i=[];if(!t||!t.length)return i;var n=-1,r=[],o=t.length;for(e=Ao(e,3);++n<o;){var s=t[n];e(s,n,t)&&(i.push(s),r.push(n))}return er(t,r),i}function Ls(t){return null==t?t:th.call(t)}function Is(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&Ho(t,e,i)?(e=0,i=n):(e=null==e?0:El(e),i=i===it?n:El(i)),ur(t,e,i)):[]}function Ns(t,e){return dr(t,e)}function Ds(t,e,i){return fr(t,e,Ao(i,2))}function Os(t,e){var i=null==t?0:t.length;if(i){var n=dr(t,e);if(n<i&&Ya(t[n],e))return n}return-1}function Fs(t,e){return dr(t,e,!0)}function zs(t,e,i){return fr(t,e,Ao(i,2),!0)}function Hs(t,e){if(null==t?0:t.length){var i=dr(t,e,!0)-1;if(Ya(t[i],e))return i}return-1}function Ps(t){return t&&t.length?pr(t):[]}function Us(t,e){return t&&t.length?pr(t,Ao(e,2)):[]}function Ms(t){var e=null==t?0:t.length;return e?ur(t,1,e):[]}function js(t,e,i){return t&&t.length?(e=i||e===it?1:El(e),ur(t,0,e<0?0:e)):[]}function Ws(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===it?1:El(e),e=n-e,ur(t,e<0?0:e,n)):[]}function qs(t,e){return t&&t.length?kr(t,Ao(e,3),!1,!0):[]}function Ks(t,e){return t&&t.length?kr(t,Ao(e,3)):[]}function Gs(t){return t&&t.length?vr(t):[]}function Vs(t,e){return t&&t.length?vr(t,Ao(e,2)):[]}function Ys(t,e){return e="function"==typeof e?e:it,t&&t.length?vr(t,it,e):[]}function Xs(t){if(!t||!t.length)return[];var e=0;return t=u(t,function(t){if(Qa(t))return e=Yu(t.length,e),!0}),B(e,function(e){return f(t,E(e))})}function Qs(t,e){if(!t||!t.length)return[];var i=Xs(t);return null==e?i:f(i,function(t){return o(e,it,t)})}function Zs(t,e){return _r(t||[],e||[],Bi)}function Js(t,e){return _r(t||[],e||[],lr)}function ta(t){var e=i(t);return e.__chain__=!0,e}function ea(t,e){return e(t),t}function ia(t,e){return e(t)}function na(){return ta(this)}function ra(){return new T(this.value(),this.__chain__)}function oa(){this.__values__===it&&(this.__values__=Cl(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?it:this.__values__[this.__index__++]}}function sa(){return this}function aa(t){for(var e,i=this;i instanceof b;){var n=ss(i);n.__index__=0,n.__values__=it,e?r.__wrapped__=n:e=n;var r=n;i=i.__wrapped__}return r.__wrapped__=t,e}function la(){var t=this.__wrapped__;if(t instanceof Y){var e=t;return this.__actions__.length&&(e=new Y(this)),e=e.reverse(),e.__actions__.push({func:ia,args:[Ls],thisArg:it}),new T(e,this.__chain__)}return this.thru(Ls)}function ca(){return wr(this.__wrapped__,this.__actions__)}function ua(t,e,i){var n=kd(t)?c:Xi;return i&&Ho(t,e,i)&&(e=it),n(t,Ao(e,3))}function ha(t,e){return(kd(t)?u:Ji)(t,Ao(e,3))}function da(t,e){return nn(ba(t,e),1)}function fa(t,e){return nn(ba(t,e),Lt)}function pa(t,e,i){return i=i===it?1:El(i),nn(ba(t,e),i)}function ga(t,e){return(kd(t)?a:bh)(t,Ao(e,3))}function ma(t,e){return(kd(t)?l:yh)(t,Ao(e,3))}function va(t,e,i,n){t=Xa(t)?t:nc(t),i=i&&!n?El(i):0;var r=t.length;return i<0&&(i=Yu(r+i,0)),yl(t)?i<=r&&t.indexOf(e,i)>-1:!!r&&x(t,e,i)>-1}function ba(t,e){return(kd(t)?f:Wn)(t,Ao(e,3))}function ya(t,e,i,n){return null==t?[]:(kd(e)||(e=null==e?[]:[e]),i=n?it:i,kd(i)||(i=null==i?[]:[i]),Xn(t,e,i))}function ka(t,e,i){var n=kd(t)?g:$,r=arguments.length<3;return n(t,Ao(e,4),i,r,bh)}function wa(t,e,i){var n=kd(t)?m:$,r=arguments.length<3;return n(t,Ao(e,4),i,r,yh)}function xa(t,e){return(kd(t)?u:Ji)(t,Oa(Ao(e,3)))}function _a(t){return(kd(t)?Ti:sr)(t)}function Ca(t,e,i){return e=(i?Ho(t,e,i):e===it)?1:El(e),(kd(t)?$i:ar)(t,e)}function Aa(t){return(kd(t)?Si:cr)(t)}function Ea(t){if(null==t)return 0;if(Xa(t))return yl(t)?Q(t):t.length;var e=Rh(t);return e==Yt||e==ie?t.size:Un(t).length}function Ta(t,e,i){var n=kd(t)?v:hr;return i&&Ho(t,e,i)&&(e=it),n(t,Ao(e,3))}function $a(t,e){if("function"!=typeof e)throw new pu(st);return t=El(t),function(){if(--t<1)return e.apply(this,arguments)}}function Sa(t,e,i){return e=i?it:e,e=t&&null==e?t.length:e,fo(t,xt,it,it,it,it,e)}function Ra(t,e){var i;if("function"!=typeof e)throw new pu(st);return t=El(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=it),i}}function Ba(t,e,i){e=i?it:e;var n=fo(t,bt,it,it,it,it,it,e);return n.placeholder=Ba.placeholder,n}function La(t,e,i){e=i?it:e;var n=fo(t,yt,it,it,it,it,it,e);return n.placeholder=La.placeholder,n}function Ia(t,e,i){function n(e){var i=d,n=f;return d=f=it,b=e,g=t.apply(n,i)}function r(t){return b=t,m=Ih(a,e),y?n(t):g}function o(t){var i=t-v,n=t-b,r=e-i;return k?Xu(r,p-n):r}function s(t){var i=t-v,n=t-b;return v===it||i>=e||i<0||k&&n>=p}function a(){var t=ld();if(s(t))return l(t);m=Ih(a,o(t))}function l(t){return m=it,w&&d?n(t):(d=f=it,g)}function c(){m!==it&&Ah(m),b=0,d=v=f=m=it}function u(){return m===it?g:l(ld())}function h(){var t=ld(),i=s(t);if(d=arguments,f=this,v=t,i){if(m===it)return r(v);if(k)return m=Ih(a,e),n(v)}return m===it&&(m=Ih(a,e)),g}var d,f,p,g,m,v,b=0,y=!1,k=!1,w=!0;if("function"!=typeof t)throw new pu(st);return e=$l(e)||0,ll(i)&&(y=!!i.leading,k="maxWait"in i,p=k?Yu($l(i.maxWait)||0,e):p,w="trailing"in i?!!i.trailing:w),h.cancel=c,h.flush=u,h}function Na(t){return fo(t,Ct)}function Da(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new pu(st);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var s=t.apply(this,n);return i.cache=o.set(r,s)||o,s};return i.cache=new(Da.Cache||hi),i}function Oa(t){if("function"!=typeof t)throw new pu(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Fa(t){return Ra(2,t)}function za(t,e){if("function"!=typeof t)throw new pu(st);return e=e===it?e:El(e),or(t,e)}function Ha(t,e){if("function"!=typeof t)throw new pu(st);return e=null==e?0:Yu(El(e),0),or(function(i){var n=i[e],r=Tr(i,0,e);return n&&p(r,n),o(t,this,r)})}function Pa(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw new pu(st);return ll(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),Ia(t,e,{leading:n,maxWait:e,trailing:r})}function Ua(t){return Sa(t,1)}function Ma(t,e){return pd(Ar(e),t)}function ja(){if(!arguments.length)return[];var t=arguments[0];return kd(t)?t:[t]}function Wa(t){return Hi(t,dt)}function qa(t,e){return e="function"==typeof e?e:it,Hi(t,dt,e)}function Ka(t){return Hi(t,ut|dt)}function Ga(t,e){return e="function"==typeof e?e:it,Hi(t,ut|dt,e)}function Va(t,e){return null==e||ji(t,e,Wl(e))}function Ya(t,e){return t===e||t!==t&&e!==e}function Xa(t){return null!=t&&al(t.length)&&!ol(t)}function Qa(t){return cl(t)&&Xa(t)}function Za(t){return!0===t||!1===t||cl(t)&&vn(t)==jt}function Ja(t){return cl(t)&&1===t.nodeType&&!vl(t)}function tl(t){if(null==t)return!0;if(Xa(t)&&(kd(t)||"string"==typeof t||"function"==typeof t.splice||xd(t)||Td(t)||yd(t)))return!t.length;var e=Rh(t);if(e==Yt||e==ie)return!t.size;if(Wo(t))return!Un(t).length;for(var i in t)if(ku.call(t,i))return!1;return!0}function el(t,e){return Ln(t,e)}function il(t,e,i){i="function"==typeof i?i:it;var n=i?i(t,e):it;return n===it?Ln(t,e,it,i):!!n}function nl(t){if(!cl(t))return!1;var e=vn(t);return e==Kt||e==qt||"string"==typeof t.message&&"string"==typeof t.name&&!vl(t)}function rl(t){return"number"==typeof t&&Ku(t)}function ol(t){if(!ll(t))return!1;var e=vn(t);return e==Gt||e==Vt||e==Mt||e==te}function sl(t){return"number"==typeof t&&t==El(t)}function al(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=It}function ll(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function cl(t){return null!=t&&"object"==typeof t}function ul(t,e){return t===e||Dn(t,e,To(e))}function hl(t,e,i){return i="function"==typeof i?i:it,Dn(t,e,To(e),i)}function dl(t){return ml(t)&&t!=+t}function fl(t){if(Bh(t))throw new lu(ot);return On(t)}function pl(t){return null===t}function gl(t){return null==t}function ml(t){return"number"==typeof t||cl(t)&&vn(t)==Xt}function vl(t){if(!cl(t)||vn(t)!=Zt)return!1;var e=Bu(t);if(null===e)return!0;var i=ku.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&yu.call(i)==Cu}function bl(t){return sl(t)&&t>=-It&&t<=It}function yl(t){return"string"==typeof t||!kd(t)&&cl(t)&&vn(t)==ne}function kl(t){return"symbol"==typeof t||cl(t)&&vn(t)==re}function wl(t){return t===it}function xl(t){return cl(t)&&Rh(t)==se}function _l(t){return cl(t)&&vn(t)==ae}function Cl(t){if(!t)return[];if(Xa(t))return yl(t)?Z(t):Pr(t);if(Ou&&t[Ou])return j(t[Ou]());var e=Rh(t);return(e==Yt?W:e==ie?G:nc)(t)}function Al(t){if(!t)return 0===t?t:0;if((t=$l(t))===Lt||t===-Lt){return(t<0?-1:1)*Nt}return t===t?t:0}function El(t){var e=Al(t),i=e%1;return e===e?i?e-i:e:0}function Tl(t){return t?zi(El(t),0,Ot):0}function $l(t){if("number"==typeof t)return t;if(kl(t))return Dt;if(ll(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ll(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(De,"");var i=Ke.test(t);return i||Ve.test(t)?en(t.slice(2),i?2:8):qe.test(t)?Dt:+t}function Sl(t){return Ur(t,ql(t))}function Rl(t){return t?zi(El(t),-It,It):0===t?t:0}function Bl(t){return null==t?"":mr(t)}function Ll(t,e){var i=vh(t);return null==e?i:Ni(i,e)}function Il(t,e){return k(t,Ao(e,3),rn)}function Nl(t,e){return k(t,Ao(e,3),sn)}function Dl(t,e){return null==t?t:kh(t,Ao(e,3),ql)}function Ol(t,e){return null==t?t:wh(t,Ao(e,3),ql)}function Fl(t,e){return t&&rn(t,Ao(e,3))}function zl(t,e){return t&&sn(t,Ao(e,3))}function Hl(t){return null==t?[]:an(t,Wl(t))}function Pl(t){return null==t?[]:an(t,ql(t))}function Ul(t,e,i){var n=null==t?it:cn(t,e);return n===it?i:n}function Ml(t,e){return null!=t&&Lo(t,e,_n)}function jl(t,e){return null!=t&&Lo(t,e,Cn)}function Wl(t){return Xa(t)?Ei(t):Un(t)}function ql(t){return Xa(t)?Ei(t,!0):Mn(t)}function Kl(t,e){var i={};return e=Ao(e,3),rn(t,function(t,n,r){Oi(i,e(t,n,r),t)}),i}function Gl(t,e){var i={};return e=Ao(e,3),rn(t,function(t,n,r){Oi(i,n,e(t,n,r))}),i}function Vl(t,e){return Yl(t,Oa(Ao(e)))}function Yl(t,e){if(null==t)return{};var i=f(xo(t),function(t){return[t]});return e=Ao(e),Zn(t,i,function(t,i){return e(t,i[0])})}function Xl(t,e,i){e=Er(e,t);var n=-1,r=e.length;for(r||(r=1,t=it);++n<r;){var o=null==t?it:t[ns(e[n])];o===it&&(n=r,o=i),t=ol(o)?o.call(t):o}return t}function Ql(t,e,i){return null==t?t:lr(t,e,i)}function Zl(t,e,i,n){return n="function"==typeof n?n:it,null==t?t:lr(t,e,i,n)}function Jl(t,e,i){var n=kd(t),r=n||xd(t)||Td(t);if(e=Ao(e,4),null==i){var o=t&&t.constructor;i=r?n?new o:[]:ll(t)&&ol(o)?vh(Bu(t)):{}}return(r?a:rn)(t,function(t,n,r){return e(i,t,n,r)}),i}function tc(t,e){return null==t||br(t,e)}function ec(t,e,i){return null==t?t:yr(t,e,Ar(i))}function ic(t,e,i,n){return n="function"==typeof n?n:it,null==t?t:yr(t,e,Ar(i),n)}function nc(t){return null==t?[]:N(t,Wl(t))}function rc(t){return null==t?[]:N(t,ql(t))}function oc(t,e,i){return i===it&&(i=e,e=it),i!==it&&(i=$l(i),i=i===i?i:0),e!==it&&(e=$l(e),e=e===e?e:0),zi($l(t),e,i)}function sc(t,e,i){return e=Al(e),i===it?(i=e,e=0):i=Al(i),t=$l(t),An(t,e,i)}function ac(t,e,i){if(i&&"boolean"!=typeof i&&Ho(t,e,i)&&(e=i=it),i===it&&("boolean"==typeof e?(i=e,e=it):"boolean"==typeof t&&(i=t,t=it)),t===it&&e===it?(t=0,e=1):(t=Al(t),e===it?(e=t,t=0):e=Al(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var r=Ju();return Xu(t+r*(e-t+tn("1e-"+((r+"").length-1))),e)}return ir(t,e)}function lc(t){return Jd(Bl(t).toLowerCase())}function cc(t){return(t=Bl(t))&&t.replace(Xe,bn).replace(Ui,"")}function uc(t,e,i){t=Bl(t),e=mr(e);var n=t.length;i=i===it?n:zi(El(i),0,n);var r=i;return(i-=e.length)>=0&&t.slice(i,r)==e}function hc(t){return t=Bl(t),t&&Ae.test(t)?t.replace(_e,yn):t}function dc(t){return t=Bl(t),t&&Ne.test(t)?t.replace(Ie,"\\$&"):t}function fc(t,e,i){t=Bl(t),e=El(e);var n=e?Q(t):0;if(!e||n>=e)return t;var r=(e-n)/2;return oo(ju(r),i)+t+oo(Mu(r),i)}function pc(t,e,i){t=Bl(t),e=El(e);var n=e?Q(t):0;return e&&n<e?t+oo(e-n,i):t}function gc(t,e,i){t=Bl(t),e=El(e);var n=e?Q(t):0;return e&&n<e?oo(e-n,i)+t:t}function mc(t,e,i){return i||null==e?e=0:e&&(e=+e),Zu(Bl(t).replace(Oe,""),e||0)}function vc(t,e,i){return e=(i?Ho(t,e,i):e===it)?1:El(e),rr(Bl(t),e)}function bc(){var t=arguments,e=Bl(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function yc(t,e,i){return i&&"number"!=typeof i&&Ho(t,e,i)&&(e=i=it),(i=i===it?Ot:i>>>0)?(t=Bl(t),t&&("string"==typeof e||null!=e&&!Ad(e))&&!(e=mr(e))&&U(t)?Tr(Z(t),0,i):t.split(e,i)):[]}function kc(t,e,i){return t=Bl(t),i=null==i?0:zi(El(i),0,t.length),e=mr(e),t.slice(i,i+e.length)==e}function wc(t,e,n){var r=i.templateSettings;n&&Ho(t,e,n)&&(e=it),t=Bl(t),e=Ld({},e,r,po);var o,s,a=Ld({},e.imports,r.imports,po),l=Wl(a),c=N(a,l),u=0,h=e.interpolate||Qe,d="__p += '",f=du((e.escape||Qe).source+"|"+h.source+"|"+(h===$e?je:Qe).source+"|"+(e.evaluate||Qe).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Gi+"]")+"\n";t.replace(f,function(e,i,n,r,a,l){return n||(n=r),d+=t.slice(u,l).replace(Ze,H),i&&(o=!0,d+="' +\n__e("+i+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),d+="';\n";var g=e.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(ye,""):d).replace(ke,"$1").replace(we,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=tf(function(){return cu(l,p+"return "+d).apply(it,c)});if(m.source=d,nl(m))throw m;return m}function xc(t){return Bl(t).toLowerCase()}function _c(t){return Bl(t).toUpperCase()}function Cc(t,e,i){if((t=Bl(t))&&(i||e===it))return t.replace(De,"");if(!t||!(e=mr(e)))return t;var n=Z(t),r=Z(e);return Tr(n,O(n,r),F(n,r)+1).join("")}function Ac(t,e,i){if((t=Bl(t))&&(i||e===it))return t.replace(Fe,"");if(!t||!(e=mr(e)))return t;var n=Z(t);return Tr(n,0,F(n,Z(e))+1).join("")}function Ec(t,e,i){if((t=Bl(t))&&(i||e===it))return t.replace(Oe,"");if(!t||!(e=mr(e)))return t;var n=Z(t);return Tr(n,O(n,Z(e))).join("")}function Tc(t,e){var i=At,n=Et;if(ll(e)){var r="separator"in e?e.separator:r;i="length"in e?El(e.length):i,n="omission"in e?mr(e.omission):n}t=Bl(t);var o=t.length;if(U(t)){var s=Z(t);o=s.length}if(i>=o)return t;var a=i-Q(n);if(a<1)return n;var l=s?Tr(s,0,a).join(""):t.slice(0,a);if(r===it)return l+n;if(s&&(a+=l.length-a),Ad(r)){if(t.slice(a).search(r)){var c,u=l;for(r.global||(r=du(r.source,Bl(We.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var h=c.index;l=l.slice(0,h===it?a:h)}}else if(t.indexOf(mr(r),a)!=a){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+n}function $c(t){return t=Bl(t),t&&Ce.test(t)?t.replace(xe,kn):t}function Sc(t,e,i){return t=Bl(t),e=i?it:e,e===it?M(t)?et(t):y(t):t.match(e)||[]}function Rc(t){var e=null==t?0:t.length,i=Ao();return t=e?f(t,function(t){if("function"!=typeof t[1])throw new pu(st);return[i(t[0]),t[1]]}):[],or(function(i){for(var n=-1;++n<e;){var r=t[n];if(o(r[0],this,i))return o(r[1],this,i)}})}function Bc(t){return Mi(Hi(t,ut))}function Lc(t){return function(){return t}}function Ic(t,e){return null==t||t!==t?e:t}function Nc(t){return t}function Dc(t){return Pn("function"==typeof t?t:Hi(t,ut))}function Oc(t){return qn(Hi(t,ut))}function Fc(t,e){return Kn(t,Hi(e,ut))}function zc(t,e,i){var n=Wl(e),r=an(e,n);null!=i||ll(e)&&(r.length||!n.length)||(i=e,e=t,t=this,r=an(e,Wl(e)));var o=!(ll(i)&&"chain"in i&&!i.chain),s=ol(t);return a(r,function(i){var n=e[i];t[i]=n,s&&(t.prototype[i]=function(){var e=this.__chain__;if(o||e){var i=t(this.__wrapped__);return(i.__actions__=Pr(this.__actions__)).push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,p([this.value()],arguments))})}),t}function Hc(){return on._===this&&(on._=Au),this}function Pc(){}function Uc(t){return t=El(t),or(function(e){return Yn(e,t)})}function Mc(t){return Po(t)?E(ns(t)):Jn(t)}function jc(t){return function(e){return null==t?it:cn(t,e)}}function Wc(){return[]}function qc(){return!1}function Kc(){return{}}function Gc(){return""}function Vc(){return!0}function Yc(t,e){if((t=El(t))<1||t>It)return[];var i=Ot,n=Xu(t,Ot);e=Ao(e),t-=Ot;for(var r=B(n,e);++i<t;)e(i);return r}function Xc(t){return kd(t)?f(t,ns):kl(t)?[t]:Pr(Dh(Bl(t)))}function Qc(t){var e=++wu;return Bl(t)+e}function Zc(t){return t&&t.length?Qi(t,Nc,wn):it}function Jc(t,e){return t&&t.length?Qi(t,Ao(e,2),wn):it}function tu(t){return A(t,Nc)}function eu(t,e){return A(t,Ao(e,2))}function iu(t){return t&&t.length?Qi(t,Nc,jn):it}function nu(t,e){return t&&t.length?Qi(t,Ao(e,2),jn):it}function ru(t){return t&&t.length?R(t,Nc):0}function ou(t,e){return t&&t.length?R(t,Ao(e,2)):0}e=null==e?on:xn.defaults(on.Object(),e,xn.pick(on,Ki));var su=e.Array,au=e.Date,lu=e.Error,cu=e.Function,uu=e.Math,hu=e.Object,du=e.RegExp,fu=e.String,pu=e.TypeError,gu=su.prototype,mu=cu.prototype,vu=hu.prototype,bu=e["__core-js_shared__"],yu=mu.toString,ku=vu.hasOwnProperty,wu=0,xu=function(){var t=/[^.]+$/.exec(bu&&bu.keys&&bu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),_u=vu.toString,Cu=yu.call(hu),Au=on._,Eu=du("^"+yu.call(ku).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tu=ln?e.Buffer:it,$u=e.Symbol,Su=e.Uint8Array,Ru=Tu?Tu.allocUnsafe:it,Bu=q(hu.getPrototypeOf,hu),Lu=hu.create,Iu=vu.propertyIsEnumerable,Nu=gu.splice,Du=$u?$u.isConcatSpreadable:it,Ou=$u?$u.iterator:it,Fu=$u?$u.toStringTag:it,zu=function(){try{var t=$o(hu,"defineProperty");return t({},"",{}),t}catch(t){}}(),Hu=e.clearTimeout!==on.clearTimeout&&e.clearTimeout,Pu=au&&au.now!==on.Date.now&&au.now,Uu=e.setTimeout!==on.setTimeout&&e.setTimeout,Mu=uu.ceil,ju=uu.floor,Wu=hu.getOwnPropertySymbols,qu=Tu?Tu.isBuffer:it,Ku=e.isFinite,Gu=gu.join,Vu=q(hu.keys,hu),Yu=uu.max,Xu=uu.min,Qu=au.now,Zu=e.parseInt,Ju=uu.random,th=gu.reverse,eh=$o(e,"DataView"),ih=$o(e,"Map"),nh=$o(e,"Promise"),rh=$o(e,"Set"),oh=$o(e,"WeakMap"),sh=$o(hu,"create"),ah=oh&&new oh,lh={},ch=rs(eh),uh=rs(ih),hh=rs(nh),dh=rs(rh),fh=rs(oh),ph=$u?$u.prototype:it,gh=ph?ph.valueOf:it,mh=ph?ph.toString:it,vh=function(){function t(){}return function(e){if(!ll(e))return{};if(Lu)return Lu(e);t.prototype=e;var i=new t;return t.prototype=it,i}}();i.templateSettings={escape:Ee,evaluate:Te,interpolate:$e,variable:"",imports:{_:i}},i.prototype=b.prototype,i.prototype.constructor=i,T.prototype=vh(b.prototype),T.prototype.constructor=T,Y.prototype=vh(b.prototype),Y.prototype.constructor=Y,Je.prototype.clear=ti,Je.prototype.delete=ei,Je.prototype.get=ii,Je.prototype.has=ni,Je.prototype.set=ri,oi.prototype.clear=si,oi.prototype.delete=ai,oi.prototype.get=li,oi.prototype.has=ci,oi.prototype.set=ui,hi.prototype.clear=di,hi.prototype.delete=fi,hi.prototype.get=pi,hi.prototype.has=gi,hi.prototype.set=mi,vi.prototype.add=vi.prototype.push=bi,vi.prototype.has=yi,ki.prototype.clear=wi,ki.prototype.delete=xi,ki.prototype.get=_i,ki.prototype.has=Ci,ki.prototype.set=Ai;var bh=Kr(rn),yh=Kr(sn,!0),kh=Gr(),wh=Gr(!0),xh=ah?function(t,e){return ah.set(t,e),t}:Nc,_h=zu?function(t,e){return zu(t,"toString",{configurable:!0,enumerable:!1,value:Lc(e),writable:!0})}:Nc,Ch=or,Ah=Hu||function(t){return on.clearTimeout(t)},Eh=rh&&1/G(new rh([,-0]))[1]==Lt?function(t){return new rh(t)}:Pc,Th=ah?function(t){return ah.get(t)}:Pc,$h=Wu?function(t){return null==t?[]:(t=hu(t),u(Wu(t),function(e){return Iu.call(t,e)}))}:Wc,Sh=Wu?function(t){for(var e=[];t;)p(e,$h(t)),t=Bu(t);return e}:Wc,Rh=vn;(eh&&Rh(new eh(new ArrayBuffer(1)))!=ce||ih&&Rh(new ih)!=Yt||nh&&Rh(nh.resolve())!=Jt||rh&&Rh(new rh)!=ie||oh&&Rh(new oh)!=se)&&(Rh=function(t){var e=vn(t),i=e==Zt?t.constructor:it,n=i?rs(i):"";if(n)switch(n){case ch:return ce;case uh:return Yt;case hh:return Jt;case dh:return ie;case fh:return se}return e});var Bh=bu?ol:qc,Lh=es(xh),Ih=Uu||function(t,e){return on.setTimeout(t,e)},Nh=es(_h),Dh=Go(function(t){var e=[];return Be.test(t)&&e.push(""),t.replace(Le,function(t,i,n,r){e.push(n?r.replace(Me,"$1"):i||t)}),e}),Oh=or(function(t,e){return Qa(t)?qi(t,nn(e,1,Qa,!0)):[]}),Fh=or(function(t,e){var i=As(e);return Qa(i)&&(i=it),Qa(t)?qi(t,nn(e,1,Qa,!0),Ao(i,2)):[]}),zh=or(function(t,e){var i=As(e);return Qa(i)&&(i=it),Qa(t)?qi(t,nn(e,1,Qa,!0),it,i):[]}),Hh=or(function(t){var e=f(t,Cr);return e.length&&e[0]===t[0]?En(e):[]}),Ph=or(function(t){var e=As(t),i=f(t,Cr);return e===As(i)?e=it:i.pop(),i.length&&i[0]===t[0]?En(i,Ao(e,2)):[]}),Uh=or(function(t){var e=As(t),i=f(t,Cr);return e="function"==typeof e?e:it,e&&i.pop(),i.length&&i[0]===t[0]?En(i,it,e):[]}),Mh=or($s),jh=ko(function(t,e){var i=null==t?0:t.length,n=Fi(t,e);return er(t,f(e,function(t){return zo(t,i)?+t:t}).sort(Or)),n}),Wh=or(function(t){return vr(nn(t,1,Qa,!0))}),qh=or(function(t){var e=As(t);return Qa(e)&&(e=it),vr(nn(t,1,Qa,!0),Ao(e,2))}),Kh=or(function(t){var e=As(t);return e="function"==typeof e?e:it,vr(nn(t,1,Qa,!0),it,e)}),Gh=or(function(t,e){return Qa(t)?qi(t,e):[]}),Vh=or(function(t){return xr(u(t,Qa))}),Yh=or(function(t){var e=As(t);return Qa(e)&&(e=it),xr(u(t,Qa),Ao(e,2))}),Xh=or(function(t){var e=As(t);return e="function"==typeof e?e:it,xr(u(t,Qa),it,e)}),Qh=or(Xs),Zh=or(function(t){var e=t.length,i=e>1?t[e-1]:it;return i="function"==typeof i?(t.pop(),i):it,Qs(t,i)}),Jh=ko(function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,r=function(e){return Fi(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Y&&zo(i)?(n=n.slice(i,+i+(e?1:0)),n.__actions__.push({func:ia,args:[r],thisArg:it}),new T(n,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(r)}),td=Wr(function(t,e,i){ku.call(t,i)?++t[i]:Oi(t,i,1)}),ed=Jr(gs),id=Jr(ms),nd=Wr(function(t,e,i){ku.call(t,i)?t[i].push(e):Oi(t,i,[e])}),rd=or(function(t,e,i){var n=-1,r="function"==typeof e,s=Xa(t)?su(t.length):[];return bh(t,function(t){s[++n]=r?o(e,t,i):$n(t,e,i)}),s}),od=Wr(function(t,e,i){Oi(t,i,e)}),sd=Wr(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]}),ad=or(function(t,e){if(null==t)return[];var i=e.length;return i>1&&Ho(t,e[0],e[1])?e=[]:i>2&&Ho(e[0],e[1],e[2])&&(e=[e[0]]),Xn(t,nn(e,1),[])}),ld=Pu||function(){return on.Date.now()},cd=or(function(t,e,i){var n=gt;if(i.length){var r=K(i,Co(cd));n|=kt}return fo(t,n,e,i,r)}),ud=or(function(t,e,i){var n=gt|mt;if(i.length){var r=K(i,Co(ud));n|=kt}return fo(e,n,t,i,r)}),hd=or(function(t,e){return Wi(t,1,e)}),dd=or(function(t,e,i){return Wi(t,$l(e)||0,i)});Da.Cache=hi;var fd=Ch(function(t,e){e=1==e.length&&kd(e[0])?f(e[0],I(Ao())):f(nn(e,1),I(Ao()));var i=e.length;return or(function(n){for(var r=-1,s=Xu(n.length,i);++r<s;)n[r]=e[r].call(this,n[r]);return o(t,this,n)})}),pd=or(function(t,e){var i=K(e,Co(pd));return fo(t,kt,it,e,i)}),gd=or(function(t,e){var i=K(e,Co(gd));return fo(t,wt,it,e,i)}),md=ko(function(t,e){return fo(t,_t,it,it,it,e)}),vd=lo(wn),bd=lo(function(t,e){return t>=e}),yd=Sn(function(){return arguments}())?Sn:function(t){return cl(t)&&ku.call(t,"callee")&&!Iu.call(t,"callee")},kd=su.isArray,wd=hn?I(hn):Rn,xd=qu||qc,_d=dn?I(dn):Bn,Cd=fn?I(fn):Nn,Ad=pn?I(pn):Fn,Ed=gn?I(gn):zn,Td=mn?I(mn):Hn,$d=lo(jn),Sd=lo(function(t,e){return t<=e}),Rd=qr(function(t,e){if(Wo(e)||Xa(e))return void Ur(e,Wl(e),t);for(var i in e)ku.call(e,i)&&Bi(t,i,e[i])}),Bd=qr(function(t,e){Ur(e,ql(e),t)}),Ld=qr(function(t,e,i,n){Ur(e,ql(e),t,n)}),Id=qr(function(t,e,i,n){Ur(e,Wl(e),t,n)}),Nd=ko(Fi),Dd=or(function(t){return t.push(it,po),o(Ld,it,t)}),Od=or(function(t){return t.push(it,go),o(Ud,it,t)}),Fd=io(function(t,e,i){t[e]=i},Lc(Nc)),zd=io(function(t,e,i){ku.call(t,e)?t[e].push(i):t[e]=[i]},Ao),Hd=or($n),Pd=qr(function(t,e,i){Gn(t,e,i)}),Ud=qr(function(t,e,i,n){Gn(t,e,i,n)}),Md=ko(function(t,e){var i={};if(null==t)return i;var n=!1;e=f(e,function(e){return e=Er(e,t),n||(n=e.length>1),e}),Ur(t,xo(t),i),n&&(i=Hi(i,ut|ht|dt,mo));for(var r=e.length;r--;)br(i,e[r]);return i}),jd=ko(function(t,e){return null==t?{}:Qn(t,e)}),Wd=ho(Wl),qd=ho(ql),Kd=Xr(function(t,e,i){return e=e.toLowerCase(),t+(i?lc(e):e)}),Gd=Xr(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),Vd=Xr(function(t,e,i){return t+(i?" ":"")+e.toLowerCase()}),Yd=Yr("toLowerCase"),Xd=Xr(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}),Qd=Xr(function(t,e,i){return t+(i?" ":"")+Jd(e)}),Zd=Xr(function(t,e,i){return t+(i?" ":"")+e.toUpperCase()}),Jd=Yr("toUpperCase"),tf=or(function(t,e){try{return o(t,it,e)}catch(t){return nl(t)?t:new lu(t)}}),ef=ko(function(t,e){return a(e,function(e){e=ns(e),Oi(t,e,cd(t[e],t))}),t}),nf=to(),rf=to(!0),of=or(function(t,e){return function(i){return $n(i,t,e)}}),sf=or(function(t,e){return function(i){return $n(t,i,e)}}),af=ro(f),lf=ro(c),cf=ro(v),uf=ao(),hf=ao(!0),df=no(function(t,e){return t+e},0),ff=uo("ceil"),pf=no(function(t,e){return t/e},1),gf=uo("floor"),mf=no(function(t,e){return t*e},1),vf=uo("round"),bf=no(function(t,e){return t-e},0);return i.after=$a,i.ary=Sa,i.assign=Rd,i.assignIn=Bd,i.assignInWith=Ld,i.assignWith=Id,i.at=Nd,i.before=Ra,i.bind=cd,i.bindAll=ef,i.bindKey=ud,i.castArray=ja,i.chain=ta,i.chunk=as,i.compact=ls,i.concat=cs,i.cond=Rc,i.conforms=Bc,i.constant=Lc,i.countBy=td,i.create=Ll,i.curry=Ba,i.curryRight=La,i.debounce=Ia,i.defaults=Dd,i.defaultsDeep=Od,i.defer=hd,i.delay=dd,i.difference=Oh,i.differenceBy=Fh,i.differenceWith=zh,i.drop=us,i.dropRight=hs,i.dropRightWhile=ds,i.dropWhile=fs,i.fill=ps,i.filter=ha,i.flatMap=da,i.flatMapDeep=fa,i.flatMapDepth=pa,i.flatten=vs,i.flattenDeep=bs,i.flattenDepth=ys,i.flip=Na,i.flow=nf,i.flowRight=rf,i.fromPairs=ks,i.functions=Hl,i.functionsIn=Pl,i.groupBy=nd,i.initial=_s,i.intersection=Hh,i.intersectionBy=Ph,i.intersectionWith=Uh,i.invert=Fd,i.invertBy=zd,i.invokeMap=rd,i.iteratee=Dc,i.keyBy=od,i.keys=Wl,i.keysIn=ql,i.map=ba,i.mapKeys=Kl,i.mapValues=Gl,i.matches=Oc,i.matchesProperty=Fc,i.memoize=Da,i.merge=Pd,i.mergeWith=Ud,i.method=of,i.methodOf=sf,i.mixin=zc,i.negate=Oa,i.nthArg=Uc,i.omit=Md,i.omitBy=Vl,i.once=Fa,i.orderBy=ya,i.over=af,i.overArgs=fd,i.overEvery=lf,i.overSome=cf,i.partial=pd,i.partialRight=gd,i.partition=sd,i.pick=jd,i.pickBy=Yl,i.property=Mc,i.propertyOf=jc,i.pull=Mh,i.pullAll=$s,i.pullAllBy=Ss,i.pullAllWith=Rs,i.pullAt=jh,i.range=uf,i.rangeRight=hf,i.rearg=md,i.reject=xa,i.remove=Bs,i.rest=za,i.reverse=Ls,i.sampleSize=Ca,i.set=Ql,i.setWith=Zl,i.shuffle=Aa,i.slice=Is,i.sortBy=ad,i.sortedUniq=Ps,i.sortedUniqBy=Us,i.split=yc,i.spread=Ha,i.tail=Ms,i.take=js,i.takeRight=Ws,i.takeRightWhile=qs,i.takeWhile=Ks,i.tap=ea,i.throttle=Pa,i.thru=ia,i.toArray=Cl,i.toPairs=Wd,i.toPairsIn=qd,i.toPath=Xc,i.toPlainObject=Sl,i.transform=Jl,i.unary=Ua,i.union=Wh,i.unionBy=qh,i.unionWith=Kh,i.uniq=Gs,i.uniqBy=Vs,i.uniqWith=Ys,i.unset=tc,i.unzip=Xs,i.unzipWith=Qs,i.update=ec,i.updateWith=ic,i.values=nc,i.valuesIn=rc,i.without=Gh,i.words=Sc,i.wrap=Ma,i.xor=Vh,i.xorBy=Yh,i.xorWith=Xh,i.zip=Qh,i.zipObject=Zs,i.zipObjectDeep=Js,i.zipWith=Zh,i.entries=Wd,i.entriesIn=qd,i.extend=Bd,i.extendWith=Ld,zc(i,i),i.add=df,i.attempt=tf,i.camelCase=Kd,i.capitalize=lc,i.ceil=ff,i.clamp=oc,i.clone=Wa,i.cloneDeep=Ka,i.cloneDeepWith=Ga,i.cloneWith=qa,i.conformsTo=Va,i.deburr=cc,i.defaultTo=Ic,i.divide=pf,i.endsWith=uc,i.eq=Ya,i.escape=hc,i.escapeRegExp=dc,i.every=ua,i.find=ed,i.findIndex=gs,i.findKey=Il,i.findLast=id,i.findLastIndex=ms,i.findLastKey=Nl,i.floor=gf,i.forEach=ga,i.forEachRight=ma,i.forIn=Dl,i.forInRight=Ol,i.forOwn=Fl,i.forOwnRight=zl,i.get=Ul,i.gt=vd,i.gte=bd,i.has=Ml,i.hasIn=jl,i.head=ws,i.identity=Nc,i.includes=va,i.indexOf=xs,i.inRange=sc,i.invoke=Hd,i.isArguments=yd,i.isArray=kd,i.isArrayBuffer=wd,i.isArrayLike=Xa,i.isArrayLikeObject=Qa,i.isBoolean=Za,i.isBuffer=xd,i.isDate=_d,i.isElement=Ja,i.isEmpty=tl,i.isEqual=el,i.isEqualWith=il,i.isError=nl,i.isFinite=rl,i.isFunction=ol,i.isInteger=sl,i.isLength=al,i.isMap=Cd,i.isMatch=ul,i.isMatchWith=hl,i.isNaN=dl,i.isNative=fl,i.isNil=gl,i.isNull=pl,i.isNumber=ml,i.isObject=ll,i.isObjectLike=cl,i.isPlainObject=vl,i.isRegExp=Ad,i.isSafeInteger=bl,i.isSet=Ed,i.isString=yl,i.isSymbol=kl,i.isTypedArray=Td,i.isUndefined=wl,i.isWeakMap=xl,i.isWeakSet=_l,i.join=Cs,i.kebabCase=Gd,i.last=As,i.lastIndexOf=Es,i.lowerCase=Vd,i.lowerFirst=Yd,i.lt=$d,i.lte=Sd,i.max=Zc,i.maxBy=Jc,i.mean=tu,i.meanBy=eu,i.min=iu,i.minBy=nu,i.stubArray=Wc,i.stubFalse=qc,i.stubObject=Kc,i.stubString=Gc,i.stubTrue=Vc,i.multiply=mf,i.nth=Ts,i.noConflict=Hc,i.noop=Pc,i.now=ld,i.pad=fc,i.padEnd=pc,i.padStart=gc,i.parseInt=mc,i.random=ac,i.reduce=ka,i.reduceRight=wa,i.repeat=vc,i.replace=bc,i.result=Xl,i.round=vf,i.runInContext=t,i.sample=_a,i.size=Ea,i.snakeCase=Xd,i.some=Ta,i.sortedIndex=Ns,i.sortedIndexBy=Ds,i.sortedIndexOf=Os,i.sortedLastIndex=Fs,i.sortedLastIndexBy=zs,i.sortedLastIndexOf=Hs,i.startCase=Qd,i.startsWith=kc,i.subtract=bf,i.sum=ru,i.sumBy=ou,i.template=wc,i.times=Yc,i.toFinite=Al,i.toInteger=El,i.toLength=Tl,i.toLower=xc,i.toNumber=$l,i.toSafeInteger=Rl,i.toString=Bl,i.toUpper=_c,i.trim=Cc,i.trimEnd=Ac,i.trimStart=Ec,i.truncate=Tc,i.unescape=$c,i.uniqueId=Qc,i.upperCase=Zd,i.upperFirst=Jd,i.each=ga,i.eachRight=ma,i.first=ws,zc(i,function(){var t={};return rn(i,function(e,n){ku.call(i.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),i.VERSION=nt,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){i[t].placeholder=i}),a(["drop","take"],function(t,e){Y.prototype[t]=function(i){i=i===it?1:Yu(El(i),0);var n=this.__filtered__&&!e?new Y(this):this.clone();return n.__filtered__?n.__takeCount__=Xu(i,n.__takeCount__):n.__views__.push({size:Xu(i,Ot),type:t+(n.__dir__<0?"Right":"")}),n},Y.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),a(["filter","map","takeWhile"],function(t,e){var i=e+1,n=i==St||i==Bt;Y.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ao(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}}),a(["head","last"],function(t,e){var i="take"+(e?"Right":"");Y.prototype[t]=function(){return this[i](1).value()[0]}}),a(["initial","tail"],function(t,e){var i="drop"+(e?"":"Right");Y.prototype[t]=function(){return this.__filtered__?new Y(this):this[i](1)}}),Y.prototype.compact=function(){return this.filter(Nc)},Y.prototype.find=function(t){return this.filter(t).head()},Y.prototype.findLast=function(t){return this.reverse().find(t)},Y.prototype.invokeMap=or(function(t,e){return"function"==typeof t?new Y(this):this.map(function(i){return $n(i,t,e)})}),Y.prototype.reject=function(t){return this.filter(Oa(Ao(t)))},Y.prototype.slice=function(t,e){t=El(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Y(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==it&&(e=El(e),i=e<0?i.dropRight(-e):i.take(e-t)),i)},Y.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Y.prototype.toArray=function(){return this.take(Ot)},rn(Y.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=i[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(i.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,l=e instanceof Y,c=a[0],u=l||kd(e),h=function(t){var e=o.apply(i,p([t],a));return r&&d?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=this.__chain__,f=!!this.__actions__.length,g=s&&!d,m=l&&!f;if(!s&&u){e=m?e:new Y(this);var v=t.apply(e,a);return v.__actions__.push({func:ia,args:[h],thisArg:it}),new T(v,d)}return g&&m?t.apply(this,a):(v=this.thru(h),g?r?v.value()[0]:v.value():v)})}),a(["pop","push","shift","sort","splice","unshift"],function(t){var e=gu[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);i.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(kd(i)?i:[],t)}return this[n](function(i){return e.apply(kd(i)?i:[],t)})}}),rn(Y.prototype,function(t,e){var n=i[e];if(n){var r=n.name+"";(lh[r]||(lh[r]=[])).push({name:e,func:n})}}),lh[eo(it,mt).name]=[{name:"wrapper",func:it}],Y.prototype.clone=J,Y.prototype.reverse=tt,Y.prototype.value=Ue,i.prototype.at=Jh,i.prototype.chain=na,i.prototype.commit=ra,i.prototype.next=oa,i.prototype.plant=aa,i.prototype.reverse=la,i.prototype.toJSON=i.prototype.valueOf=i.prototype.value=ca,i.prototype.first=i.prototype.head,Ou&&(i.prototype[Ou]=sa),i},xn=wn();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(on._=xn,define(function(){return xn})):an?((an.exports=xn)._=xn,sn._=xn):on._=xn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(t,e,i){!function(t){var e=navigator.userAgent;t.HTMLPictureElement&&/ecko/.test(e)&&e.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var e,i=document.createElement("source"),n=function(t){var e,n,r=t.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(e=i.cloneNode(),r.insertBefore(e,r.firstElementChild),setTimeout(function(){r.removeChild(e)})):(!t._pfLastSize||t.offsetWidth>t._pfLastSize)&&(t._pfLastSize=t.offsetWidth,n=t.sizes,t.sizes+=",100vw",setTimeout(function(){t.sizes=n}))},r=function(){var t,e=document.querySelectorAll("picture > img, img[srcset][sizes]");for(t=0;t<e.length;t++)n(e[t])},o=function(){clearTimeout(e),e=setTimeout(r,99)},s=t.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){o(),s&&s.addListener&&s.addListener(o)};return i.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),o}())}(window),function(t,i,n){"use strict";function r(t){return" "===t||"\t"===t||"\n"===t||"\f"===t||"\r"===t}function o(e,i){var n=new t.Image;return n.onerror=function(){E[e]=!1,tt()},n.onload=function(){E[e]=1===n.width,tt()},n.src=i,"pending"}function s(){F=!1,P=t.devicePixelRatio,z={},H={},b.DPR=P||1,U.width=Math.max(t.innerWidth||0,A.clientWidth),U.height=Math.max(t.innerHeight||0,A.clientHeight),U.vw=U.width/100,U.vh=U.height/100,v=[U.height,U.width,P].join("-"),U.em=b.getEmValue(),U.rem=U.em}function a(t,e,i,n){var r,o,s,a;return"saveData"===T.algorithm?t>2.7?a=i+1:(o=e-i,r=Math.pow(t-.6,1.5),s=o*r,n&&(s+=.1*r),a=t+s):a=i>1?Math.sqrt(t*e):t,a>i}function l(t){var e,i=b.getSet(t),n=!1;"pending"!==i&&(n=v,i&&(e=b.setRes(i),b.applySetCandidate(e,t))),t[b.ns].evaled=n}function c(t,e){return t.res-e.res}function u(t,e,i){var n;return!i&&e&&(i=t[b.ns].sets,i=i&&i[i.length-1]),n=h(e,i),n&&(e=b.makeUrl(e),t[b.ns].curSrc=e,t[b.ns].curCan=n,n.res||J(n,n.set.sizes)),n}function h(t,e){var i,n,r;if(t&&e)for(r=b.parseSet(e),t=b.makeUrl(t),i=0;i<r.length;i++)if(t===b.makeUrl(r[i].url)){n=r[i];break}return n}function d(t,e){var i,n,r,o,s=t.getElementsByTagName("source");for(i=0,n=s.length;i<n;i++)r=s[i],r[b.ns]=!0,(o=r.getAttribute("srcset"))&&e.push({srcset:o,media:r.getAttribute("media"),type:r.getAttribute("type"),sizes:r.getAttribute("sizes")})}function f(t,e){function i(e){var i,n=e.exec(t.substring(d));if(n)return i=n[0],d+=i.length,i}function n(){var t,i,n,r,o,l,c,u,h,d=!1,p={};for(r=0;r<a.length;r++)o=a[r],l=o[o.length-1],c=o.substring(0,o.length-1),u=parseInt(c,10),h=parseFloat(c),V.test(c)&&"w"===l?((t||i)&&(d=!0),0===u?d=!0:t=u):Y.test(c)&&"x"===l?((t||i||n)&&(d=!0),h<0?d=!0:i=h):V.test(c)&&"h"===l?((n||i)&&(d=!0),0===u?d=!0:n=u):d=!0;d||(p.url=s,t&&(p.w=t),i&&(p.d=i),n&&(p.h=n),n||i||t||(p.d=1),1===p.d&&(e.has1x=!0),p.set=e,f.push(p))}function o(){for(i(W),l="",c="in descriptor";;){if(u=t.charAt(d),"in descriptor"===c)if(r(u))l&&(a.push(l),l="",c="after descriptor");else{if(","===u)return d+=1,l&&a.push(l),void n();if("("===u)l+=u,c="in parens";else{if(""===u)return l&&a.push(l),void n();l+=u}}else if("in parens"===c)if(")"===u)l+=u,c="in descriptor";else{if(""===u)return a.push(l),void n();l+=u}else if("after descriptor"===c)if(r(u));else{if(""===u)return void n();c="in descriptor",d-=1}d+=1}}for(var s,a,l,c,u,h=t.length,d=0,f=[];;){if(i(q),d>=h)return f;s=i(K),a=[],","===s.slice(-1)?(s=s.replace(G,""),n()):o()}}function p(t){function e(t){function e(){o&&(s.push(o),o="")}function i(){s[0]&&(a.push(s),s=[])}for(var n,o="",s=[],a=[],l=0,c=0,u=!1;;){if(""===(n=t.charAt(c)))return e(),i(),a;if(u){if("*"===n&&"/"===t[c+1]){u=!1,c+=2,e();continue}c+=1}else{if(r(n)){if(t.charAt(c-1)&&r(t.charAt(c-1))||!o){c+=1;continue}if(0===l){e(),c+=1;continue}n=" "}else if("("===n)l+=1;else if(")"===n)l-=1;else{if(","===n){e(),i(),c+=1;continue}if("/"===n&&"*"===t.charAt(c+1)){u=!0,c+=2;continue}}o+=n,c+=1}}}function i(t){return!!(u.test(t)&&parseFloat(t)>=0)||(!!h.test(t)||("0"===t||"-0"===t||"+0"===t))}var n,o,s,a,l,c,u=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,h=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(o=e(t),s=o.length,n=0;n<s;n++)if(a=o[n],l=a[a.length-1],i(l)){if(c=l,a.pop(),0===a.length)return c;if(a=a.join(" "),b.matchesMedia(a))return c}return"100vw"}i.createElement("picture");var g,m,v,b={},y=!1,k=function(){},w=i.createElement("img"),x=w.getAttribute,_=w.setAttribute,C=w.removeAttribute,A=i.documentElement,E={},T={algorithm:""},$="data-pfsrc",S=$+"set",R=navigator.userAgent,B=/rident/.test(R)||/ecko/.test(R)&&R.match(/rv\:(\d+)/)&&RegExp.$1>35,L="currentSrc",I=/\s+\+?\d+(e\d+)?w/,N=/(\([^)]+\))?\s*(.+)/,D=t.picturefillCFG,O="font-size:100%!important;",F=!0,z={},H={},P=t.devicePixelRatio,U={px:1,in:96},M=i.createElement("a"),j=!1,W=/^[ \t\n\r\u000c]+/,q=/^[, \t\n\r\u000c]+/,K=/^[^ \t\n\r\u000c]+/,G=/[,]+$/,V=/^\d+$/,Y=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,X=function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n||!1):t.attachEvent&&t.attachEvent("on"+e,i)},Q=function(t){var e={};return function(i){return i in e||(e[i]=t(i)),e[i]}},Z=function(){var t=/^([\d\.]+)(em|vw|px)$/,e=function(){for(var t=arguments,e=0,i=t[0];++e in t;)i=i.replace(t[e],t[++e]);return i},i=Q(function(t){return"return "+e((t||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(e,n){var r;if(!(e in z))if(z[e]=!1,n&&(r=e.match(t)))z[e]=r[1]*U[r[2]];else try{z[e]=new Function("e",i(e))(U)}catch(t){}return z[e]}}(),J=function(t,e){return t.w?(t.cWidth=b.calcListLength(e||"100vw"),t.res=t.w/t.cWidth):t.res=t.d,t},tt=function(t){if(y){var e,n,r,o=t||{};if(o.elements&&1===o.elements.nodeType&&("IMG"===o.elements.nodeName.toUpperCase()?o.elements=[o.elements]:(o.context=o.elements,o.elements=null)),e=o.elements||b.qsa(o.context||i,o.reevaluate||o.reselect?b.sel:b.selShort),r=e.length){for(b.setupRun(o),j=!0,n=0;n<r;n++)b.fillImg(e[n],o);b.teardownRun(o)}}};t.console&&console.warn,L in w||(L="src"),E["image/jpeg"]=!0,E["image/gif"]=!0,E["image/png"]=!0,E["image/svg+xml"]=i.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),b.ns=("pf"+(new Date).getTime()).substr(0,9),b.supSrcset="srcset"in w,b.supSizes="sizes"in w,b.supPicture=!!t.HTMLPictureElement,b.supSrcset&&b.supPicture&&!b.supSizes&&function(t){w.srcset="data:,a",t.src="data:,a",b.supSrcset=w.complete===t.complete,b.supPicture=b.supSrcset&&b.supPicture}(i.createElement("img")),b.supSrcset&&!b.supSizes?function(){var t="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",e=i.createElement("img"),n=function(){2===e.width&&(b.supSizes=!0),m=b.supSrcset&&!b.supSizes,y=!0,setTimeout(tt)};e.onload=n,e.onerror=n,e.setAttribute("sizes","9px"),e.srcset=t+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",e.src=t}():y=!0,b.selShort="picture>img,img[srcset]",b.sel=b.selShort,b.cfg=T,b.DPR=P||1,b.u=U,b.types=E,b.setSize=k,b.makeUrl=Q(function(t){return M.href=t,M.href}),b.qsa=function(t,e){return"querySelector"in t?t.querySelectorAll(e):[]},b.matchesMedia=function(){return t.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?b.matchesMedia=function(t){return!t||matchMedia(t).matches}:b.matchesMedia=b.mMQ,b.matchesMedia.apply(this,arguments)},b.mMQ=function(t){return!t||Z(t)},b.calcLength=function(t){var e=Z(t,!0)||!1;return e<0&&(e=!1),e},b.supportsType=function(t){return!t||E[t]},b.parseSize=Q(function(t){var e=(t||"").match(N);return{media:e&&e[1],length:e&&e[2]}}),b.parseSet=function(t){return t.cands||(t.cands=f(t.srcset,t)),t.cands},b.getEmValue=function(){var t;if(!g&&(t=i.body)){var e=i.createElement("div"),n=A.style.cssText,r=t.style.cssText;e.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",A.style.cssText=O,t.style.cssText=O,t.appendChild(e),g=e.offsetWidth,t.removeChild(e),g=parseFloat(g,10),A.style.cssText=n,t.style.cssText=r}return g||16},b.calcListLength=function(t){if(!(t in H)||T.uT){var e=b.calcLength(p(t));H[t]=e||U.width}return H[t]},b.setRes=function(t){var e;if(t){e=b.parseSet(t);for(var i=0,n=e.length;i<n;i++)J(e[i],t.sizes)}return e},b.setRes.res=J,b.applySetCandidate=function(t,e){if(t.length){var i,n,r,o,s,l,h,d,f,p=e[b.ns],g=b.DPR;if(l=p.curSrc||e[L],h=p.curCan||u(e,l,t[0].set),h&&h.set===t[0].set&&((f=B&&!e.complete&&h.res-.1>g)||(h.cached=!0,h.res>=g&&(s=h))),!s)for(t.sort(c),o=t.length,s=t[o-1],n=0;n<o;n++)if(i=t[n],i.res>=g){r=n-1,s=t[r]&&(f||l!==b.makeUrl(i.url))&&a(t[r].res,i.res,g,t[r].cached)?t[r]:i;break}s&&(d=b.makeUrl(s.url),p.curSrc=d,p.curCan=s,d!==l&&b.setSrc(e,s),b.setSize(e))}},b.setSrc=function(t,e){var i;t.src=e.url,"image/svg+xml"===e.set.type&&(i=t.style.width,t.style.width=t.offsetWidth+1+"px",t.offsetWidth+1&&(t.style.width=i))},b.getSet=function(t){var e,i,n,r=!1,o=t[b.ns].sets;for(e=0;e<o.length&&!r;e++)if(i=o[e],i.srcset&&b.matchesMedia(i.media)&&(n=b.supportsType(i.type))){"pending"===n&&(i=n),r=i;break}return r},b.parseSets=function(t,e,i){var r,o,s,a,l=e&&"PICTURE"===e.nodeName.toUpperCase(),c=t[b.ns];(c.src===n||i.src)&&(c.src=x.call(t,"src"),c.src?_.call(t,$,c.src):C.call(t,$)),(c.srcset===n||i.srcset||!b.supSrcset||t.srcset)&&(r=x.call(t,"srcset"),c.srcset=r,a=!0),c.sets=[],l&&(c.pic=!0,d(e,c.sets)),c.srcset?(o={srcset:c.srcset,sizes:x.call(t,"sizes")},c.sets.push(o),(s=(m||c.src)&&I.test(c.srcset||""))||!c.src||h(c.src,o)||o.has1x||(o.srcset+=", "+c.src,o.cands.push({url:c.src,d:1,set:o}))):c.src&&c.sets.push({srcset:c.src,sizes:null}),c.curCan=null,c.curSrc=n,c.supported=!(l||o&&!b.supSrcset||s&&!b.supSizes),a&&b.supSrcset&&!c.supported&&(r?(_.call(t,S,r),t.srcset=""):C.call(t,S)),c.supported&&!c.srcset&&(!c.src&&t.src||t.src!==b.makeUrl(c.src))&&(null===c.src?t.removeAttribute("src"):t.src=c.src),c.parsed=!0},b.fillImg=function(t,e){var i,n=e.reselect||e.reevaluate;t[b.ns]||(t[b.ns]={}),i=t[b.ns],(n||i.evaled!==v)&&(i.parsed&&!e.reevaluate||b.parseSets(t,t.parentNode,e),i.supported?i.evaled=v:l(t))},b.setupRun=function(){j&&!F&&P===t.devicePixelRatio||s()},b.supPicture?(tt=k,b.fillImg=k):function(){var e,n=t.attachEvent?/d$|^c/:/d$|^c|^i/,r=function(){var t=i.readyState||"";o=setTimeout(r,"loading"===t?200:999),i.body&&(b.fillImgs(),(e=e||n.test(t))&&clearTimeout(o))},o=setTimeout(r,i.body?9:99),s=function(t,e){var i,n,r=function(){var o=new Date-n;o<e?i=setTimeout(r,e-o):(i=null,t())};return function(){n=new Date,i||(i=setTimeout(r,e))}},a=A.clientHeight;X(t,"resize",s(function(){F=Math.max(t.innerWidth||0,A.clientWidth)!==U.width||A.clientHeight!==a,a=A.clientHeight,F&&b.fillImgs()},99)),X(i,"readystatechange",r)}(),b.picturefill=tt,b.fillImgs=tt,b.teardownRun=k,tt._=b,t.picturefillCFG={pf:b,push:function(t){var e=t.shift();"function"==typeof b[e]?b[e].apply(b,t):(T[e]=t[0],j&&b.fillImgs({reselect:!0}))}};for(;D&&D.length;)t.picturefillCFG.push(D.shift());t.picturefill=tt,"object"==typeof e&&"object"==typeof e.exports?e.exports=tt:"function"==typeof define&&define.amd&&define("picturefill",function(){return tt}),b.supPicture||(E["image/webp"]=o("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document)},{}],7:[function(t,e,i){"use strict";t("picturefill"),t("famous-polyfills/classList.js")},{"famous-polyfills/classList.js":2,picturefill:6}],8:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("lodash"),o=(n(r),t("domready")),s=n(o),a=t("jump.js"),l=n(a);!function(){function t(t){t.preventDefault();var e=document.getElementById(this.getAttribute("href").slice(1)),i=document.getElementsByClassName(this.dataset.killothers),n=this.dataset.toggleclass;i&&([].forEach.call(i,function(t){return t.classList.remove(n)}),[].forEach.call(r,function(t){return t.classList.remove("-active")})),e.classList.toggle(n)}function e(t){t.preventDefault();var e=document.getElementById(this.getAttribute("href").substr(1)),i=this.dataset.duration;setTimeout(function(){(0,l.default)(e,{duration:i||500})},0)}function i(t){fetch(t.getAttribute("href")).then(function(t){return t.text()}).then(function(e){"<p class='no-more'>No more posts</p>"===e.trim()&&t.classList.add("fadeOut")})}function n(t){t.preventDefault();var e=document.getElementById(this.getAttribute("data-target"));fetch(this.getAttribute("href")).then(function(t){return t.text()}).then(function(t){e.insertAdjacentHTML("beforeend",t)});var n=this.getAttribute("href").split("/"),r=parseInt(n.pop())+1;this.href=n.join("/")+"/"+r,i(this)}var r=document.getElementsByClassName("js-toggle"),o=document.getElementsByClassName("js-scrollto"),a=document.getElementsByClassName("js-load-more");(0,s.default)(function(){[].forEach.call(r,function(e){return e.addEventListener("click",t)}),[].forEach.call(o,function(t){return t.addEventListener("click",e,!1)}),[].forEach.call(a,function(t){return t.addEventListener("click",n)})})}()},{domready:1,"jump.js":4,lodash:5}],9:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("domready"),o=n(r);!function(){function t(t){t.preventDefault(),i.classList.toggle("-active"),this.classList.toggle("-active")}var e=document.getElementById("auth-subnav-trigger"),i=document.getElementById("auth-subnav");(0,o.default)(function(){e&&e.addEventListener("click",t)})}()},{domready:1}],10:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("domready"),o=n(r);!function(){function t(t){[].forEach.call(e,function(t){t.parentNode.classList.remove("-active")}),this.parentNode.classList.add("-active")}var e=document.getElementsByClassName("challenge-choice__input");(0,o.default)(function(){[].forEach.call(e,function(e){e.addEventListener("click",t)})})}()},{domready:1}],11:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("domready"),o=n(r);!function(){function t(t){t.preventDefault(),i.classList.toggle("-active"),this.classList.toggle("-active")}var e=document.getElementById("challenge-subnav-trigger"),i=document.getElementById("challenge-subnav");(0,o.default)(function(){e&&e.addEventListener("click",t)})}()},{domready:1}],12:[function(t,e,i){"use strict";$(function(){var t=function(t){t.preventDefault();var e=$(this).attr("data-delete");$("#delete-comment .delete-comment-form").attr("action",e)},e=function(t){t.preventDefault(),$($(this).attr("href")).toggleClass("-editing")},i=function(t){t.preventDefault(),$($(this).attr("href")).toggleClass("-replying")};$(".-comment-delete").click(t),$(".-comment-edit").click(e),$(".-comment-reply").click(i),window.commentLoaded=function(){$(this).find(".-comment-delete").click(t),$(this).find(".-comment-edit").click(e),$(this).find(".-comment-reply").click(i),$(this).each(window.autoGrowLoaded)}})},{}],13:[function(t,e,i){"use strict";var n=new XMLHttpRequest;n.open("GET",document.body.dataset.svg,!0),n.send(),n.onload=function(t){var e=document.createElement("div");e.setAttribute("id","svg"),e.innerHTML=n.responseText,document.body.insertBefore(e,document.body.childNodes[0])}},{}],14:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("lodash"),o=(n(r),t("domready")),s=n(o);!function(){function t(t){t.preventDefault();var e=this.getAttribute("href").slice(1),i=document.getElementById(e),n=document.getElementById("remove_"+e);i.classList.add("-cleared"),n.setAttribute("value",1)}var e=document.getElementsByClassName("js-clear-image");(0,s.default)(function(){[].forEach.call(e,function(e){return e.addEventListener("click",t)})})}()},{domready:1,lodash:5}],15:[function(t,e,i){"use strict";$(function(){$(".load-more__button").click(function(t){if(t.preventDefault(),!$(this).hasClass("-loading")){var e=$(this),i=e.attr("data-callback"),n=e.attr("href"),r=$(n),o=e.attr("data-load-more");e.addClass("-loading"),$("<div/>").load(o,function(){var t=$(this).find(n),o=t.siblings(".load-more");if(t.children().addClass("-load-more").appendTo(r),setTimeout(function(){var t=r.find(".-load-more").addClass("-loaded");i&&t.each(window[i])},250),o.length){var s=o.find(".load-more__button").attr("data-load-more");e.attr("data-load-more",s),e.removeClass("-loading")}else e.addClass("-hidden")})}})})},{}],16:[function(t,e,i){"use strict";$(function(){$(".initiate").bind("click",function(t){t.preventDefault();var e=$(this).siblings(".member-tile__buttons-actions");$(this).hide(),e.show()}),$(".cancel-delete").bind("click",function(t){t.preventDefault();var e=$(this).parent().siblings(".initiate");$(this).parent().hide(),e.show()}),$(".confirm-delete").bind("click",function(t){t.preventDefault();var e=$("#"+$(this).closest(".member-tile").attr("id"));$.post(e.attr("data-remove"),{solutionId:e.attr("data-solution"),userId:e.attr("data-userid"),_token:e.attr("data-token")}).done(function(){e.fadeOut("slow")}).fail(function(){alert("User could not be removed.");var t=$(this).parent().siblings(".initiate");$(this).parent().hide(),t.show()})}),$(".transfer-leadership").bind("click",function(t){t.preventDefault();var e=$(this).parent().attr("id");$("#confirm-transfer").attr("data-target",e),$("#modal-title").text("Transferring leadership to "+$("#"+e).attr("data-username"))}),$("#confirm-transfer").bind("click",function(t){t.preventDefault();var e=$("#"+$(this).attr("data-target"));$.post(e.attr("data-transfer"),{solutionId:e.attr("data-solution"),userId:e.attr("data-userid"),currentUserId:e.attr("data-current"),_token:e.attr("data-token")}).done(function(){location.reload()}).fail(function(){alert("Error: ownership could not be transferred.")})})})},{}],17:[function(t,e,i){"use strict";$(function(){$(".js-modal").click(function(t){t.preventDefault();var e=$("body"),i=$($(this).attr("href"));i.hasClass("-active")||i.hasClass("-close")?(i.toggleClass("-active"),i.toggleClass("-close"),e.removeClass("-no-scroll")):(i.addClass("-active"),e.addClass("-no-scroll"))})})},{}],18:[function(t,e,i){"use strict"},{}],19:[function(t,e,i){"use strict";$(function(){var t=function(){$(".radio.-toggle input").each(function(){var t=$(this).attr("data-target"),e=$(t);$(this).is(":checked")?e.addClass("-active"):e.removeClass("-active")})};$(".radio.-toggle input").change(t),t()})},{}],20:[function(t,e,i){"use strict";$(function(){$(".-redactor").each(function(){var t=$(this).attr("data-image-upload-url"),e=$(this).attr("maxlength");t?$(this).redactor({imageUpload:t,limiter:e?parseInt(e):null,minHeight:300,plugins:["imagemanager","limiter"],toolbarFixed:!1,toolbarOverflow:!0}):$(this).redactor({limiter:e?parseInt(e):null,minHeight:300,plugins:["limiter"],toolbarFixed:!1,toolbarOverflow:!0})})})},{}],21:[function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(t,i){return new e.prototype.init(t,i)}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;return function(){return e.apply(t)}});var i=0;t.fn.redactor=function(i){var n=[],r=Array.prototype.slice.call(arguments,1);return"string"==typeof i?this.each(function(){var e,o=t.data(this,"redactor");if("-1"!==i.search(/\./)?(e=i.split("."),void 0!==o[e[0]]&&(e=o[e[0]][e[1]])):e=o[i],void 0!==o&&t.isFunction(e)){var s=e.apply(o,r);void 0!==s&&s!==o&&n.push(s)}else t.error('No such method "'+i+'" for Redactor')}):this.each(function(){t.data(this,"redactor",{}),t.data(this,"redactor",e(this,i))}),0===n.length?this:1===n.length?n[0]:n},t.Redactor=e,t.Redactor.VERSION="2.3",t.Redactor.modules=["air","autosave","block","buffer","build","button","caret","clean","code","core","detect","dropdown","events","file","focus","image","indent","inline","insert","keydown","keyup","lang","line","link","linkify","list","marker","modal","observe","offset","paragraphize","paste","placeholder","progress","selection","shortcuts","storage","toolbar","upload","uploads3","utils","browser"],t.Redactor.settings={},t.Redactor.opts={animation:!1,lang:"en",direction:"ltr",spellcheck:!0,overrideStyles:!0,scrollTarget:document,focus:!1,focusEnd:!1,clickToEdit:!1,structure:!1,tabindex:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:!1,callbacks:{},placeholder:!1,linkify:!0,enterKey:!0,pastePlainText:!1,pasteImages:!0,pasteLinks:!0,pasteBlockTags:["pre","h1","h2","h3","h4","h5","h6","table","tbody","thead","tfoot","th","tr","td","ul","ol","li","blockquote","p","figure","figcaption"],pasteInlineTags:["br","strong","ins","code","del","span","samp","kbd","sup","sub","mark","var","cite","small","b","u","em","i"],preClass:!1,preSpaces:4,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveFields:!1,imageUpload:null,imageUploadParam:"file",imageUploadFields:!1,imageUploadForms:!1,imageTag:"figure",imageEditable:!0,imageCaption:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",dragImageUpload:!0,multipleImageUpload:!0,clipboardImageUpload:!0,fileUpload:null,fileUploadParam:"file",fileUploadFields:!1,fileUploadForms:!1,dragFileUpload:!0,s3:!1,linkNewTab:!1,linkTooltip:!0,linkNofollow:!1,linkSize:30,pasteLinkTarget:!1,videoContainerClass:"video-container",toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,air:!1,airWidth:!1,formatting:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],formattingAdd:!1,buttons:["format","bold","italic","deleted","lists","image","file","link"],buttonsHide:[],buttonsHideOnMobile:[],script:!0,removeNewlines:!1,removeComments:!0,replaceTags:{b:"strong",i:"em",strike:"del"},shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},shortcutsAdd:!1,activeButtons:["deleted","italic","bold"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted"},langs:{en:{format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U",lists:"Lists","link-insert":"Insert link","link-edit":"Edit link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",cancel:"Cancel",close:"Close",insert:"Insert",save:"Save",delete:"Delete",text:"Text",edit:"Edit",title:"Title",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line","upload-label":"Drop file here or ",caption:"Caption",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center","accessibility-help-label":"Rich text editor"}},type:"textarea",inline:!1,buffer:[],rebuffer:[],inlineTags:["a","span","strong","strike","b","u","em","i","code","del","ins","samp","kbd","sup","sub","mark","var","cite","small"],blockTags:["pre","ul","ol","li","p","h1","h2","h3","h4","h5","h6","dl","dt","dd","div","td","blockquote","output","figcaption","figure","address","section","header","footer","aside","article","iframe"],paragraphize:!0,paragraphizeBlocks:["table","div","pre","form","ul","ol","h1","h2","h3","h4","h5","h6","dl","blockquote","figcaption","address","section","header","footer","aside","article","object","style","script","iframe","select","input","textarea","button","option","map","area","math","hr","fieldset","legend","hgroup","nav","figure","details","menu","summary","p"],emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",imageTypes:["image/png","image/jpeg","image/gif"],userAgent:navigator.userAgent.toLowerCase(),observe:{dropdowns:[]},regexps:{linkyoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,linkvimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,linkimage:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi}},e.fn=t.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(e,n){return this.$element=t(e),this.uuid=i++,this.loadOptions(n),this.loadModules(),this.opts.clickToEdit&&!this.$element.hasClass("redactor-click-to-edit")?this.loadToEdit(n):(this.$element.hasClass("redactor-click-to-edit")&&this.$element.removeClass("redactor-click-to-edit"),this.reIsBlock=new RegExp("^("+this.opts.blockTags.join("|").toUpperCase()+")$","i"),this.reIsInline=new RegExp("^("+this.opts.inlineTags.join("|").toUpperCase()+")$","i"),this.opts.dragImageUpload=null!==this.opts.imageUpload&&this.opts.dragImageUpload,this.opts.dragFileUpload=null!==this.opts.fileUpload&&this.opts.dragFileUpload,this.formatting={},this.lang.load(),t.extend(this.opts.shortcuts,this.opts.shortcutsAdd),this.$editor=this.$element,this.detectType(),this.core.callback("start"),this.core.callback("startToEdit"),this.start=!0,void this.build.start())},detectType:function(){this.build.isInline()||this.opts.inline?this.opts.type="inline":this.build.isTag("DIV")?this.opts.type="div":this.build.isTag("PRE")&&(this.opts.type="pre")},loadToEdit:function(e){this.$element.on("click.redactor-click-to-edit",t.proxy(function(){this.initToEdit(e)},this)),this.$element.addClass("redactor-click-to-edit")},initToEdit:function(e){t.extend(e.callbacks,{startToEdit:function(){this.insert.node(this.marker.get(),!1)},initToEdit:function(){this.selection.restore(),this.clickToCancelStorage=this.code.get(),t(this.opts.clickToCancel).off(".redactor-click-to-edit"),t(this.opts.clickToCancel).show().on("click.redactor-click-to-edit",t.proxy(function(i){i.preventDefault(),this.core.destroy(),this.events.syncFire=!1,this.$element.html(this.clickToCancelStorage),this.core.callback("cancel",this.clickToCancelStorage),this.events.syncFire=!0,this.clickToCancelStorage="",t(this.opts.clickToCancel).hide(),t(this.opts.clickToSave).hide(),this.$element.on("click.redactor-click-to-edit",t.proxy(function(){this.initToEdit(e)},this)),this.$element.addClass("redactor-click-to-edit")},this)),t(this.opts.clickToSave).off(".redactor-click-to-edit"),t(this.opts.clickToSave).show().on("click.redactor-click-to-edit",t.proxy(function(i){i.preventDefault(),this.core.destroy(),this.core.callback("save",this.code.get()),t(this.opts.clickToCancel).hide(),t(this.opts.clickToSave).hide(),this.$element.on("click.redactor-click-to-edit",t.proxy(function(){this.initToEdit(e)},this)),this.$element.addClass("redactor-click-to-edit")},this))}}),this.$element.redactor(e),this.$element.off(".redactor-click-to-edit")},loadOptions:function(e){var i={};void 0!==t.Redactor.settings.namespace?this.$element.hasClass(t.Redactor.settings.namespace)&&(i=t.Redactor.settings):i=t.Redactor.settings,this.opts=t.extend({},t.Redactor.opts,this.$element.data(),e),this.opts=t.extend(!0,this.opts,i)},getModuleMethods:function(t){return Object.getOwnPropertyNames(t).filter(function(e){return"function"==typeof t[e]})},loadModules:function(){for(var e=t.Redactor.modules.length,i=0;e>i;i++)this.bindModuleMethods(t.Redactor.modules[i])},bindModuleMethods:function(t){if(void 0!==this[t]){this[t]=this[t]();for(var e=this.getModuleMethods(this[t]),i=e.length,n=0;i>n;n++)this[t][e[n]]=this[t][e[n]].bind(this)}},air:function(){return{enabled:!1,collapsed:function(){this.opts.air&&this.selection.get().collapseToStart()},collapsedEnd:function(){this.opts.air&&this.selection.get().collapseToEnd()},build:function(){this.detect.isMobile()||(this.button.hideButtons(),this.button.hideButtonsOnMobile(),0!==this.opts.buttons.length&&(this.$air=this.air.createContainer(),!1!==this.opts.airWidth&&this.$air.css("width",this.opts.airWidth),this.air.append(),this.button.$toolbar=this.$air,this.button.setFormatting(),this.button.load(this.$air),this.core.editor().on("mouseup.redactor",this,t.proxy(function(t){""!==this.selection.text()&&this.air.show(t)},this))))},append:function(){this.$air.appendTo("body")},createContainer:function(){return t("<ul>").addClass("redactor-air").attr({id:"redactor-air-"+this.uuid,role:"toolbar"}).hide()},show:function(e){this.selection.saveInstant(),t(".redactor-air").hide();var i=0,n=this.$air.innerWidth();t(window).width()<e.clientX+n&&(i=200),this.$air.css({left:e.clientX-i+"px",top:e.clientY+10+t(document).scrollTop()+"px"}).show(),this.air.enabled=!0,this.air.bindHide()},bindHide:function(){t(document).on("mousedown.redactor-air."+this.uuid,t.proxy(function(e){var i=t(e.target).closest(".redactor-dropdown").length;if(0===t(e.target).closest(this.$air).length&&0===i){!1!==this.air.hide(e)&&this.marker.remove()}},this)).on("keydown.redactor-air."+this.uuid,t.proxy(function(e){var i=e.which;if((this.utils.isRedactorParent(e.target)||t(e.target).hasClass("redactor-in"))&&0===t(e.target).closest("#redactor-modal").length){if(i===this.keyCode.ESC)this.selection.get().collapseToStart();else if(i===this.keyCode.BACKSPACE||i===this.keyCode.DELETE){var n=this.selection.get(),r=this.selection.range(n);r.deleteContents()}else i===this.keyCode.ENTER&&this.selection.get().collapseToEnd();this.air.enabled?this.air.hide(e):this.selection.get().collapseToStart()}},this))},hide:function(e){return!(e.ctrlKey||e.metaKey||e.shiftKey&&e.altKey)&&(this.button.setInactiveAll(),this.$air.fadeOut(100),this.air.enabled=!1,t(document).off("mousedown.redactor-air."+this.uuid),void t(document).off("keydown.redactor-air."+this.uuid))}}},autosave:function(){return{enabled:!1,html:!1,init:function(){this.opts.autosave&&(this.autosave.enabled=!0,this.autosave.name=this.opts.autosaveName?this.opts.autosaveName:this.$textarea.attr("name"))},is:function(){return this.autosave.enabled},send:function(){if(this.opts.autosave&&(this.autosave.source=this.code.get(),this.autosave.html!==this.autosave.source)){var e={};e.name=this.autosave.name,e[this.autosave.name]=this.autosave.source,e=this.autosave.getHiddenFields(e);t.ajax({url:this.opts.autosave,type:"post",data:e}).done(this.autosave.success)}},getHiddenFields:function(e){return!1===this.opts.autosaveFields||"object"!=n(this.opts.autosaveFields)?e:(t.each(this.opts.autosaveFields,t.proxy(function(i,n){null!==n&&0===n.toString().indexOf("#")&&(n=t(n).val()),e[i]=n},this)),e)},success:function(t){var e;try{e=JSON.parse(t)}catch(i){e=t}var i=void 0===e.error?"autosave":"autosaveError";this.core.callback(i,this.autosave.name,e),this.autosave.html=this.autosave.source},disable:function(){this.autosave.enabled=!1,clearInterval(this.autosaveTimeout)}}},block:function(){return{format:function(e,i,n,r){return e="quote"===e?"blockquote":e,this.block.tags=["p","blockquote","pre","h1","h2","h3","h4","h5","h6","div","figure"],-1!==t.inArray(e,this.block.tags)?("p"===e&&void 0===i&&(i="class"),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.block.formatCollapsed(e,i,n,r):this.block.formatUncollapsed(e,i,n,r)):void 0},formatCollapsed:function(e,i,r,o){this.selection.save();var s=this.selection.block(),a=s.tagName.toLowerCase();if(-1===t.inArray(a,this.block.tags))return void this.selection.restore();a===e&&(e="p");var l;if("blockquote"===a&&this.utils.isEndOfElement(s)){this.marker.remove(),l=document.createElement("p"),l.innerHTML=this.opts.invisibleSpace,t(s).after(l),this.caret.start(l);var c=t(s).children().last();0!==c.length&&"BR"===c[0].tagName&&c.remove()}else l=this.utils.replaceToTag(s,e);if("object"==(void 0===i?"undefined":n(i))){o=r;for(var u in i)l=this.block.setAttr(l,u,i[u],o)}else l=this.block.setAttr(l,i,r,o);return"pre"===e&&1===l.length&&t(l).html(t.trim(t(l).html())),this.selection.restore(),this.block.removeInlineTags(l),l},formatUncollapsed:function(e,i,r,o){this.selection.save();var s=[],a=this.selection.blocks();a[0]&&t(a[0]).hasClass("redactor-in")&&(a=t(a[0]).find(this.opts.blockTags.join(", ")));for(var l=a.length,c=0;l>c;c++){var u=a[c].tagName.toLowerCase();if(-1!==t.inArray(u,this.block.tags)&&"figure"!==u){var h=this.utils.replaceToTag(a[c],e);if("object"==(void 0===i?"undefined":n(i))){o=r;for(var d in i)h=this.block.setAttr(h,d,i[d],o)}else h=this.block.setAttr(h,i,r,o);s.push(h),this.block.removeInlineTags(h)}}if(this.selection.restore(),"pre"===e&&0!==s.length){var f=s[0];t.each(s,function(e,i){0!==e&&(t(f).append("\n"+t.trim(i.html())),t(i).remove())}),s=[],s.push(f)}return s},removeInlineTags:function(e){e=e[0]||e;var i=this.opts.inlineTags,n=["PRE","H1","H2","H3","H4","H5","H6"];if(-1!==t.inArray(e.tagName,n)){if("PRE"!==e.tagName){var r=i.indexOf("a");i.splice(r,1)}t(e).find(i.join(",")).not(".redactor-selection-marker").contents().unwrap()}},setAttr:function(t,e,i,n){if(void 0===e)return t;var r=void 0===n?"replace":n;return t="class"===e?this.block[r+"Class"](i,t):"remove"===r?this.block[r+"Attr"](e,t):"removeAll"===r?this.block[r+"Attr"](e,t):this.block[r+"Attr"](e,i,t)},getBlocks:function(t){return void 0===t?this.selection.blocks():t},replaceClass:function(e,i){return t(this.block.getBlocks(i)).removeAttr("class").addClass(e)[0]},toggleClass:function(e,i){return t(this.block.getBlocks(i)).toggleClass(e)[0]},addClass:function(e,i){return t(this.block.getBlocks(i)).addClass(e)[0]},removeClass:function(e,i){return t(this.block.getBlocks(i)).removeClass(e)[0]},removeAllClass:function(e){return t(this.block.getBlocks(e)).removeAttr("class")[0]},replaceAttr:function(e,i,n){return n=this.block.removeAttr(e,n),t(n).attr(e,i)[0]},toggleAttr:function(e,i,n){n=this.block.getBlocks(n);var r=this,o=[];return t.each(n,function(n,s){t(s).attr(e)?o.push(r.block.removeAttr(e,s)):o.push(r.block.addAttr(e,i,s))}),o},addAttr:function(e,i,n){return t(this.block.getBlocks(n)).attr(e,i)[0]},removeAttr:function(e,i){return t(this.block.getBlocks(i)).removeAttr(e)[0]},removeAllAttr:function(e){e=this.block.getBlocks(e);var i=[];return t.each(e,function(e,n){void 0===n.attributes&&i.push(n);for(var r=t(n),o=n.attributes.length,s=0;o>s;s++)r.removeAttr(n.attributes[s].name);i.push(r[0])}),i}}},buffer:function(){return{set:function(t){void 0===t&&this.buffer.clear(),void 0===t||"undo"===t?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){var t=this.selection.saveInstant(),e=this.opts.buffer[this.opts.buffer.length-1],i=this.core.editor().html();(void 0===e||e[0]!==i)&&this.opts.buffer.push([i,t])},setRedo:function(){var t=this.selection.saveInstant();this.opts.rebuffer.push([this.core.editor().html(),t])},add:function(){this.opts.buffer.push([this.core.editor().html(),0])},undo:function(){if(0!==this.opts.buffer.length){var t=this.opts.buffer.pop();this.buffer.set("redo"),this.core.editor().html(t[0]),this.selection.restoreInstant(t[1]),this.observe.load()}},redo:function(){if(0!==this.opts.rebuffer.length){var t=this.opts.rebuffer.pop();this.buffer.set("undo"),this.core.editor().html(t[0]),this.selection.restoreInstant(t[1]),this.observe.load()}},clear:function(){this.opts.rebuffer=[]}}},build:function(){return{start:function(){if("inline"===this.opts.type)this.opts.type="inline";else if("div"===this.opts.type){var e=t.trim(this.$editor.html());""===e&&this.$editor.html(this.opts.emptyHtml)}else"textarea"===this.opts.type&&this.build.startTextarea();this.build.setIn(),this.build.setId(),this.build.enableEditor(),this.build.setOptions(),this.build.callEditor()},createContainerBox:function(){this.$box=t('<div class="redactor-box" role="application" />')},setIn:function(){this.core.editor().addClass("redactor-in")},setId:function(){var t="textarea"===this.opts.type?"redactor-uuid-"+this.uuid:this.$element.attr("id");this.core.editor().attr("id",void 0===t?"redactor-uuid-"+this.uuid:t)},getName:function(){var t=this.$element.attr("name");return void 0===t?"content-"+this.uuid:t},loadFromTextarea:function(){this.$editor=t("<div />"),this.$textarea=this.$element,this.$element.attr("name",this.build.getName()),this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element),this.$editor.addClass("redactor-layer"),this.opts.overrideStyles&&this.$editor.addClass("redactor-styles"),this.$element.hide(),this.$box.prepend('<span class="redactor-voice-label" id="redactor-voice-'+this.uuid+'" aria-hidden="false">'+this.lang.get("accessibility-help-label")+"</span>"),this.$editor.attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},startTextarea:function(){this.build.createContainerBox(),this.build.loadFromTextarea(),this.code.start(this.core.textarea().val()),this.core.textarea().val(this.clean.onSync(this.$editor.html()))},isTag:function(t){return this.$element[0].tagName===t},isInline:function(){return!this.build.isTag("TEXTAREA")&&!this.build.isTag("DIV")&&!this.build.isTag("PRE")},enableEditor:function(){this.core.editor().attr({contenteditable:!0})},setOptions:function(){"inline"===this.opts.type&&(this.opts.enterKey=!1),"inline"!==this.opts.type&&"pre"!==this.opts.type||(this.opts.toolbarMobile=!1,this.opts.toolbar=!1,this.opts.air=!1,this.opts.linkify=!1),this.core.editor().attr("spellcheck",this.opts.spellcheck),this.opts.structure&&this.core.editor().addClass("redactor-structure"),"textarea"===this.opts.type&&(this.core.box().attr("dir",this.opts.direction),this.core.editor().attr("dir",this.opts.direction),this.opts.tabindex&&this.core.editor().attr("tabindex",this.opts.tabindex),this.opts.minHeight?this.core.editor().css("min-height",this.opts.minHeight):this.core.editor().css("min-height","40px"),this.opts.maxHeight&&this.core.editor().css("max-height",this.opts.maxHeight),this.opts.maxWidth&&this.core.editor().css({"max-width":this.opts.maxWidth,margin:"auto"}))},callEditor:function(){this.build.disableBrowsersEditing(),this.events.init(),this.build.setHelpers(),(this.opts.toolbar||this.opts.air)&&(this.toolbarsButtons=this.button.init()),this.opts.air?this.air.build():this.opts.toolbar&&this.toolbar.build(),this.detect.isMobile()&&this.opts.toolbarMobile&&this.opts.air&&(this.opts.toolbar=!0,this.toolbar.build()),(this.opts.air||this.opts.toolbar)&&(this.core.editor().on("mouseup.redactor-observe."+this.uuid+" keyup.redactor-observe."+this.uuid+" focus.redactor-observe."+this.uuid+" touchstart.redactor-observe."+this.uuid,t.proxy(this.observe.toolbar,this)),this.core.element().on("blur.callback.redactor",t.proxy(function(){this.button.setInactiveAll()},this))),this.modal.templates(),this.build.plugins(),this.autosave.init(),this.code.html=this.code.cleaned(this.core.editor().html()),this.core.callback("init"),this.core.callback("initToEdit"),this.storage.observe(),this.start=!1},setHelpers:function(){this.opts.linkify&&this.linkify.format(),this.placeholder.init(),this.opts.focus?setTimeout(this.focus.start,100):this.opts.focusEnd&&setTimeout(this.focus.end,100)},disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",!1,!1)}catch(t){}},plugins:function(){this.opts.plugins&&t.each(this.opts.plugins,t.proxy(function(i,n){var r="undefined"!=typeof RedactorPlugins&&void 0!==RedactorPlugins[n]?RedactorPlugins:e.fn;if(t.isFunction(r[n])){this[n]=r[n]();for(var o=this.getModuleMethods(this[n]),s=o.length,a=0;s>a;a++)this[n][o[a]]=this[n][o[a]].bind(this);if(void 0!==this[n].langs){var l={};void 0!==this[n].langs[this.opts.lang]?l=this[n].langs[this.opts.lang]:void 0===this[n].langs[this.opts.lang]&&void 0!==this[n].langs.en&&(l=this[n].langs.en);var c=this;t.each(l,function(t,e){void 0===c.opts.curLang[t]&&(c.opts.curLang[t]=e)})}t.isFunction(this[n].init)&&this[n].init()}},this))}}},button:function(){return{toolbar:function(){return void 0!==this.button.$toolbar&&this.button.$toolbar?this.button.$toolbar:this.$toolbar},init:function(){return{format:{title:this.lang.get("format"),icon:!0,dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{title:this.lang.get("code"),func:"block.format"},h1:{title:this.lang.get("heading1"),func:"block.format"},h2:{title:this.lang.get("heading2"),func:"block.format"},h3:{title:this.lang.get("heading3"),func:"block.format"},h4:{title:this.lang.get("heading4"),func:"block.format"},h5:{title:this.lang.get("heading5"),func:"block.format"},h6:{title:this.lang.get("heading6"),func:"block.format"}}},bold:{title:this.lang.get("bold-abbr"),icon:!0,label:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic-abbr"),icon:!0,label:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted-abbr"),icon:!0,label:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline-abbr"),icon:!0,label:this.lang.get("underline"),func:"inline.format"},lists:{title:this.lang.get("lists"),icon:!0,dropdown:{unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+this.lang.get("outdent"),func:"indent.decrease",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase",observe:{element:"li",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},ul:{title:"&bull; "+this.lang.get("bulletslist"),icon:!0,func:"list.toggle"},ol:{title:"1. "+this.lang.get("numberslist"),icon:!0,func:"list.toggle"},outdent:{title:this.lang.get("outdent"),icon:!0,func:"indent.decrease"},indent:{title:this.lang.get("indent"),icon:!0,func:"indent.increase"},image:{title:this.lang.get("image"),icon:!0,func:"image.show"},file:{title:this.lang.get("file"),icon:!0,func:"file.show"},link:{title:this.lang.get("link"),icon:!0,dropdown:{link:{title:this.lang.get("link-insert"),func:"link.show",observe:{element:"a",in:{title:this.lang.get("link-edit")},out:{title:this.lang.get("link-insert")}}},unlink:{title:this.lang.get("unlink"),func:"link.unlink",observe:{element:"a",out:{attr:{class:"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},horizontalrule:{title:this.lang.get("horizontalrule"),icon:!0,func:"line.insert"}}},setFormatting:function(){t.each(this.toolbarsButtons.format.dropdown,t.proxy(function(e,i){-1===t.inArray(e,this.opts.formatting)&&delete this.toolbarsButtons.format.dropdown[e]},this))},hideButtons:function(){0!==this.opts.buttonsHide.length&&this.button.hideButtonsSlicer(this.opts.buttonsHide)},hideButtonsOnMobile:function(){this.detect.isMobile()&&0!==this.opts.buttonsHideOnMobile.length&&this.button.hideButtonsSlicer(this.opts.buttonsHideOnMobile)},hideButtonsSlicer:function(e){t.each(e,t.proxy(function(t,e){var i=this.opts.buttons.indexOf(e);-1!==i&&this.opts.buttons.splice(i,1)},this))},load:function(e){this.button.buttons=[],t.each(this.opts.buttons,t.proxy(function(i,n){!this.toolbarsButtons[n]||"file"===n&&!this.file.is()||"image"===n&&!this.image.is()||e.append(t("<li>").append(this.button.build(n,this.toolbarsButtons[n])))},this))},buildButtonTooltip:function(e,i){if(!this.opts.air&&!this.detect.isMobile()){var n=t("<span>");n.addClass("re-button-tooltip"),n.html(i),e.append(n),e.on("mouseover",function(){t(this).hasClass("redactor-button-disabled")||(n.show(),n.css("margin-left",-n.innerWidth()/2))}).on("mouseout",function(){n.hide()})}},build:function(e,i){if(!1!==this.opts.toolbar){var n=void 0!==i.label?i.label:i.title,r=t('<a href="javascript:void(null);" alt="'+n+'" rel="'+e+'" />');if(r.addClass("re-button re-"+e),r.attr({role:"button","aria-label":n,tabindex:"-1"}),void 0!==i.icon){var o=t("<i>");o.addClass("re-icon-"+e),r.append(o),r.addClass("re-button-icon"),this.button.buildButtonTooltip(r,n)}else r.html(i.title);if((i.func||i.command||i.dropdown)&&this.button.setEvent(r,e,i),i.dropdown){r.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var s=t('<ul class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+e+'" style="display: none;">');r.data("dropdown",s),this.dropdown.build(e,s,i.dropdown)}return this.button.buttons.push(r),r}},getButtons:function(){return this.button.toolbar().find("a.re-button")},getButtonsKeys:function(){return this.button.buttons},setEvent:function(e,i,n){e.on("mousedown",t.proxy(function(t){if(t.preventDefault(),e.hasClass("redactor-button-disabled"))return!1;var r="func",o=n.func;return n.command?(r="command",o=n.command):n.dropdown&&(r="dropdown",o=!1),this.button.toggle(t,i,r,o),!1},this))},toggle:function(t,e,i,n,r){!this.detect.isIe()&&this.detect.isDesktop()||(this.utils.freezeScroll(),t.returnValue=!1),"command"===i?this.inline.format(n):"dropdown"===i?this.dropdown.show(t,e):this.button.clickCallback(t,n,e,r),"dropdown"!==i&&this.dropdown.hideAll(!1),this.opts.air&&"dropdown"!==i&&this.air.hide(t),!this.detect.isIe()&&this.detect.isDesktop()||this.utils.unfreezeScroll()},clickCallback:function(e,i,r,o){var s;if(o=void 0===o?r:o,t.isFunction(i))i.call(this,r);else if("-1"!==i.search(/\./)){if(s=i.split("."),void 0===this[s[0]])return;"object"==(void 0===o?"undefined":n(o))?this[s[0]][s[1]].apply(this,o):this[s[0]][s[1]].call(this,o)}else"object"==(void 0===o?"undefined":n(o))?this[i].apply(this,o):this[i].call(this,o);this.observe.buttons(e,r)},all:function(){return this.button.buttons},get:function(t){return!1!==this.opts.toolbar?this.button.toolbar().find("a.re-"+t):void 0},set:function(t,e){if(!1!==this.opts.toolbar){var i=this.button.toolbar().find("a.re-"+t);return i.html(e).attr("aria-label",e),i}},add:function(e,i){if(!0!==this.button.isAdded(e))return t();var n=this.button.build(e,{title:i});return this.button.toolbar().append(t("<li>").append(n)),n},addFirst:function(e,i){if(!0!==this.button.isAdded(e))return t();var n=this.button.build(e,{title:i});return this.button.toolbar().prepend(t("<li>").append(n)),n},addAfter:function(e,i,n){if(!0!==this.button.isAdded(i))return t();var r=this.button.build(i,{title:n}),o=this.button.get(e);return 0!==o.length?o.parent().after(t("<li>").append(r)):this.button.toolbar().append(t("<li>").append(r)),r},addBefore:function(e,i,n){if(!0!==this.button.isAdded(i))return t();var r=this.button.build(i,{title:n}),o=this.button.get(e);return 0!==o.length?o.parent().before(t("<li>").append(r)):this.button.toolbar().append(t("<li>").append(r)),r},isAdded:function(t){var e=this.opts.buttonsHideOnMobile.indexOf(t);return!(!1===this.opts.toolbar||-1!==e&&this.detect.isMobile())},setIcon:function(t,e){t.html(e).addClass("re-button-icon"),this.button.buildButtonTooltip(t,t.attr("alt"))},changeIcon:function(t,e){var i=this.button.get(t);0!==i.length&&i.find("i").removeAttr("class").addClass("re-icon-"+e)},addCallback:function(e,i){if(void 0!==e&&!1!==this.opts.toolbar){var n="dropdown"===i?"dropdown":"func",r=e.attr("rel");e.on("mousedown",t.proxy(function(t){return!e.hasClass("redactor-button-disabled")&&void this.button.toggle(t,r,n,i)},this))}},addDropdown:function(e,i){if(!1!==this.opts.toolbar){e.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var n=e.attr("rel");this.button.addCallback(e,"dropdown");var r=t('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+n+'" style="display: none;">');return e.data("dropdown",r),i&&this.dropdown.build(n,r,i),r}},setActive:function(t){this.button.get(t).addClass("redactor-act")},setInactive:function(t){this.button.get(t).removeClass("redactor-act")},setInactiveAll:function(t){var e=this.button.toolbar().find("a.re-button");void 0!==t&&(e=e.not(".re-"+t)),e.removeClass("redactor-act")},disable:function(t){this.button.get(t).addClass("redactor-button-disabled")},enable:function(t){this.button.get(t).removeClass("redactor-button-disabled")},disableAll:function(t){var e=this.button.toolbar().find("a.re-button");void 0!==t&&(e=e.not(".re-"+t)),e.addClass("redactor-button-disabled")},enableAll:function(){this.button.toolbar().find("a.re-button").removeClass("redactor-button-disabled")},remove:function(t){this.button.get(t).remove()}}},caret:function(){return{set:function(t,e,i){this.core.editor().focus(),i=void 0===i?0:1,t=t[0]||t,e=e[0]||e;var n=this.selection.get(),r=this.selection.range(n);try{r.setStart(t,0),r.setEnd(e,i)}catch(t){}this.selection.update(n,r)},prepare:function(t){return this.detect.isFirefox()&&void 0!==this.start&&this.core.editor().focus(),t[0]||t},start:function(e){var i,n;if(e=this.caret.prepare(e)){if("BR"===e.tagName)return this.caret.before(e);var r=t(e).children().first(),o=this.utils.isInlineTag(e.tagName);""===e.innerHTML||o?this.caret.setStartEmptyOrInline(e,o):r&&0!==r.length&&this.utils.isInlineTag(r[0].tagName)&&""===r.text()?this.caret.setStartEmptyOrInline(r[0],!0):(i=window.getSelection(),i.removeAllRanges(),n=document.createRange(),n.selectNodeContents(e),n.collapse(!0),i.addRange(n))}},setStartEmptyOrInline:function(e,i){var n=window.getSelection(),r=document.createRange(),o=document.createTextNode("​");r.setStart(e,0),r.insertNode(o),r.setStartAfter(o),r.collapse(!0),n.removeAllRanges(),n.addRange(r),i||this.core.editor().on("keydown.redactor-remove-textnode",function(){t(o).remove(),t(this).off("keydown.redactor-remove-textnode")})},end:function(e){var i,n;if(e=this.caret.prepare(e)){if("BR"!==e.tagName&&""===e.innerHTML)return this.caret.start(e);if("BR"===e.tagName){var r=document.createElement("span");return r.className="redactor-invisible-space",r.innerHTML="&#x200b;",t(e).after(r),i=window.getSelection(),i.removeAllRanges(),n=document.createRange(),n.setStartBefore(r),n.setEndBefore(r),i.addRange(n),void t(r).replaceWith(function(){return t(this).contents()})}if(e.lastChild&&1===e.lastChild.nodeType)return this.caret.after(e.lastChild);i=window.getSelection(),i.removeAllRanges(),n=document.createRange(),n.selectNodeContents(e),n.collapse(!1),i.addRange(n)}},after:function(e){var i,n;if(e=this.caret.prepare(e)){if("BR"===e.tagName)return this.caret.end(e);if(this.utils.isBlockTag(e.tagName)){var r=this.caret.next(e);return void(void 0===r?this.caret.end(e):("TABLE"===r.tagName?r=t(r).find("th, td").first()[0]:"UL"!==r.tagName&&"OL"!==r.tagName||(r=t(r).find("li").first()[0]),this.caret.start(r)))}var o=document.createTextNode("​");i=window.getSelection(),i.removeAllRanges(),n=document.createRange(),n.setStartAfter(e),n.insertNode(o),n.setStartAfter(o),n.collapse(!0),i.addRange(n)}},before:function(e){var i,n;if(e=this.caret.prepare(e)){if(this.utils.isBlockTag(e.tagName)){var r=this.caret.prev(e);return void(void 0===r?this.caret.start(e):("TABLE"===r.tagName?r=t(r).find("th, td").last()[0]:"UL"!==r.tagName&&"OL"!==r.tagName||(r=t(r).find("li").last()[0]),this.caret.end(r)))}i=window.getSelection(),i.removeAllRanges(),n=document.createRange(),n.setStartBefore(e),n.collapse(!0),i.addRange(n)}},next:function(e){var i=t(e).next();return i.hasClass("redactor-script-tag, redactor-selection-marker")?i.next()[0]:i[0]},prev:function(e){var i=t(e).prev();return i.hasClass("redactor-script-tag, redactor-selection-marker")?i.prev()[0]:i[0]},offset:function(t){return this.offset.get(t)}}},clean:function(){return{onSet:function(e){e=this.clean.savePreCode(e),e=this.clean.saveFormTags(e),this.opts.script&&(e=e.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,'<pre class="redactor-script-tag" $1>$2</pre>')),e=e.replace(/\$/g,"&#36;"),e=e.replace(/&amp;/g,"&"),e=e.replace(/<a href="(.*?[^>]?)®(.*?[^>]?)">/gi,'<a href="$1&reg$2">'),e=e.replace(/<span id="selection-marker-1"(.*?[^>]?)>​<\/span>/gi,"###marker1###"),e=e.replace(/<span id="selection-marker-2"(.*?[^>]?)>​<\/span>/gi,"###marker2###");var i=this,n=t("<div/>").html(t.parseHTML(e,document,!0)),r=this.opts.replaceTags;if(r){var o=Object.keys(this.opts.replaceTags);n.find(o.join(",")).each(function(t,e){i.utils.replaceToTag(e,r[e.tagName.toLowerCase()])})}n.find("span, a").attr("data-redactor-span",!0).each(function(){var e=t(this);e.attr("style")&&e.attr("data-redactor-style-cache",e.attr("style"))}),e=n.html();var s=["font","html","head","link","body","meta","applet"];return this.opts.script||s.push("script"),e=this.clean.stripTags(e,s),this.opts.removeComments&&(e=e.replace(/<!--[\s\S]*?-->/gi,"")),e=this.paragraphize.load(e),e=e.replace("###marker1###",'<span id="selection-marker-1" class="redactor-selection-marker">​</span>'),e=e.replace("###marker2###",'<span id="selection-marker-2" class="redactor-selection-marker">​</span>'),-1!==e.search(/^(||\s||<br\s?\/?>||&nbsp;)$/i)?this.opts.emptyHtml:e},onGet:function(t){return this.clean.onSync(t)},onSync:function(e){if(e=e.replace(/\u200B/g,""),e=e.replace(/&#x200b;/gi,""),-1!==e.search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";e=e.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>"),e=e.replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,""),e=e.replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,""),e=e.replace(/<img(.*?)style="(.*?)opacity: 0\.5;(.*?)"(.*?)>/gi,'<img$1style="$2$3"$4>');var i=t("<div/>").html(t.parseHTML(e,document,!0));i.find('*[style=""]').removeAttr("style"),i.find('*[class=""]').removeAttr("class"),i.find('*[rel=""]').removeAttr("rel"),i.find(".redactor-invisible-space, .redactor-unlink").each(function(){t(this).contents().unwrap()}),i.find("span, a").removeAttr("data-redactor-span data-redactor-style-cache").each(function(){0===this.attributes.length&&t(this).contents().unwrap()}),i.find("img").removeAttr("rel"),i.find(".redactor-selection-marker, #redactor-insert-marker").remove(),e=i.html(),this.opts.script&&(e=e.replace(/<pre class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2<\/script>")),e=this.clean.restoreFormTags(e),e=e.replace(new RegExp("<br\\s?/?></h","gi"),"</h"),e=e.replace(new RegExp("<br\\s?/?></li>","gi"),"</li>"),e=e.replace(new RegExp("</li><br\\s?/?>","gi"),"</li>"),e=e.replace(/<pre>/gi,"<pre>\n"),this.opts.preClass&&(e=e.replace(/<pre>/gi,'<pre class="'+this.opts.preClass+'">')),this.opts.linkNofollow&&(e=e.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,"<a$1$2>"),e=e.replace(/<a(.*?[^>])>/gi,'<a$1 rel="nofollow">'));var n={"™":"&trade;","©":"&copy;","…":"&hellip;","—":"&mdash;","‐":"&dash;"};return t.each(n,function(t,i){e=e.replace(new RegExp(t,"g"),i)}),e=e.replace(/&amp;/g,"&"),e=e.replace(/<p><\/p>/gi,""),e=e.replace(/\n{2,}/g,"\n"),this.opts.removeNewlines&&(e=e.replace(/\r?\n/g,"")),e},onPaste:function(e,i,n){if(!0!==n){e=e.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),e=e.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3"),e=e.replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>"),e=e.replace(/<span[^>]*(font-style: italic; font-weight: 700|font-weight: 700; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>"),e=e.replace(/<span[^>]*font-style: italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>"),e=e.replace(/<span[^>]*font-weight: bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>"),e=e.replace(/<span[^>]*font-weight: 700[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>");this.clean.isHtmlMsWord(e)&&(e=this.clean.cleanMsWord(e))}return e=t.trim(e),i.pre?this.opts.preSpaces&&(e=e.replace(/\t/g,new Array(this.opts.preSpaces+1).join(" "))):(e=this.clean.replaceBrToNl(e),e=this.clean.removeTagsInsidePre(e)),!0!==n&&(e=this.clean.removeEmptyInlineTags(e),!1===i.encode&&(e=e.replace(/&/g,"&amp;"),e=this.clean.convertTags(e,i),e=this.clean.getPlainText(e),e=this.clean.reconvertTags(e,i))),i.text&&(e=this.clean.replaceNbspToSpaces(e),e=this.clean.getPlainText(e)),i.lists&&(e=e.replace("\n","<br>")),i.encode&&(e=this.clean.encodeHtml(e)),i.paragraphize&&(e=this.paragraphize.load(e)),e},getCurrentType:function(t,e){var i=this.selection.blocks(),n={text:!1,encode:!1,paragraphize:!0,line:this.clean.isHtmlLine(t),blocks:this.clean.isHtmlBlocked(t),pre:!1,lists:!1,block:!0,inline:!0,links:!0,images:!0};return 1===i.length&&this.utils.isCurrentOrParent(["h1","h2","h3","h4","h5","h6","a","figcaption"])?(n.text=!0,n.paragraphize=!1,n.inline=!1,n.images=!1,n.links=!1,n.line=!0):"inline"===this.opts.type||!1===this.opts.enterKey?(n.paragraphize=!1,n.block=!1,n.line=!0):1===i.length&&this.utils.isCurrentOrParent(["li"])?(n.lists=!0,n.block=!1,n.paragraphize=!1,n.images=!1):1===i.length&&this.utils.isCurrentOrParent(["th","td","blockquote"])?(n.block=!1,n.paragraphize=!1):("pre"===this.opts.type||1===i.length&&this.utils.isCurrentOrParent("pre"))&&(n.inline=!1,n.block=!1,n.encode=!0,n.pre=!0,n.paragraphize=!1,n.images=!1,n.links=!1),!0===n.line&&(n.paragraphize=!1),!0===e&&(n.text=!1),n},isHtmlBlocked:function(t){var e=t.match(new RegExp("</("+this.opts.blockTags.join("|").toUpperCase()+")>","gi")),i=t.match(new RegExp("<hr(.*?[^>])>","gi"));return null!==e||null!==i},isHtmlLine:function(t){if(this.clean.isHtmlBlocked(t))return!1;var e=t.match(/<br\s?\/?>/gi),i=t.match(/\n/gi);return!e&&!i},isHtmlMsWord:function(t){return t.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},removeEmptyInlineTags:function(e){var i=this.opts.inlineTags,n=t("<div/>").html(t.parseHTML(e,document,!0)),r=this,o=n.find("span"),s=n.find(i.join(","));return s.removeAttr("style"),s.each(function(){var e=t(this).html();0===this.attributes.length&&r.utils.isEmpty(e)&&t(this).replaceWith(function(){return t(this).contents()})}),o.each(function(){t(this).html(),0===this.attributes.length&&t(this).replaceWith(function(){return t(this).contents()})}),e=n.html(),n.remove(),e},cleanMsWord:function(e){e=e.replace(/<!--[\s\S]*?-->/g,""),e=e.replace(/<o:p>[\s\S]*?<\/o:p>/gi,""),e=e.replace(/\n/g," "),e=e.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n\n");var i=t("<div/>").html(e),n=!1,r=1,o=[];return i.find("p[style]").each(function(){var e=t(this).attr("style").match(/mso\-list\:l([0-9]+)\slevel([0-9]+)/);if(e){var s=parseInt(e[1]),a=parseInt(e[2]),l=t(this).html().match(/^[\w]+\./)?"ol":"ul",c=t("<li/>").html(t(this).html());if(c.html(c.html().replace(/^([\w\.]+)</,"<")),c.find("span:first").remove(),1==a&&-1==t.inArray(s,o)){var u=t("<"+l+"/>").attr({"data-level":a,"data-list":s}).html(c);t(this).replaceWith(u),n=s,o.push(s)}else{if(a>r){for(var h=i.find('[data-level="'+r+'"][data-list="'+n+'"]'),d=h,f=r;a>f;f++)u=t("<"+l+"/>"),u.appendTo(d.find("li").last()),d=u;d.attr({"data-level":a,"data-list":s}).html(c)}else{var h=i.find('[data-level="'+a+'"][data-list="'+s+'"]').last();h.append(c)}r=a,n=s,t(this).remove()}}}),i.find("[data-level][data-list]").removeAttr("data-level data-list"),e=i.html()},replaceNbspToSpaces:function(t){return t.replace("&nbsp;"," ")},replaceBrToNl:function(t){return t.replace(/<br\s?\/?>/gi,"\n")},replaceNlToBr:function(t){return t.replace(/\n/g,"<br />")},convertTags:function(e,i){var n=t("<div>").html(e);n.find("iframe").remove();var r=n.find("a");if(r.removeAttr("style"),!1!==this.opts.pasteLinkTarget&&r.attr("target",this.opts.pasteLinkTarget),i.links&&this.opts.pasteLinks&&n.find("a").each(function(t,e){if(e.href){for(var i,n='##%a href="'+e.href+'"',r=0,o=e.attributes.length;o>r;r++)i=e.attributes.item(r),"href"!==i.name&&(n+=" "+i.name+'="'+i.value+'"');e.outerHTML=n+"%##"+e.innerHTML+"##%/a%##"}}),e=n.html(),i.images&&this.opts.pasteImages&&(e=e.replace(/<img(.*?)src="(.*?)"(.*?[^>])>/gi,'##%img$1src="$2"$3%##')),this.opts.pastePlainText)return e;var o,s=i.lists?["ul","ol","li"]:this.opts.pasteBlockTags;o=i.block||i.lists?i.inline?s.concat(this.opts.pasteInlineTags):s:i.inline?this.opts.pasteInlineTags:[];for(var a=o.length,l=0;a>l;l++)e=e.replace(new RegExp("</"+o[l]+">","gi"),"###/"+o[l]+"###"),"td"===o[l]||"th"===o[l]?e=e.replace(new RegExp("<"+o[l]+'(.*?[^>])((colspan|rowspan)="(.*?[^>])")?(.*?[^>])>',"gi"),"###"+o[l]+" $2###"):"span"===o[l]?(e=e.replace(new RegExp("<"+o[l]+'([^>]*)class="([^>]*)"[^>]*>',"gi"),"###"+o[l]+' class="$2"###'),e=e.replace(new RegExp("<"+o[l]+'([^>]*)data-redactor-style-cache="([^>]*)"[^>]*>',"gi"),"###"+o[l]+' cache="$2"###')):e=e.replace(new RegExp("<"+o[l]+"[^>]*>","gi"),"###"+o[l]+"###");return e},reconvertTags:function(t,e){if((e.links&&this.opts.pasteLinks||e.images&&this.opts.pasteImages)&&(t=t.replace(new RegExp("##%","gi"),"<"),t=t.replace(new RegExp("%##","gi"),">")),this.opts.pastePlainText)return t;var i,n=e.lists?["ul","ol","li"]:this.opts.pasteBlockTags;i=e.block||e.lists?e.inline?n.concat(this.opts.pasteInlineTags):n:e.inline?this.opts.pasteInlineTags:[];for(var r=i.length,o=0;r>o;o++)t=t.replace(new RegExp("###/"+i[o]+"###","gi"),"</"+i[o]+">");for(var o=0;r>o;o++)t=t.replace(new RegExp("###"+i[o]+"###","gi"),"<"+i[o]+">");for(var o=0;r>o;o++)"td"===i[o]||"th"===i[o]?t=t.replace(new RegExp("###"+i[o]+"s?(.*?[^#])###","gi"),"<"+i[o]+"$1>"):"span"===i[o]&&(t=t.replace(new RegExp("###"+i[o]+' cache="(.*?[^#])"###',"gi"),"<"+i[o]+' style="$1" data-redactor-span="true" data-redactor-style-cache="$1">'),t=t.replace(new RegExp("###"+i[o]+"s?(.*?[^#])###","gi"),"<"+i[o]+"$1>"));return t},cleanPre:function(e){e=void 0===e?t(this.selection.block()).closest("pre",this.core.editor()[0]):e,t(e).find("br").replaceWith(function(){return document.createTextNode("\n")}),t(e).find("p").replaceWith(function(){return t(this).contents()})},removeTagsInsidePre:function(e){var i=t("<div />").append(e);return i.find("pre").replaceWith(function(){var e=t(this).html();return e=e.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n"),e=e.replace(/(<([^>]+)>)/gi,""),t("<pre />").append(e)}),e=i.html(),i.remove(),e},getPlainText:function(e){e=e.replace(/<!--[\s\S]*?-->/gi,""),e=e.replace(/<style[\s\S]*?style>/gi,""),e=e.replace(/<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n"),e=e.replace(/<\/H[1-6]>/gi,"\n\n");var i=document.createElement("div");return i.innerHTML=e,e=i.textContent||i.innerText,t.trim(e)},savePreCode:function(t){return t=this.clean.savePreFormatting(t),t=this.clean.saveCodeFormatting(t),t=this.clean.restoreSelectionMarkers(t)},savePreFormatting:function(e){var i=e.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return null===i?e:(t.each(i,t.proxy(function(t,i){var n,r,o,s=[],a=!1;i.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>/i)?(s=i.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>([\w\W]*?)<\/code><\/pre>/i),a=!0,n=s[5],r=s[1],o=s[4]):(s=i.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i),n=s[2],r=s[1]),n=n.replace(/<br\s?\/?>/g,"\n"),n=n.replace(/&nbsp;/g," "),this.opts.preSpaces&&(n=n.replace(/\t/g,new Array(this.opts.preSpaces+1).join(" "))),n=this.clean.encodeEntities(n),n=n.replace(/\$/g,"&#36;"),e=a?e.replace(i,"<pre"+r+"><code"+o+">"+n+"</code></pre>"):e.replace(i,"<pre"+r+">"+n+"</pre>")},this)),e)},saveCodeFormatting:function(e){var i=e.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);return null===i?e:(t.each(i,t.proxy(function(t,i){var n=i.match(/<code(.*?)>([\w\W]*?)<\/code>/i);n[2]=n[2].replace(/&nbsp;/g," "),n[2]=this.clean.encodeEntities(n[2]),n[2]=n[2].replace(/\$/g,"&#36;"),e=e.replace(i,"<code"+n[1]+">"+n[2]+"</code>")},this)),e)},restoreSelectionMarkers:function(t){return t=t.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot;&gt;​&lt;\/span&gt;/g,'<span id="selection-marker-$1" class="redactor-selection-marker">​</span>')},saveFormTags:function(t){return t.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(t){return t.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")},encodeHtml:function(t){return t=t.replace(/”/g,'"'),t=t.replace(/“/g,'"'),t=t.replace(/‘/g,"'"),t=t.replace(/’/g,"'"),t=this.clean.encodeEntities(t)},encodeEntities:function(t){return t=String(t).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},stripTags:function(t,e){if(void 0===e)return t.replace(/(<([^>]+)>)/gi,"");var i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return t.replace(i,function(t,i){return-1===e.indexOf(i.toLowerCase())?t:""})},removeMarkers:function(t){return t.replace(/<span(.*?[^>]?)class="redactor-selection-marker"(.*?[^>]?)>([\w\W]*?)<\/span>/gi,"")},removeSpaces:function(e){return e=t.trim(e),e=e.replace(/\n/g,""),e=e.replace(/[\t]*/g,""),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/g," "),e=e.replace(/[\s\n]*$/g," "),e=e.replace(/>\s{2,}</g,"> <"),e=e.replace(/\n\n/g,"\n"),e=e.replace(/\u200B/g,"")},removeSpacesHard:function(e){return e=t.trim(e),e=e.replace(/\n/g,""),e=e.replace(/[\t]*/g,""),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/g,""),e=e.replace(/[\s\n]*$/g,""),e=e.replace(/>\s{2,}</g,"><"),e=e.replace(/\n\n/g,"\n"),e=e.replace(/\u200B/g,"")},normalizeCurrentHeading:function(){var t=this.selection.block();this.utils.isCurrentOrParentHeader()&&t&&t.normalize()}}},code:function(){return{syncFire:!0,html:!1,start:function(e){e=t.trim(e),e=e.replace(/^(<span id="selection-marker-1" class="redactor-selection-marker">​<\/span>)/,""),"textarea"===this.opts.type?e=this.clean.onSet(e):"div"===this.opts.type&&""===e&&(e=this.opts.emptyHtml),e=e.replace(/<p><span id="selection-marker-1" class="redactor-selection-marker">​<\/span><\/p>/,""),this.events.stopDetectChanges(),this.core.editor().html(e),this.observe.load(),this.events.startDetectChanges()},set:function(e,i){e=t.trim(e),i=i||{},i.start&&(this.start=i.start),"textarea"===this.opts.type?e=this.clean.onSet(e):"div"===this.opts.type&&""===e&&(e=this.opts.emptyHtml),this.core.editor().html(e),"textarea"===this.opts.type&&this.code.sync(),this.placeholder.enable()},get:function(){if("textarea"===this.opts.type)return this.core.textarea().val();var t=this.core.editor().html();return t=this.clean.onGet(t)},sync:function(){if(this.code.syncFire){var e=this.core.editor().html(),i=this.code.cleaned(e);if(!this.code.isSync(i))return this.code.html=i,"textarea"!==this.opts.type?(this.core.callback("sync",e),void this.core.callback("change",e)):void("textarea"===this.opts.type&&setTimeout(t.proxy(function(){this.code.startSync(e)},this),10))}},startSync:function(t){t=this.core.callback("syncBefore",t),t=this.clean.onSync(t),this.core.textarea().val(t),this.core.callback("sync",t),!1===this.start&&this.core.callback("change",t),this.start=!1},isSync:function(t){var e=!1!==this.code.html&&this.code.html;return!1!==e&&e===t},cleaned:function(t){return t=t.replace(/\u200B/g,""),this.clean.removeMarkers(t)}}},core:function(){return{id:function(){return this.$editor.attr("id")},element:function(){return this.$element},editor:function(){return void 0===this.$editor?t():this.$editor},textarea:function(){return this.$textarea},box:function(){return"textarea"===this.opts.type?this.$box:this.$element},toolbar:function(){return!!this.$toolbar&&this.$toolbar},air:function(){return!!this.$air&&this.$air},object:function(){return t.extend({},this)},structure:function(){this.core.editor().toggleClass("redactor-structure")},addEvent:function(t){this.core.event=t},getEvent:function(){return this.core.event},callback:function(e,i,n){var r=!1,o=t._data(this.core.element()[0],"events");if(void 0!==o&&void 0!==o[e])for(var s=o[e].length,a=0;s>a;a++){var l=o[e][a].namespace;if("callback.redactor"===l){var c=o[e][a].handler,u=void 0===n?[i]:[i,n];r=void 0===u?c.call(this,i):c.call(this,i,u)}}if(r)return r;if(void 0===this.opts.callbacks[e])return void 0===n?i:n;var h=this.opts.callbacks[e];return t.isFunction(h)?void 0===n?h.call(this,i):h.call(this,i,n):void 0===n?i:n},destroy:function(){this.opts.destroyed=!0,this.core.callback("destroy"),this.placeholder.destroy(),this.progress.destroy(),t("#redactor-voice-"+this.uuid).remove(),this.core.editor().removeClass("redactor-in redactor-styles redactor-structure redactor-layer-img-edit"),this.core.editor().off("keydown.redactor-remove-textnode"),this.core.editor().off(".redactor-observe."+this.uuid),this.$element.off(".redactor").removeData("redactor"),this.core.editor().off(".redactor"),t(document).off(".redactor-dropdown"),t(document).off(".redactor-air."+this.uuid),t(document).off("mousedown.redactor-blur."+this.uuid),t(document).off("mousedown.redactor."+this.uuid),t(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid),t(window).off(".redactor-toolbar."+this.uuid),t(window).off("touchmove.redactor."+this.uuid),t("body").off("scroll.redactor."+this.uuid),t(this.opts.toolbarFixedTarget).off("scroll.redactor."+this.uuid);var e=this;!1!==this.opts.plugins&&t.each(this.opts.plugins,function(i,n){t(window).off(".redactor-plugin-"+n),t(document).off(".redactor-plugin-"+n),t("body").off(".redactor-plugin-"+n),e.core.editor().off(".redactor-plugin-"+n)}),this.$element.off("click.redactor-click-to-edit"),this.$element.removeClass("redactor-click-to-edit"),this.core.editor().removeClass("redactor-layer"),this.core.editor().removeAttr("contenteditable");var i=this.code.get();this.opts.toolbar&&this.$toolbar&&this.$toolbar.find("a").each(function(){var e=t(this);e.data("dropdown")&&(e.data("dropdown").remove(),e.data("dropdown",{}))}),"textarea"===this.opts.type&&(this.$box.after(this.$element),this.$box.remove(),this.$element.val(i).show()),this.opts.air&&this.$air.remove(),this.opts.toolbar&&this.$toolbar&&this.$toolbar.remove(),this.$modalBox&&this.$modalBox.remove(),this.$modalOverlay&&this.$modalOverlay.remove(),t(".redactor-link-tooltip").remove(),clearInterval(this.autosaveTimeout)}}},detect:function(){return{isWebkit:function(){return/webkit/.test(this.opts.userAgent)},isFirefox:function(){return this.opts.userAgent.indexOf("firefox")>-1},isIe:function(t){if(document.documentMode||/Edge/.test(navigator.userAgent))return"edge";var e;return e=RegExp("msie"+(isNaN(t)?"":"\\s"+t),"i").test(navigator.userAgent),e||(e=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),e},isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isIpad:function(){return/iPad/.test(navigator.userAgent)}}},dropdown:function(){return{active:!1,button:!1,key:!1,position:[],getDropdown:function(){return this.dropdown.active},build:function(e,i,n){n=this.dropdown.buildFormatting(e,n),t.each(n,t.proxy(function(t,n){var r=this.dropdown.buildItem(t,n);this.observe.addDropdown(r,t,n),i.attr("rel",e).append(r)},this))},buildFormatting:function(e,i){return"format"!==e||!1===this.opts.formattingAdd?i:(t.each(this.opts.formattingAdd,t.proxy(function(t,e){var n=this.utils.isBlockTag(e.args[0])?"block":"inline";i[t]={func:"block"===n?"block.format":"inline.format",args:e.args,title:e.title}},this)),i)},buildItem:function(e,i){var n=t("<li />");if(void 0!==i.classname&&n.addClass(i.classname),-1!==e.search(/^divider/i))return n.addClass("redactor-dropdown-divider"),n;var r=t('<a href="#" class="redactor-dropdown-'+e+'" role="button" />'),o=t("<span />").html(i.title);return r.append(o),r.on("mousedown",t.proxy(function(t){t.preventDefault(),this.dropdown.buildClick(t,e,i)},this)),n.append(r),n},buildClick:function(e,i,n){if(!t(e.target).hasClass("redactor-dropdown-link-inactive")){var r=this.dropdown.buildCommand(n);" undefined"!=typeof n.args?this.button.toggle(e,i,r.type,r.callback,n.args):this.button.toggle(e,i,r.type,r.callback)}},buildCommand:function(t){var e={};return e.type="func",e.callback=t.func,t.command?(e.type="command",e.callback=t.command):t.dropdown&&(e.type="dropdown",e.callback=t.dropdown),e},show:function(e,i){return this.detect.isDesktop()&&this.core.editor().focus(),this.dropdown.hideAll(!1,i),this.dropdown.key=i,this.dropdown.button=this.button.get(this.dropdown.key),this.dropdown.button.hasClass("dropact")?void this.dropdown.hide():(this.dropdown.active=this.dropdown.button.data("dropdown").appendTo(document.body),this.core.callback("dropdownShow",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button}),this.button.setActive(this.dropdown.key),this.dropdown.button.addClass("dropact"),this.dropdown.getButtonPosition(),this.button.toolbar().hasClass("toolbar-fixed-box")&&this.detect.isDesktop()?this.dropdown.showIsFixedToolbar():this.dropdown.showIsUnFixedToolbar(),this.detect.isDesktop()&&!this.detect.isFirefox()&&(this.dropdown.active.on("mouseover.redactor-dropdown",t.proxy(this.utils.disableBodyScroll,this)),this.dropdown.active.on("mouseout.redactor-dropdown mousedown.redactor-dropdown",t.proxy(this.utils.enableBodyScroll,this))),void e.stopPropagation())},showIsFixedToolbar:function(){var e=this.dropdown.button.position().top+this.dropdown.button.innerHeight()+this.opts.toolbarFixedTopOffset,i="fixed";this.opts.toolbarFixedTarget!==document&&(e=this.dropdown.button.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,i="absolute"),this.dropdown.active.css({position:i,left:this.dropdown.position.left+"px",top:e+"px"}).show(),this.dropdown.active.redactorAnimation("slideDown",{duration:.2},t.proxy(function(){this.dropdown.enableCallback(),this.dropdown.enableEvents()},this))},showIsUnFixedToolbar:function(){this.dropdown.active.css({position:"absolute",left:this.dropdown.position.left+"px",top:this.dropdown.button.innerHeight()+this.dropdown.position.top+"px"}).show(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideDown":"show",{duration:.2},t.proxy(function(){this.dropdown.enableCallback(),this.dropdown.enableEvents()},this))},enableEvents:function(){t(document).on("mousedown.redactor-dropdown",t.proxy(this.dropdown.hideAll,this)),this.core.editor().on("touchstart.redactor-dropdown",t.proxy(this.dropdown.hideAll,this)),t(document).on("keyup.redactor-dropdown",t.proxy(this.dropdown.closeHandler,this))},enableCallback:function(){this.core.callback("dropdownShown",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button})},getButtonPosition:function(){this.dropdown.position=this.dropdown.button.offset();var e=this.dropdown.active.width();this.dropdown.position.left+e>t(document).width()&&(this.dropdown.position.left=Math.max(0,this.dropdown.position.left-e+parseInt(this.dropdown.button.innerWidth())))},closeHandler:function(t){t.which===this.keyCode.ESC&&(this.dropdown.hideAll(t),this.core.editor().focus())},hideAll:function(e,i){if(this.detect.isDesktop()&&this.utils.enableBodyScroll(),!1===e||0===t(e.target).closest(".redactor-dropdown").length){var n=void 0===i?this.button.toolbar().find("a.dropact"):this.button.toolbar().find("a.dropact").not(".re-"+i),r=void 0===i?t(".redactor-dropdown-"+this.uuid):t(".redactor-dropdown-"+this.uuid).not(".redactor-dropdown-box-"+i);0!==r.length&&(t(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),t.each(r,t.proxy(function(e,i){var n=t(i);this.core.callback("dropdownHide",n),n.hide(),n.off("mouseover mouseout").off(".redactor-dropdown")},this)),n.removeClass("redactor-act dropact"))}},hide:function(){!1!==this.dropdown.active&&(this.detect.isDesktop()&&this.utils.enableBodyScroll(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideUp":"hide",{duration:.2},t.proxy(function(){t(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),this.dropdown.hideOut()},this)))},hideOut:function(){this.core.callback("dropdownHide",this.dropdown.active),this.dropdown.button.removeClass("redactor-act dropact"),this.dropdown.active.off("mouseover mouseout").off(".redactor-dropdown"),this.dropdown.button=!1,this.dropdown.key=!1,this.dropdown.active=!1}}},events:function(){return{focused:!1,blured:!0,dropImage:!1,stopChanges:!1,stopDetectChanges:function(){this.events.stopChanges=!0},startDetectChanges:function(){var t=this;setTimeout(function(){t.events.stopChanges=!1},1)},dragover:function(e){e.preventDefault(),e.stopPropagation(),"IMG"===e.target.tagName&&t(e.target).addClass("redactor-image-dragover")},dragleave:function(t){this.core.editor().find("img").removeClass("redactor-image-dragover")},drop:function(t){return t=t.originalEvent||t,this.core.editor().find("img").removeClass("redactor-image-dragover"),"inline"===this.opts.type||"pre"===this.opts.type?(t.preventDefault(),!1):void 0===window.FormData||!t.dataTransfer||(0===t.dataTransfer.files.length?this.events.onDrop(t):(this.events.onDropUpload(t),void this.core.callback("drop",t)))},click:function(t){var e=this.core.getEvent(),i="click"!==e&&"arrow"!==e&&"click";this.core.addEvent(i),this.utils.disableSelectAll(),this.core.callback("click",t)},focus:function(t){if(!this.rtePaste&&(this.events.isCallback("focus")&&this.core.callback("focus",t),this.events.focused=!0,this.events.blured=!1,!1===this.selection.current())){var e=this.selection.get(),i=this.selection.range(e);i.setStart(this.core.editor()[0],0),i.setEnd(this.core.editor()[0],0),this.selection.update(e,i)}},blur:function(e){this.start||this.rtePaste||0===t(e.target).closest("#"+this.core.id()+", .redactor-toolbar, .redactor-dropdown, #redactor-modal-box").length&&(!this.events.blured&&this.events.isCallback("blur")&&this.core.callback("blur",e),this.events.focused=!1,this.events.blured=!0)},touchImageEditing:function(){var e=-1;this.events.imageEditing=!1,t(window).on("touchmove.redactor."+this.uuid,t.proxy(function(){this.events.imageEditing=!0,-1!==e&&clearTimeout(e),e=setTimeout(t.proxy(function(){this.events.imageEditing=!1},this),500)},this))},init:function(){this.core.editor().on("dragover.redactor dragenter.redactor",t.proxy(this.events.dragover,this)),this.core.editor().on("dragleave.redactor",t.proxy(this.events.dragleave,this)),this.core.editor().on("drop.redactor",t.proxy(this.events.drop,this)),this.core.editor().on("click.redactor",t.proxy(this.events.click,this)),this.core.editor().on("paste.redactor",t.proxy(this.paste.init,this)),this.core.editor().on("keydown.redactor",t.proxy(this.keydown.init,this)),this.core.editor().on("keyup.redactor",t.proxy(this.keyup.init,this)),this.core.editor().on("focus.redactor",t.proxy(this.events.focus,this)),t(document).on("mousedown.redactor-blur."+this.uuid,t.proxy(this.events.blur,this)),this.events.touchImageEditing(),this.events.createObserver(),this.events.setupObserver()},createObserver:function(){var e=this;this.events.observer=new MutationObserver(function(i){i.forEach(t.proxy(e.events.iterateObserver,e))})},iterateObserver:function(t){var e=!1;(("textarea"===this.opts.type||"div"===this.opts.type)&&!this.detect.isFirefox()&&t.target===this.core.editor()[0]||"class"===t.attributeName&&t.target===this.core.editor()[0])&&(e=!0),e||(this.observe.load(),this.events.changeHandler())},setupObserver:function(){this.events.observer.observe(this.core.editor()[0],{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})},changeHandler:function(){this.events.stopChanges||(this.code.sync(),this.autosave.is()&&(clearTimeout(this.autosaveTimeout),this.autosaveTimeout=setTimeout(t.proxy(this.autosave.send,this),300)))},onDropUpload:function(t){if(t.preventDefault(),t.stopPropagation(),(this.opts.dragImageUpload||this.opts.dragFileUpload)&&(null!==this.opts.imageUpload||null!==this.opts.fileUpload)){"IMG"===t.target.tagName&&(this.events.dropImage=t.target);for(var e=t.dataTransfer.files,i=e.length,n=0;i>n;n++)this.upload.directUpload(e[n],t)}},onDrop:function(t){this.core.callback("drop",t)},isCallback:function(e){return void 0!==this.opts.callbacks[e]&&t.isFunction(this.opts.callbacks[e])},stopDetect:function(){this.events.stopDetectChanges()},startDetect:function(){this.events.startDetectChanges()}}},file:function(){return{is:function(){return!(!this.opts.fileUpload||!this.opts.fileUpload&&!this.opts.s3)},show:function(){this.modal.load("file",this.lang.get("file"),700),this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert),t("#redactor-filename").val(this.selection.get().toString()),this.modal.show()},insert:function(e,i,n){if(void 0!==e.error)return this.modal.close(),void this.core.callback("fileUploadError",e);this.file.release(n,i),this.buffer.set(),this.air.collapsed();var r=this.file.text(e),o=t("<a />").attr("href",e.url).text(r),s=void 0===e.id?"":e.id,a=void 0===e.s3?"file":"s3";o.attr("data-"+a,s),o=t(this.insert.node(o)),this.caret.after(o),this.storage.add({type:a,node:o[0],url:o[0].href,id:s}),null!==i&&this.core.callback("fileUpload",o,e)},release:function(t,e){e?(this.marker.remove(),this.insert.nodeToPoint(t,this.marker.get()),this.selection.restore()):this.modal.close()},text:function(e){var i=t("#redactor-filename").val();return void 0===i||""===i?e.name:i}}},focus:function(){return{start:function(){if(this.core.editor().focus(),"inline"!==this.opts.type){var t=this.focus.first();!1!==t&&this.caret.start(t)}},end:function(){this.core.editor().focus();var t=this.opts.inline?this.core.editor():this.focus.last();if(0!==t.length){var e=this.focus.lastChild(t);if(this.detect.isWebkit()||!1===e){var i=this.selection.get(),n=this.selection.range(i);null!==n?(n.selectNodeContents(t[0]),n.collapse(!1),this.selection.update(i,n)):this.caret.end(t)}else this.caret.end(e)}},first:function(){var t=this.core.editor().children().first();return(0!==t.length||0!==t[0].length&&"BR"!==t[0].tagName&&"HR"!==t[0].tagName&&3!==t[0].nodeType)&&("UL"===t[0].tagName||"OL"===t[0].tagName?t.find("li").first():t)},last:function(){return this.core.editor().children().last()},lastChild:function(t){var e=t[0].lastChild;return!(null===e||!this.utils.isInlineTag(e.tagName))&&e},is:function(){return this.core.editor()[0]===document.activeElement}}},image:function(){return{is:function(){return!(!this.opts.imageUpload||!this.opts.imageUpload&&!this.opts.s3)},show:function(){this.modal.load("image",this.lang.get("image"),700),this.upload.init("#redactor-modal-image-droparea",this.opts.imageUpload,this.image.insert),this.modal.show()},insert:function(e,i,n){var r;if(void 0!==e.error)return this.modal.close(),this.events.dropImage=!1,void this.core.callback("imageUploadError",e,n);if(!1!==this.events.dropImage)return r=t(this.events.dropImage),this.core.callback("imageDelete",r[0].src,r),r.attr("src",e.url),this.events.dropImage=!1,void this.core.callback("imageUpload",r,e);this.placeholder.hide();var o=t("<"+this.opts.imageTag+">");r=t("<img>"),r.attr("src",e.url);var s=void 0===e.id?"":e.id,a=void 0===e.s3?"image":"s3";r.attr("data-"+a,s),o.append(r);var l=this.utils.isTag(this.selection.current(),"pre");if(i){this.air.collapsed(),this.marker.remove();var c=this.insert.nodeToPoint(n,this.marker.get()),u=t(c).next();this.selection.restore(),this.buffer.set(),void 0!==u&&0!==u.length&&"IMG"===u[0].tagName?(this.core.callback("imageDelete",u[0].src,u),u.closest("figure, p",this.core.editor()[0]).replaceWith(o),this.caret.after(o)):(l?t(l).after(o):this.insert.node(o),this.caret.after(o))}else this.modal.close(),this.buffer.set(),this.air.collapsed(),l?t(l).after(o):this.insert.node(o),this.caret.after(o);this.events.dropImage=!1,this.storage.add({type:a,node:r[0],url:r[0].src,id:s}),null!==i?this.core.callback("imageUpload",r,e):this.core.callback("imageInserted",r,e)},setEditable:function(e){if(e.on("dragstart",function(t){t.preventDefault()}),this.opts.imageResizable){var i=t.proxy(function(i){this.observe.image=e,this.image.resizer=this.image.loadEditableControls(e),t(document).on("mousedown.redactor-image-resize-hide."+this.uuid,t.proxy(this.image.hideResize,this)),this.image.resizer&&this.image.resizer.on("mousedown.redactor touchstart.redactor",t.proxy(function(t){this.image.setResizable(t,e)},this))},this);e.off("mousedown.redactor").on("mousedown.redactor",t.proxy(this.image.hideResize,this)),e.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",i)}else e.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",t.proxy(function(i){setTimeout(t.proxy(function(){this.image.showEdit(e)},this),200)},this))},setResizable:function(t,e){t.preventDefault(),this.image.resizeHandle={x:t.pageX,y:t.pageY,el:e,ratio:e.width()/e.height(),h:e.height()},t=t.originalEvent||t,t.targetTouches&&(this.image.resizeHandle.x=t.targetTouches[0].pageX,this.image.resizeHandle.y=t.targetTouches[0].pageY),this.image.startResize()},startResize:function(){t(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",t.proxy(this.image.moveResize,this)),t(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",t.proxy(this.image.stopResize,this))},moveResize:function(t){t.preventDefault(),t=t.originalEvent||t;var e=this.image.resizeHandle.h;e+=t.targetTouches?t.targetTouches[0].pageY-this.image.resizeHandle.y:t.pageY-this.image.resizeHandle.y;var i=Math.round(e*this.image.resizeHandle.ratio);if(!(50>e||100>i)){var e=Math.round(this.image.resizeHandle.el.width()/this.image.resizeHandle.ratio);this.image.resizeHandle.el.attr({width:i,height:e}),this.image.resizeHandle.el.width(i),this.image.resizeHandle.el.height(e),this.code.sync()}},stopResize:function(){this.handle=!1,t(document).off(".redactor-image-resize"),this.image.hideResize()},hideResize:function(e){if(!e||0===t(e.target).closest("#redactor-image-box",this.$editor[0]).length){e&&"IMG"==e.target.tagName&&t(e.target);var i=this.$editor.find("#redactor-image-box");0!==i.length&&(t("#redactor-image-editter").remove(),t("#redactor-image-resizer").remove(),i.find("img").css({marginTop:i[0].style.marginTop,marginBottom:i[0].style.marginBottom,marginLeft:i[0].style.marginLeft,marginRight:i[0].style.marginRight}),i.css("margin",""),i.find("img").css("opacity",""),i.replaceWith(function(){return t(this).contents()}),t(document).off("mousedown.redactor-image-resize-hide."+this.uuid),void 0!==this.image.resizeHandle&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style")))}},loadResizableControls:function(e,i){if(this.opts.imageResizable&&!this.detect.isMobile()){var n=t('<span id="redactor-image-resizer" data-redactor="verified"></span>');return this.detect.isDesktop()||n.css({width:"15px",height:"15px"}),n.attr("contenteditable",!1),i.append(n),i.append(e),n}return i.append(e),!1},loadEditableControls:function(e){var i=t('<span id="redactor-image-box" data-redactor="verified">');if(i.css("float",e.css("float")).attr("contenteditable",!1),"auto"!=e[0].style.margin?(i.css({marginTop:e[0].style.marginTop,marginBottom:e[0].style.marginBottom,marginLeft:e[0].style.marginLeft,marginRight:e[0].style.marginRight}),e.css("margin","")):i.css({display:"block",margin:"auto"}),e.css("opacity",".5").after(i),this.opts.imageEditable){this.image.editter=t('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>"),this.image.editter.attr("contenteditable",!1),this.image.editter.on("click",t.proxy(function(){this.image.showEdit(e)},this)),i.append(this.image.editter);var n=this.image.editter.innerWidth();this.image.editter.css("margin-left","-"+n/2+"px")}return this.image.loadResizableControls(e,i)},showEdit:function(e){if(!this.events.imageEditing){this.observe.image=e;var i=e.closest("a",this.$editor[0]),n=e.closest("figure",this.$editor[0]),r=0!==n.length?n:e;if(this.modal.load("image-edit",this.lang.get("edit"),705),this.image.buttonDelete=this.modal.getDeleteButton().text(this.lang.get("delete")),this.image.buttonSave=this.modal.getActionButton().text(this.lang.get("save")),this.image.buttonDelete.on("click",t.proxy(this.image.remove,this)),this.image.buttonSave.on("click",t.proxy(this.image.update,this)),!1===this.opts.imageCaption)t("#redactor-image-caption").val("").hide().prev().hide();else{var o=e.closest(this.opts.imageTag,this.$editor[0]),s=o.find("figcaption");0!==s&&t("#redactor-image-caption").val(s.text()).show()}if(this.opts.imagePosition){var a=0!==n.length?"center"===r.css("text-align"):"block"==r.css("display")&&"none"==r.css("float"),l=a?"center":r.css("float");t("#redactor-image-align").val(l)}else t(".redactor-image-position-option").hide();t("#redactor-image-preview").html(t('<img src="'+e.attr("src")+'" style="max-width: 100%;">')),t("#redactor-image-title").val(e.attr("alt"));var c=t("#redactor-image-link");c.attr("href",e.attr("src")),0!==i.length&&(c.val(i.attr("href")),"_blank"===i.attr("target")&&t("#redactor-image-link-blank").prop("checked",!0)),t(".redactor-link-tooltip").remove(),this.modal.show(),this.detect.isDesktop()&&t("#redactor-image-title").focus()}},update:function(){var e=this.observe.image,i=e.closest("a",this.core.editor()[0]),n=t("#redactor-image-title").val().replace(/(<([^>]+)>)/gi,"");e.attr("alt",n).attr("title",n),this.image.setFloating(e);var r=t.trim(t("#redactor-image-link").val()).replace(/(<([^>]+)>)/gi,"");if(""!==r){var o="((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}",s=new RegExp("^(http|ftp|https)://"+o,"i"),a=new RegExp("^"+o,"i");-1===r.search(s)&&0===r.search(a)&&this.opts.linkProtocol&&(r=this.opts.linkProtocol+"://"+r);var l=!!t("#redactor-image-link-blank").prop("checked");if(0===i.length){var c=t('<a href="'+r+'" id="redactor-img-tmp">'+this.utils.getOuterHtml(e)+"</a>");l&&c.attr("target","_blank"),e=e.replaceWith(c),i=this.core.editor().find("#redactor-img-tmp"),i.removeAttr("id")}else i.attr("href",r),l?i.attr("target","_blank"):i.removeAttr("target")}else 0!==i.length&&i.replaceWith(this.utils.getOuterHtml(e));this.image.addCaption(e,i),this.modal.close(),this.buffer.set()},setFloating:function(e){var i=e.closest("figure",this.$editor[0]),n=0!==i.length?i:e,r=t("#redactor-image-align").val(),o="",s="",a="",l="";switch(r){case"left":o="left",a="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case"right":o="right",a="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;break;case"center":0!==i.length?l="center":(s="block",a="auto")}n.css({float:o,display:s,margin:a,"text-align":l}),n.attr("rel",e.attr("style"))},addCaption:function(e,i){var n=t("#redactor-image-caption").val(),r=0!==i.length?i:e,o=r.next();0!==o.length&&"FIGCAPTION"===o[0].tagName||(o=!1),""!==n?!1===o?(o=t("<figcaption />").text(n),r.after(o)):o.text(n):!1!==o&&o.remove()},remove:function(e,i,n){i=void 0===i?t(this.observe.image):i,"boolean"!=typeof e&&this.buffer.set(),this.events.stopDetectChanges();var r=i.closest("a",this.core.editor()[0]),o=i.closest(this.opts.imageTag,this.core.editor()[0]);i.parent();if(!1===this.core.callback("imageDelete",e,i[0]))return e.preventDefault(),!1;0!==t("#redactor-image-box").length&&t("#redactor-image-box").parent();var s,a;0!==o.length?(a=o.prev(),s=o.next(),o.remove()):0!==r.length?(r.parent(),r.remove()):i.remove(),t("#redactor-image-box").remove(),!1!==e&&(s&&0!==s.length?this.caret.start(s):a&&0!==a.length&&this.caret.end(a)),"boolean"!=typeof e&&this.modal.close(),this.utils.restoreScroll(),this.observe.image=!1,this.events.startDetectChanges(),this.placeholder.enable(),this.code.sync()}}},indent:function(){return{increase:function(){if(this.list.get()){var e=t(this.selection.current()).closest("li"),i=e.closest("ul, ol",this.core.editor()[0]),n=e.closest("li"),r=n.prev();if(0!==r.length&&"LI"===r[0].tagName)if(this.buffer.set(),this.utils.isCollapsed()){var o=i[0].tagName,s=t("<"+o+" />");this.selection.save();var a=r.find("ol").first();if(1===a.length)a.append(e);else{var o=i[0].tagName,s=t("<"+o+" />");s.append(e),r.append(s)}this.selection.restore()}else document.execCommand("indent"),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize(),this.selection.restore()}},decrease:function(){if(this.list.get()){t(this.selection.current()).closest("li").closest("ul, ol",this.core.editor()[0]),this.buffer.set(),document.execCommand("outdent");var e=t(this.selection.current()).closest("li",this.core.editor()[0]);if(this.utils.isCollapsed()&&this.indent.repositionItem(e),0===e.length){document.execCommand("formatblock",!1,"p"),e=t(this.selection.current());var i=e.next();0!==i.length&&"BR"===i[0].tagName&&i.remove()}this.selection.save(),this.indent.removeEmpty(),this.indent.normalize(),this.selection.restore()}},repositionItem:function(t){var e=t.next();0===e.length||"UL"===e[0].tagName&&"OL"===e[0].tagName||t.append(e);var i=t.prev();if(0!==i.length&&"LI"!==i[0].tagName){this.selection.save();t.parents("li",this.core.editor()[0]).after(t),this.selection.restore()}},normalize:function(){this.core.editor().find("li").each(t.proxy(function(e,i){var n=t(i);n.find(this.opts.inlineTags.join(",")).each(function(){t(this).removeAttr("style")});var r=n.parent();if(0!==r.length&&"LI"===r[0].tagName)return void r.after(n);var o=n.next();0===o.length||"UL"!==o[0].tagName&&"OL"!==o[0].tagName||n.append(o)},this))},removeEmpty:function(e){var i=this.core.editor().find("ul, ol"),n=this.core.editor().find("li");n.each(t.proxy(function(t,e){this.indent.removeItemEmpty(e)},this)),i.each(t.proxy(function(t,e){this.indent.removeItemEmpty(e)},this)),n.each(t.proxy(function(t,e){this.indent.removeItemEmpty(e)},this))},removeItemEmpty:function(e){var i=e.innerHTML.replace(/[\t\s\n]/g,"");""===(i=i.replace(/<span><\/span>/g,""))&&t(e).remove()}}},inline:function(){return{getClearedNodes:function(){for(var e=this.selection.nodes(),i=[],n=e.length,r=0,o=0;n>o;o++)if(t(e[o]).hasClass("redactor-selection-marker")){r=o+2;break}for(var o=0;n>o;o++)o>=r&&!this.utils.isBlockTag(e[o].tagName)&&i.push(e[o]);return i},isConvertableAttr:function(e,i,n){var r=t(e).attr(i);if(r)if("style"===i){n=t.trim(n).replace(/;$/,"");for(var o=n.split(";"),s=0,a=0;a<o.length;a++){var l=o[a].split(":"),c=t.trim(l[0]),u=t.trim(l[1]);if(-1!==c.search(/color/)){var h=t(e).css(c);!h||h!==u&&this.utils.rgb2hex(h)!==u||s++}else t(e).css(c)===u&&s++}if(s===o.length)return 1}else if(r===n)return 1;return 0},isConvertable:function(t,e,i,n){if(e===i){if(!n)return!0;var r=0;for(var o in n)r+=this.inline.isConvertableAttr(t,o,n[o]);if(r===Object.keys(n).length)return!0}return!1},setNodesStriked:function(e,i,n){for(var r=0;r<e.length;r++){var o=e[r].tagName?e[r].tagName.toLowerCase():void 0,s=e[r].parentNode,a=s&&s.tagName?s.tagName.toLowerCase():void 0,l=this.inline.isConvertable(s,a,i,n);if(l){t(s).replaceWith(function(){return t("<strike>").append(t(this).contents())}).attr("data-redactor-inline-converted")}var l=this.inline.isConvertable(e[r],o,i,n);if(l){t(e[r]).replaceWith(function(){return t("<strike>").append(t(this).contents())})}}},format:function(t,e,i,r){if(void 0!==e&&"object"!=(void 0===e?"undefined":n(e))){var o={};o[e]=i,e=o}if(t=t.toLowerCase(),!this.utils.isCurrentOrParent(["PRE","CODE"])){for(var s=["b","bold","i","italic","underline","strikethrough","deleted","superscript","subscript"],a=["strong","strong","em","em","u","del","del","sup","sub"],l=0;l<s.length;l++)t===s[l]&&(t=a[l]);this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.inline.formatCollapsed(t,e,i,r):this.inline.formatUncollapsed(t,e,i,r)}},formatUncollapsed:function(t,e,i,n){this.selection.save();var r=this.inline.getClearedNodes();this.inline.setNodesStriked(r,t,e),this.selection.restore(),document.execCommand("strikethrough"),this.selection.saveInstant();var o=this;this.core.editor().find("strike").each(function(){var i=o.utils.replaceToTag(this,t);for(var r in e)o.inline.setAttr(i,r,e[r],n);var s=i.find(t);if(0!==s.length)for(var r in e)o.inline.removeSpecificAttr(s,r,e[r]);var a=i.parent();if(a.html()==i[0].outerHTML)for(var r in e)o.inline.removeSpecificAttr(a,r,e[r]);i.attr("data-redactor-style-cache",i.attr("style"))}),this.selection.restoreInstant()},formatCollapsed:function(e,i,n,r){var o=this.selection.inline();if(o){var s=o.tagName.toLowerCase();if(s===e)if(this.utils.isEmpty(o.innerHTML))this.caret.after(o),t(o).remove();else{var a=this.inline.insertBreakpoint(o,s);this.caret.after(a)}else 0===t(o).closest(e).length?this.inline.insertInline(e,i,n,r):this.caret.start(o)}else this.inline.insertInline(e,i,n,r)},insertBreakpoint:function(e,i){var n=document.createElement("span");n.id="redactor-inline-breakpoint",n=this.insert.node(n);var r=this.utils.isEndOfElement(e),o=this.utils.getOuterHtml(e),s=r?"":"<"+i+">";o=o.replace(/<span\sid="redactor-inline-breakpoint">​<\/span>/i,"</"+i+">"+s);var a=t(o);return t(e).replaceWith(a),""!==s&&this.utils.cloneAttributes(e,a.last()),a.first()},insertInline:function(t,e,i,n){var r=document.createElement(t);r=this.inline.setAttr(r,e,i,n),this.insert.node(r),this.caret.start(r)},setAttr:function(e,i,n,r){if(void 0===i)return e;var o=void 0===r?"toggle":r;return"class"===i?e=this.inline[o+"Class"](n,e):"remove"===o?e=this.inline[o+"Attr"](i,e):"removeAll"===o?e=this.inline[o+"Attr"](e):(e=this.inline[o+"Attr"](i,n,e),"style"===i&&"SPAN"===e[0].tagName&&t(e).attr("data-redactor-span",!0)),e},getInlines:function(t){return void 0===t?this.selection.inlines():t},update:function(e,i,n,r){var o=this.selection.inlines(),s=[],a=this;return t.each(o,function(o,l){if(t.isArray(e)){if(-1===t.inArray(l.tagName.toLowerCase(),e))return}else if("*"!==e&&l.tagName.toLowerCase()!==e)return;s.push(a.inline.setAttr(l,i,n,r))}),s},replaceClass:function(e,i){return t(this.inline.getInlines(i)).removeAttr("class").addClass(e)[0]},toggleClass:function(e,i){return t(this.inline.getInlines(i)).toggleClass(e)[0]},addClass:function(e,i){return t(this.inline.getInlines(i)).addClass(e)[0]},removeClass:function(e,i){return t(this.inline.getInlines(i)).removeClass(e)[0]},removeAllClass:function(e){return t(this.inline.getInlines(e)).removeAttr("class")[0]},replaceAttr:function(e,i,n){return e=this.inline.removeAttr(i,this.inline.getInlines(e)),t(e).attr(i,n)[0]},toggleAttr:function(e,i,n){n=this.inline.getInlines(n);var r=this,o=[];return t.each(n,function(n,s){t(s).attr(e)?o.push(r.inline.removeAttr(e,s)):o.push(r.inline.addAttr(e,i,s))}),o},addAttr:function(e,i,n){return t(this.inline.getInlines(n)).attr(e,i)[0]},removeSpecificAttr:function(e,i,n){if("style"===i){var r=n.split(":"),o=r[0].trim();t(e).css(o,""),this.utils.removeEmptyAttr(e,"style")}else t(e).removeAttr(i)[0]},removeAttr:function(e,i){return t(this.inline.getInlines(i)).removeAttr(e)[0]},removeAllAttr:function(e){e=this.inline.getInlines(e);var i=[];return t.each(e,function(e,n){void 0===n.attributes&&i.push(n);for(var r=t(n),o=n.attributes.length,s=0;o>s;s++)r.removeAttr(n.attributes[s].name);i.push(r[0])}),i},removeFormat:function(){document.execCommand("removeFormat")},removeStyleRule:function(e){this.buffer.set();var i=this.selection.parent(),n=this.selection.inlines();if(this.selection.save(),i&&"SPAN"===i.tagName){var r=t(i);r.css(e,""),r.removeAttr("data-redactor-span"),this.utils.removeEmptyAttr(r,"style"),0===r[0].attributes.length&&r.replaceWith(r.contents())}t.each(n,t.proxy(function(i,n){var r=t(n);-1==t.inArray(n.tagName.toLowerCase(),this.opts.inlineTags)||r.hasClass("redactor-selection-marker")||(r.css(e,""),this.utils.removeEmptyAttr(r,"style"),0===r[0].attributes.length&&r.replaceWith(r.contents()))},this)),this.selection.restore()}}},insert:function(){return{set:function(t){this.placeholder.hide(),this.code.set(t),this.focus.end(),this.placeholder.enable()},html:function(e,i){this.placeholder.hide(),this.core.editor().focus();var n=this.selection.block(),r=this.selection.inline();void 0===i&&(i=this.clean.getCurrentType(e,!0),e=this.clean.onPaste(e,i,!0)),e=t.parseHTML(e);var o=this.selection.get(),s=this.selection.range(o);if(s.deleteContents(),this.selection.update(o,s),i.lists){var a=t(e);if(0!==a.length&&("UL"===a[0].tagName||"OL"===a[0].tagName))return void this.insert.appendLists(n,a)}if(i.blocks&&n)if(this.utils.isSelectAll())this.core.editor().html(e),this.focus.end();else{var l=this.utils.breakBlockTag();if(!1===l)this.insert.placeHtml(e);else{var c=t(e).children().last();c.append(this.marker.get()),"start"===l.type?l.$block.before(e):l.$block.after(e),this.selection.restore(),this.core.editor().find("p").each(function(){""===t.trim(this.innerHTML)&&t(this).remove()})}}else{if(r){var u=t("<div/>").html(e);u.find(r.tagName.toLowerCase()).each(function(){t(this).contents().unwrap()}),e=u.html()}if(this.utils.isSelectAll()){var h=t(this.opts.emptyHtml);this.core.editor().html("").append(h),h.html(e),this.caret.end(h)}else this.insert.placeHtml(e)}this.utils.disableSelectAll(),this.linkify.format(),i.pre&&this.clean.cleanPre()},text:function(e){e=e.toString(),e=t.trim(e);var i=document.createElement("div");if(i.innerHTML=e,void 0!==(e=i.textContent||i.innerText)){this.placeholder.hide(),this.core.editor().focus();var n=this.selection.blocks();if(e=e.replace(/\n/g," "),this.utils.isSelectAll()){var r=t(this.opts.emptyHtml);this.core.editor().html("").append(r),r.html(e),this.caret.end(r)}else{var o=this.selection.get(),s=document.createTextNode(e);if(o.getRangeAt&&o.rangeCount){var a=o.getRangeAt(0);a.deleteContents(),a.insertNode(s),a.setStartAfter(s),a.collapse(!0),this.selection.update(o,a)}n.length>1&&(t(s).wrap("<p>"),this.caret.after(s))}this.utils.disableSelectAll(),this.linkify.format(),this.clean.normalizeCurrentHeading()}},raw:function(t){this.placeholder.hide(),this.core.editor().focus();var e=this.selection.get(),i=this.selection.range(e);i.deleteContents();var n=document.createElement("div");n.innerHTML=t;for(var r,o,s=document.createDocumentFragment();r=n.firstChild;)o=s.appendChild(r);i.insertNode(s),o&&(i=i.cloneRange(),i.setStartAfter(o),i.collapse(!0),e.removeAllRanges(),e.addRange(i))},node:function(e,i){this.placeholder.hide(),void 0!==this.start&&this.core.editor().focus(),e=e[0]||e;var n=this.selection.block(),r=this.utils.isBlockTag(e.tagName),o=!0;if(this.utils.isSelectAll())r?this.core.editor().html(e):this.core.editor().html(t("<p>").html(e)),this.code.sync();else if(r&&n){var s=this.utils.breakBlockTag();!1===s?this.insert.placeNode(e,i):("start"===s.type?s.$block.before(e):s.$block.after(e),this.core.editor().find("p:empty").remove())}else o=this.insert.placeNode(e,i);return this.utils.disableSelectAll(),o&&this.caret.end(e),e},appendLists:function(e,i){var n,r=t(e),o=this.utils.isEmpty(e.innerHTML);if(o||this.utils.isEndOfElement(e))n=r,i.find("li").each(function(){n.after(this),n=t(this)}),o&&r.remove();else if(this.utils.isStartOfElement(e))i.find("li").each(function(){r.before(this),n=t(this)});else{var s=this.selection.extractEndOfNode(e);r.after(t("<li>").append(s)),r.append(i),n=i}this.marker.remove(),n&&this.caret.end(n),this.linkify.format()},placeHtml:function(e){var i=document.createElement("span");i.id="redactor-insert-marker",i=this.insert.node(i),t(i).before(e),this.selection.restore(),this.caret.after(i),t(i).remove()},placeNode:function(t,e){var i=this.selection.get(),n=this.selection.range(i);return null!=n&&(!1!==e&&n.deleteContents(),n.insertNode(t),n.collapse(!1),void this.selection.update(i,n))},nodeToPoint:function(e,i){if(this.placeholder.hide(),i=i[0]||i,this.utils.isEmpty())return i=this.utils.isBlock(i)?i:t("<p />").append(i),this.core.editor().html(i),i;var n,r=e.clientX,o=e.clientY;if(document.caretPositionFromPoint){var s=document.caretPositionFromPoint(r,o);n=document.getSelection().getRangeAt(0),n.setStart(s.offsetNode,s.offset),n.collapse(!0),n.insertNode(i)}else if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(r,o),n.insertNode(i);else if(void 0!==document.body.createTextRange){n=document.body.createTextRange(),n.moveToPoint(r,o);var a=n.duplicate();a.moveToPoint(r,o),n.setEndPoint("EndToEnd",a),n.select()}return i},nodeToCaretPositionFromPoint:function(t,e){this.insert.nodeToPoint(t,e)},marker:function(){this.marker.insert()}}},keydown:function(){return{init:function(e){if(!this.rtePaste){var i=e.which,n=i>=37&&40>=i;this.keydown.ctrl=e.ctrlKey||e.metaKey,this.keydown.parent=this.selection.parent(),this.keydown.current=this.selection.current(),this.keydown.block=this.selection.block(),this.keydown.pre=this.utils.isTag(this.keydown.current,"pre"),this.keydown.blockquote=this.utils.isTag(this.keydown.current,"blockquote"),this.keydown.figcaption=this.utils.isTag(this.keydown.current,"figcaption"),this.keydown.figure=this.utils.isTag(this.keydown.current,"figure");if(!1===this.core.callback("keydown",e))return e.preventDefault(),!1;if(this.shortcuts.init(e,i),this.keydown.checkEvents(n,i),this.keydown.setupBuffer(e,i),this.utils.isSelectAll()&&(i===this.keyCode.ENTER||i===this.keyCode.BACKSPACE||i===this.keyCode.DELETE))return e.preventDefault(),void this.code.set(this.opts.emptyHtml);if(this.keydown.addArrowsEvent(n),this.keydown.setupSelectAll(e,i),!this.opts.enterKey&&i===this.keyCode.ENTER){e.preventDefault();var r=this.selection.get(),o=this.selection.range(r);return void(o.collapsed||o.deleteContents())}if(this.opts.enterKey&&i===this.keyCode.DOWN&&this.keydown.onArrowDown(),this.opts.enterKey&&i===this.keyCode.UP&&this.keydown.onArrowUp(),("textarea"===this.opts.type||"div"===this.opts.type)&&this.keydown.current&&3===this.keydown.current.nodeType&&t(this.keydown.parent).hasClass("redactor-in")&&this.keydown.wrapToParagraph(),!this.keyup.lastShiftKey&&i===this.keyCode.SPACE&&(e.ctrlKey||e.shiftKey))return e.preventDefault(),this.keydown.onShiftSpace();if(i===this.keyCode.ENTER&&(e.ctrlKey||e.shiftKey))return e.preventDefault(),this.keydown.onShiftEnter(e);if(i===this.keyCode.ENTER&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey)return this.keydown.onEnter(e);if(i===this.keyCode.TAB||e.metaKey&&221===i||e.metaKey&&219===i)return this.keydown.onTab(e,i);if(this.detect.isFirefox()&&i===this.keyCode.BACKSPACE&&this.keydown.block&&"P"===this.keydown.block.tagName&&this.utils.isStartOfElement(this.keydown.block)){var s=t(this.keydown.block).prev();if(0!==s.length)return e.preventDefault(),s.append(this.marker.get()),s.append(t(this.keydown.block).html()),t(this.keydown.block).remove(),void this.selection.restore()}if(i===this.keyCode.BACKSPACE||i===this.keyCode.DELETE){if(this.observe.image&&void 0!==this.observe.image&&0!==t("#redactor-image-box").length){e.preventDefault();var s=this.observe.image.closest("figure, p").prev();return this.image.remove(!1),this.observe.image=!1,void(s&&0!==s.length?this.caret.end(s):this.core.editor().focus())}this.keydown.onBackspaceAndDeleteBefore()}if(i===this.keyCode.DELETE){var a=t(this.keydown.block).next();if(this.utils.isEndOfElement(this.keydown.block)&&0!==a.length&&"FIGURE"===a[0].tagName)return a.remove(),!1;if(!(!this.keydown.block||"LI"!==this.keydown.block.tagName)&&this.keydown.block){var l=t(this.keydown.block).parents("ul, ol").last(),c=l.next();if(this.utils.isRedactorParent(l)&&this.utils.isEndOfElement(l)&&0!==c.length&&("UL"===c[0].tagName||"OL"===c[0].tagName))return e.preventDefault(),l.append(c.contents()),c.remove(),!1}if(this.utils.isEndOfElement(this.keydown.block)&&0!==a.length&&"PRE"===a[0].tagName)return t(this.keydown.block).append(a.text()),a.remove(),!1}if(i===this.keyCode.DELETE&&0!==t("#redactor-image-box").length&&this.image.remove(),i===this.keyCode.BACKSPACE){if(this.detect.isFirefox()&&this.line.removeOnBackspace(e),this.list.combineAfterAndBefore(this.keydown.block))return void e.preventDefault();var u=this.selection.block();if(u&&"LI"===u.tagName&&this.utils.isCollapsed()&&this.utils.isStartOfElement())return this.indent.decrease(),void e.preventDefault();this.keydown.removeInvisibleSpace(),this.keydown.removeEmptyListInTable(e)}i!==this.keyCode.BACKSPACE&&i!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteAfter(e)}},onShiftSpace:function(){return this.buffer.set(),this.insert.raw("&nbsp;"),!1},onShiftEnter:function(t){return this.buffer.set(),this.keydown.pre?this.keydown.insertNewLine(t):this.insert.raw("<br>")},onBackspaceAndDeleteBefore:function(){this.utils.saveScroll()},onBackspaceAndDeleteAfter:function(e){setTimeout(t.proxy(function(){this.code.syncFire=!1,this.keydown.removeEmptyLists(),this.core.editor().find("*[style]").not("img, figure, #redactor-image-box, #redactor-image-editter, [data-redactor-span]").removeAttr("style"),this.keydown.formatEmpty(e),this.code.syncFire=!0},this),1)},onEnter:function(e){if(!1===this.core.callback("enter",e))return e.preventDefault(),!1;if(this.keydown.blockquote&&!0===this.keydown.exitFromBlockquote(e))return!1;if(this.keydown.pre)return this.keydown.insertNewLine(e);if(this.keydown.blockquote||this.keydown.figcaption)return this.keydown.insertBreakLine(e);if(this.keydown.figure)setTimeout(t.proxy(function(){this.keydown.replaceToParagraph("FIGURE")},this),1);else if(this.keydown.block){if(setTimeout(t.proxy(function(){this.keydown.replaceToParagraph("DIV")},this),1),"LI"===this.keydown.block.tagName){var i=this.selection.current(),n=t(i).closest("li",this.$editor[0]),r=n.parents("ul,ol",this.$editor[0]).last();if(0!==n.length&&this.utils.isEmpty(n.html())&&0===r.next().length&&this.utils.isEmpty(r.find("li").last().html())){r.find("li").last().remove();var o=t(this.opts.emptyHtml);return r.after(o),this.caret.start(o),!1}}}else if(!this.keydown.block)return this.keydown.insertParagraph(e);return this.detect.isFirefox()&&this.utils.isInline(this.keydown.parent)?void this.keydown.insertBreakLine(e):void setTimeout(t.proxy(function(){var e=this.selection.inline();if(e&&this.utils.isEmpty(e.innerHTML)){var i=this.selection.block();t(e).remove();var n=document.createRange();n.setStart(i,0);var r=document.createTextNode("​");n.insertNode(r),n.setStartAfter(r),n.collapse(!0);var o=window.getSelection();o.removeAllRanges(),o.addRange(n)}},this),1)},checkEvents:function(t,e){t||"click"!==this.core.getEvent()&&"arrow"!==this.core.getEvent()||(this.core.addEvent(!1),this.keydown.checkKeyEvents(e)&&this.buffer.set())},checkKeyEvents:function(e){var i=this.keyCode,n=[i.BACKSPACE,i.DELETE,i.ENTER,i.ESC,i.TAB,i.CTRL,i.META,i.ALT,i.SHIFT];return-1===t.inArray(e,n)},addArrowsEvent:function(t){return t?"click"===this.core.getEvent()||"arrow"===this.core.getEvent()?void this.core.addEvent(!1):void this.core.addEvent("arrow"):void 0},setupBuffer:function(t,e){return this.keydown.ctrl&&90===e&&!t.shiftKey&&!t.altKey&&this.opts.buffer.length?(t.preventDefault(),void this.buffer.undo()):this.keydown.ctrl&&90===e&&t.shiftKey&&!t.altKey&&0!==this.opts.rebuffer.length?(t.preventDefault(),void this.buffer.redo()):void(this.keydown.ctrl||e!==this.keyCode.SPACE&&e!==this.keyCode.BACKSPACE&&e!==this.keyCode.DELETE&&(e!==this.keyCode.ENTER||t.ctrlKey||t.shiftKey)||this.buffer.set())},exitFromBlockquote:function(e){if(this.utils.isEndOfElement(this.keydown.blockquote)){if(-1!==this.clean.removeSpacesHard(t(this.keydown.blockquote).html()).search(/(<br\s?\/?>){3}$/i)){e.preventDefault();var i=t(this.keydown.blockquote).children().last().prev();i.prev().filter("br").remove(),i.filter("br").remove(),t(this.keydown.blockquote).children().last().filter("br").remove(),t(this.keydown.blockquote).children().last().filter("span").remove();var n=t(this.opts.emptyHtml);return t(this.keydown.blockquote).after(n),this.caret.start(n),!0}}},onArrowDown:function(){for(var t=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],e=0;e<t.length;e++)if(t[e])return this.keydown.insertAfterLastElement(t[e]),!1},onArrowUp:function(){for(var t=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],e=0;e<t.length;e++)if(t[e])return this.keydown.insertBeforeFirstElement(t[e]),!1},insertAfterLastElement:function(e){if(this.utils.isEndOfElement(e)){var i=this.core.editor().contents().last();if(0===("FIGCAPTION"===e.tagName?t(this.keydown.block).parent().next():t(this.keydown.block).next()).length){if(0===i.length&&i[0]!==e)return void this.caret.start(i);var n=t(this.opts.emptyHtml);"FIGCAPTION"===e.tagName?t(e).parent().after(n):t(e).after(n),this.caret.start(n)}}},insertBeforeFirstElement:function(e){if(this.utils.isStartOfElement()&&!(this.core.editor().contents().length>1&&this.core.editor().contents().first()[0]!==e)){var i=t(this.opts.emptyHtml);t(e).before(i),this.caret.start(i)}},onTab:function(t,e){if(!this.opts.tabKey)return!0;var i=this.keydown.block&&"LI"===this.keydown.block.tagName;if(this.utils.isEmpty(this.code.get())||!i&&!this.keydown.pre&&!1===this.opts.tabAsSpaces)return!0;t.preventDefault(),this.buffer.set();var n,r=i&&this.utils.isStartOfElement(this.keydown.block);return this.keydown.pre&&!t.shiftKey?(n=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join(" ")):document.createTextNode("\t"),this.insert.node(n)):!1===this.opts.tabAsSpaces||r?t.metaKey&&219===e?this.indent.decrease():t.metaKey&&221===e?this.indent.increase():t.shiftKey?this.indent.decrease():this.indent.increase():(n=document.createTextNode(Array(this.opts.tabAsSpaces+1).join(" ")),this.insert.node(n)),!1},setupSelectAll:function(t,e){this.keydown.ctrl&&65===e?this.utils.enableSelectAll():e===this.keyCode.LEFT_WIN||this.keydown.ctrl||this.utils.disableSelectAll()},insertNewLine:function(t){t.preventDefault();var e=document.createTextNode("\n"),i=this.selection.get(),n=this.selection.range(i);return n.deleteContents(),n.insertNode(e),this.caret.after(e),!1},insertParagraph:function(t){t.preventDefault();var e=document.createElement("p");e.innerHTML=this.opts.invisibleSpace;var i=this.selection.get(),n=this.selection.range(i);return n.deleteContents(),n.insertNode(e),this.caret.start(e),!1},insertBreakLine:function(t){return this.keydown.insertBreakLineProcessing(t)},insertDblBreakLine:function(t){return this.keydown.insertBreakLineProcessing(t,!0)},insertBreakLineProcessing:function(t,e){t.stopPropagation();var i=document.createElement("br");if(this.insert.node(i),!0===e){var n=document.createElement("br");this.insert.node(n)}return!1},wrapToParagraph:function(){var e=t(this.keydown.current),i=t("<p>").append(e.clone());e.replaceWith(i);var n=t(i).next();void 0!==n[0]&&"BR"===n[0].tagName&&n.remove(),this.caret.end(i)},replaceToParagraph:function(e){var i=this.selection.block(),n=t(i).prev(),r=i.innerHTML.replace(/<br\s?\/?>/gi,"");if(i.tagName===e&&this.utils.isEmpty(r)&&!t(i).hasClass("redactor-in")){var o=document.createElement("p");return t(i).replaceWith(o),this.keydown.setCaretToParagraph(o),!1}if("P"===i.tagName)return t(i).removeAttr("class").removeAttr("style"),this.detect.isIe()&&this.utils.isEmpty(r)&&this.utils.isInline(this.keydown.parent)&&t(i).on("input",t.proxy(function(){var e=this.selection.parent();if(this.utils.isInline(e)){var n=t(e).html();t(i).html(n),this.caret.end(i)}t(i).off("keyup")},this)),!1;if(n.hasClass(this.opts.videoContainerClass)){n.removeAttr("class");var o=document.createElement("p");return n.replaceWith(o),this.keydown.setCaretToParagraph(o),!1}},setCaretToParagraph:function(t){var e=document.createRange();e.setStart(t,0);var i=document.createTextNode("​");e.insertNode(i),e.setStartAfter(i),e.collapse(!0);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)},removeInvisibleSpace:function(){var e=t(this.keydown.current);0===e.text().search(/^\u200B$/g)&&e.remove()},removeEmptyListInTable:function(e){var i=t(this.keydown.current),n=t(this.keydown.parent),r=i.closest("td",this.$editor[0]);if(0!==r.length&&i.closest("li",this.$editor[0])&&1===n.children("li").length){if(!this.utils.isEmpty(i.text()))return;e.preventDefault(),i.remove(),n.remove(),this.caret.start(r)}},removeEmptyLists:function(){var e=function(){""===t.trim(this.innerHTML).replace(/\/t\/n/g,"")&&t(this).remove()};this.core.editor().find("li").each(e),this.core.editor().find("ul, ol").each(e)},formatEmpty:function(e){var i=t.trim(this.core.editor().html());if(this.utils.isEmpty(i))return e.preventDefault(),"inline"===this.opts.type||"pre"===this.opts.type?(this.core.editor().html(this.marker.html()),this.selection.restore()):(this.core.editor().html(this.opts.emptyHtml),this.focus.start()),!1}}},keyup:function(){return{init:function(e){if(!this.rtePaste){var i=e.which;this.keyup.block=this.selection.block(),this.keyup.current=this.selection.current(),this.keyup.parent=this.selection.parent(),this.keyup.lastShiftKey=e.shiftKey;if(!1===this.core.callback("keyup",e))return e.preventDefault(),!1;if(i===this.keyCode.ENTER&&this.keyup.block&&"FIGURE"===this.keyup.block.tagName){var n=t(this.keyup.block).prev();if(0!==n.length&&"FIGURE"===n[0].tagName){var r=this.utils.replaceToTag(n,"p");return void this.caret.start(r)}}if(i===this.keyCode.BACKSPACE||i===this.keyCode.DELETE){if(this.utils.isSelectAll())return void this.focus.start();if(this.keyup.block&&this.keydown.block&&"FIGURE"===this.keyup.block.tagName&&this.utils.isStartOfElement(this.keydown.block)){e.preventDefault(),this.selection.save(),t(this.keyup.block).find("figcaption").remove(),t(this.keyup.block).find("img").first().remove(),this.utils.replaceToTag(this.keyup.block,"p");var o=this.marker.find();return t("html, body").animate({scrollTop:o.position().top+20},500),void this.selection.restore()}if(this.keyup.block&&"P"===this.keyup.block.tagName){var s=t(this.keyup.block).find("img").length;""===t(this.keyup.block).text().replace(/\u200B/g,"")&&0!==s&&this.utils.replaceToTag(this.keyup.block,"figure")}this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&0===t(this.keyup.block).find("img").length&&(this.selection.save(),this.utils.replaceToTag(this.keyup.block,"p"),this.selection.restore())}this.linkify.isKey(i)&&this.linkify.format()}}}},lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(t){return void 0!==this.opts.curLang[t]?this.opts.curLang[t]:""}}},line:function(){return{insert:function(){this.buffer.set(),this.insert.html(this.line.getLineHtml());var t=this.core.editor().find("#redactor-hr-tmp-id");return t.removeAttr("id"),this.core.callback("insertedLine",t),t},getLineHtml:function(){var t='<hr id="redactor-hr-tmp-id" />';return!this.detect.isFirefox()&&this.utils.isEmpty()&&(t+="<p>"+this.opts.emptyHtml+"</p>"),t},removeOnBackspace:function(e){if(this.utils.isCollapsed()){var i=t(this.selection.block());if(0!==i.length&&this.utils.isStartOfElement(i)){var n=i.prev();n&&0!==n.length&&"HR"===n[0].tagName&&(e.preventDefault(),n.remove())}}}}},link:function(){return{get:function(){return t(this.selection.inlines("a"))},is:function(){var e=this.selection.nodes(),i=t(this.selection.current()).closest("a",this.core.editor()[0]);return!(0===i.length||e.length>1)&&i},unlink:function(t){void 0!==t&&t.preventDefault&&t.preventDefault(),this.buffer.set();var e=this.selection.inlines("a");if(0!==e.length){var i=this.link.replaceLinksToText(e);this.observe.closeAllTooltip(),this.core.callback("deletedLink",i)}},insert:function(e,i){var n=this.link.is();if(!0!==i&&!1===(e=this.link.buildLinkFromObject(n,e)))return!1;if(this.buffer.set(),e=this.core.callback("beforeInsertingLink",e),!1===n){n=t("<a />"),n=this.link.update(n,e),n=t(this.insert.node(n));var r=n.parent();!1===this.utils.isRedactorParent(r)&&n.wrap("<p>"),r.hasClass("redactor-unlink")&&r.replaceWith(function(){return t(this).contents()}),this.caret.after(n),this.core.callback("insertedLink",n)}else n=this.link.update(n,e),this.caret.after(n)},update:function(t,e){return t.text(e.text),t.attr("href",e.url),this.link.target(t,e.target),t},target:function(t,e){return e?t.attr("target","_blank"):t.removeAttr("target")},show:function(e){void 0!==e&&e.preventDefault&&e.preventDefault(),this.observe.closeAllTooltip();var i=this.link.is();this.link.buildModal(i);var n=this.link.buildLinkFromElement(i);n.url=this.link.removeSelfHostFromUrl(n.url),this.opts.linkNewTab&&!i&&(n.target=!0),this.link.setModalValues(n),this.modal.show(),this.detect.isDesktop()&&t("#redactor-link-url").focus()},setModalValues:function(e){t("#redactor-link-blank").prop("checked",e.target),t("#redactor-link-url").val(e.url),t("#redactor-link-url-text").val(e.text)},buildModal:function(e){this.modal.load("link",this.lang.get(!1===e?"link-insert":"link-edit"),600),this.modal.getActionButton().text(this.lang.get(!1===e?"insert":"save")).on("click",t.proxy(this.link.callback,this))},callback:function(){var t=this.link.buildLinkFromModal();return!1!==t&&(this.modal.close(),void this.link.insert(t,!0))},cleanUrl:function(e){return void 0===e?"":t.trim(e.replace(/[^\W\w\D\d+&\'@#\/%?=~_|!:,.;\(\)]/gi,""))},cleanText:function(e){return void 0===e?"":t.trim(e.replace(/(<([^>]+)>)/gi,""))},getText:function(t){return""===t.text&&""!==t.url?this.link.truncateUrl(t.url.replace(/<|>/g,"")):t.text},isUrl:function(t){var e="((xn--)?[\\W\\w\\D\\d]+(-[\\W\\w\\D\\d]+)*\\.)+[\\W\\w]{2,}",i=new RegExp("^(http|ftp|https)://"+e,"i"),n=new RegExp("^"+e,"i"),r=new RegExp(".(html|php)$","i"),o=new RegExp("^/","i"),s=new RegExp("^tel:(.*?)","i");return-1===t.search(i)&&-1!==t.search(n)&&-1===t.search(r)&&"/"!==t.substring(0,1)&&(t="http://"+t),(-1!==t.search(i)||-1!==t.search(r)||-1!==t.search(o)||-1!==t.search(s))&&t},isMailto:function(t){return-1!==t.search("@")&&!1===/(http|ftp|https):\/\//i.test(t)},isEmpty:function(t){return""===t.url||""===t.text&&""===t.url},truncateUrl:function(t){return t.length>this.opts.linkSize?t.substring(0,this.opts.linkSize)+"...":t},parse:function(t){return this.link.isMailto(t.url)?t.url="mailto:"+t.url.replace("mailto:",""):0!==t.url.search("#")&&(t.url=this.link.isUrl(t.url)),!this.link.isEmpty(t)&&!1!==t.url&&t},buildLinkFromModal:function(){var e={};return e.url=this.link.cleanUrl(t("#redactor-link-url").val()),e.text=this.link.cleanText(t("#redactor-link-url-text").val()),e.text=this.link.getText(e),e.target=!!t("#redactor-link-blank").prop("checked"),this.link.parse(e)},buildLinkFromObject:function(t,e){return e.url=this.link.cleanUrl(e.url),e.text=void 0===e.text&&this.selection.is()?this.selection.text():this.link.cleanText(e.text),e.text=this.link.getText(e),e.target=!1===t?e.target:this.link.buildTarget(t),this.link.parse(e)},buildLinkFromElement:function(t){var e={url:"",text:this.selection.is()?this.selection.text():"",target:!1};return!1!==t&&(e.url=t.attr("href"),e.text=t.text(),e.target=this.link.buildTarget(t)),e},buildTarget:function(t){return void 0!==t.attr("target")&&"_blank"===t.attr("target")},removeSelfHostFromUrl:function(t){var e=self.location.href.replace("#","").replace(/\/$/i,"");return t.replace(/^\/\#/,"#").replace(e,"").replace("mailto:","")},replaceLinksToText:function(e){var i,n=t.each(e,function(e,n){var r=t(n),o=t('<span class="redactor-unlink" />').append(r.contents());return r.replaceWith(o),0===e&&(i=o),r});return 1===e.length&&this.selection.isCollapsed()&&this.caret.after(i),n}}},linkify:function(){return{isKey:function(t){return t===this.keyCode.ENTER||t===this.keyCode.SPACE},isLink:function(t){return t.nodeValue.match(this.opts.regexps.linkyoutube)||t.nodeValue.match(this.opts.regexps.linkvimeo)||t.nodeValue.match(this.opts.regexps.linkimage)||t.nodeValue.match(this.opts.regexps.url)},isFiltered:function(e,i){return 3===i.nodeType&&""!==t.trim(i.nodeValue)&&!t(i).parent().is("pre")&&this.linkify.isLink(i)},handler:function(e,i){var n=t(i),r=n.text(),o=r;o=o.match(this.opts.regexps.linkyoutube)||o.match(this.opts.regexps.linkvimeo)?this.linkify.convertVideoLinks(o):o.match(this.opts.regexps.linkimage)?this.linkify.convertImages(o):this.linkify.convertLinks(o),n.before(r.replace(r,o)).remove()},format:function(){if(this.opts.linkify&&!this.utils.isCurrentOrParent("pre")){this.core.editor().find(":not(iframe,img,a,pre,code,.redactor-unlink)").addBack().contents().filter(t.proxy(this.linkify.isFiltered,this)).each(t.proxy(this.linkify.handler,this));var e=this.core.editor().find(".redactor-linkify-object").each(t.proxy(function(e,i){var n=t(i);return n.removeClass("redactor-linkify-object"),""===n.attr("class")&&n.removeAttr("class"),"DIV"===i.tagName?this.linkify.breakBlockTag(n,"video"):"IMG"===i.tagName?this.linkify.breakBlockTag(n,"image"):"A"===i.tagName&&this.core.callback("insertedLink",n),n},this));setTimeout(t.proxy(function(){this.code.sync(),this.core.callback("linkify",e)},this),100)}},breakBlockTag:function(e,i){var n=this.utils.breakBlockTag();if(!1!==n){var r=e;"image"===i&&(r=t("<figure />").append(e)),"start"===n.type?n.$block.before(r):n.$block.after(r),"image"===i&&this.caret.after(r)}},convertVideoLinks:function(t){var e='<div class="'+this.opts.videoContainerClass+' redactor-linkify-object"><iframe class="redactor-linkify-object" width="500" height="281" src="',i='" frameborder="0" allowfullscreen></iframe></div>';return t.match(this.opts.regexps.linkyoutube)&&(t=t.replace(this.opts.regexps.linkyoutube,e+"//www.youtube.com/embed/$1"+i)),t.match(this.opts.regexps.linkvimeo)&&(t=t.replace(this.opts.regexps.linkvimeo,e+"//player.vimeo.com/video/$2"+i)),t},convertImages:function(t){var e=t.match(this.opts.regexps.linkimage);return e?t.replace(t,'<img src="'+e+'" class="redactor-linkify-object" />'):t},convertLinks:function(e){var i=e.match(this.opts.regexps.url);if(!i)return e;i=t.grep(i,function(e,n){return t.inArray(e,i)===n});for(var n=i.length,r=0;n>r;r++){var o=i[r],s=o,a=null!==o.match(/(https?|ftp):\/\//i)?"":"http://";s.length>this.opts.linkSize&&(s=s.substring(0,this.opts.linkSize)+"..."),-1===s.search("%")&&(s=decodeURIComponent(s));var l="\\b";-1!==t.inArray(o.slice(-1),["/","&","="])&&(l="");var c=new RegExp("("+o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+l+")","g");e=e.replace(c,'<a href="'+a+t.trim(o)+'" class="redactor-linkify-object">'+t.trim(s)+"</a>")}return e}}},list:function(){return{toggle:function(e){if(!this.utils.inBlocks(["table","td","th","tr"])){var i="orderedlist"===e||"ol"===e?"OL":"UL";e="OL"===i?"orderedlist":"unorderedlist";var n=t(this.selection.current()).parentsUntil(".redactor-in","ul, ol").first();if(this.placeholder.hide(),this.buffer.set(),0!==n.length&&n[0].tagName===i&&this.utils.isRedactorParent(n))return this.selection.save(),n.find("ul, ol").each(function(){var e=t(this).closest("li");t(this).find("li").each(function(){t(e).after(this)})}),n.find("ul, ol").remove(),n.find("li").each(function(){return t(this).replaceWith(function(){return t("<p />").append(t(this).contents())})}),n.replaceWith(function(){return t(this).contents()}),void this.selection.restore();this.selection.save(),0!==n.length&&n[0].tagName!==i?n.each(t.proxy(function(t,e){this.utils.replaceToTag(e,i)},this)):document.execCommand("insert"+e),this.selection.restore();var r=this.list.get();if(!r)return void(this.selection.block()||document.execCommand("formatblock",!1,"p"));r.find("span").replaceWith(function(){return t(this).contents()}),r.find(this.opts.inlineTags.join(",")).each(function(){t(this).removeAttr("style")});var o=r.parent();this.utils.isRedactorParent(o)&&"LI"!==o[0].tagName&&this.utils.isBlock(o)&&(this.selection.save(),o.replaceWith(o.contents()),this.selection.restore())}},get:function(){var e=this.selection.current(),i=t(e).closest("ul, ol",this.core.editor()[0]);return 0!==i.length&&i},combineAfterAndBefore:function(e){var i=t(e).prev(),n=t(e).next(),r=e&&"P"===e.tagName&&("<br>"===e.innerHTML||""===e.innerHTML),o=1===i.closest("ol, ul",this.core.editor()[0]).length&&1===n.closest("ol, ul",this.core.editor()[0]).length;return!(!r||!o)&&(i.children("li").last().append(this.marker.get()),i.append(n.contents()),this.selection.restore(),!0)}}},marker:function(){return{get:function(t){t=void 0===t?1:t;var e=document.createElement("span");return e.id="selection-marker-"+t,e.className="redactor-selection-marker",e.innerHTML=this.opts.invisibleSpace,e},html:function(t){return this.utils.getOuterHtml(this.marker.get(t))},find:function(t){return t=void 0===t?1:t,this.core.editor().find("span#selection-marker-"+t)},insert:function(){var t=this.selection.get(),e=this.selection.range(t);this.marker.insertNode(e,this.marker.get(1),!0),e&&!1===e.collapsed&&this.marker.insertNode(e,this.marker.get(2),!1)},remove:function(){this.core.editor().find(".redactor-selection-marker").each(this.marker.iterateRemove)},insertNode:function(e,i,n){var r=this.selection.parent();if(null!==e&&0!==t(r).closest(".redactor-in").length){e=e.cloneRange();try{e.collapse(n),e.insertNode(i)}catch(t){this.focus.start()}}},iterateRemove:function(e,i){var n=t(i);return""===n.text().replace(/\u200B/g,"")?n.remove():n.replaceWith(function(){return t(this).contents()})}}},modal:function(){return{callbacks:{},templates:function(){this.opts.modal={"image-edit":String()+'<div class="redactor-modal-tab redactor-group" data-title="General"><div id="redactor-image-preview" class="redactor-modal-tab-side"></div><div class="redactor-modal-tab-area"><section><label>'+this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /></section><section><label>'+this.lang.get("caption")+'</label><input type="text" id="redactor-image-caption" aria-label="'+this.lang.get("caption")+'" /></section><section><label>'+this.lang.get("link")+'</label><input type="text" id="redactor-image-link" aria-label="'+this.lang.get("link")+'" /></section><section><label class="redactor-image-position-option">'+this.lang.get("image-position")+'</label><select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+this.lang.get("image-position")+'"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+this.lang.get("right")+'</option></select></section><section><label class="checkbox"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get("link-in-new-tab")+'"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+'</button><button id="redactor-modal-button-delete" class="redactor-modal-button-offset">'+this.lang.get("delete")+"</button></section></div></div>",image:String()+'<div class="redactor-modal-tab" data-title="Upload"><section><div id="redactor-modal-image-droparea"></div></section></div>',file:String()+'<div class="redactor-modal-tab" data-title="Upload"><section><label>'+this.lang.get("filename")+' <span class="desc">('+this.lang.get("optional")+')</span></label><input type="text" id="redactor-filename" aria-label="'+this.lang.get("filename")+'" /><br><br></section><section><div id="redactor-modal-file-upload"></div></section></div>',link:String()+'<div class="redactor-modal-tab" data-title="General"><section><label>URL</label><input type="url" id="redactor-link-url" aria-label="URL" /></section><section><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" aria-label="'+this.lang.get("text")+'" /></section><section><label class="checkbox"><input type="checkbox" id="redactor-link-blank"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"},t.extend(this.opts,this.opts.modal)},addCallback:function(t,e){this.modal.callbacks[t]=e},addTemplate:function(t,e){this.opts.modal[t]=e},getTemplate:function(t){return this.opts.modal[t]},getModal:function(){return this.$modalBody},getActionButton:function(){return this.$modalBody.find("#redactor-modal-button-action")},getCancelButton:function(){return this.$modalBody.find("#redactor-modal-button-cancel")},getDeleteButton:function(){return this.$modalBody.find("#redactor-modal-button-delete")},load:function(t,e,i){void 0!==this.$modalBox&&this.$modalBox.hasClass("open")||(this.modal.templateName=t,this.modal.width=i,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(e),this.modal.setDraggable(),this.modal.setContent(),void 0!==this.modal.callbacks[t]&&this.modal.callbacks[t].call(this))},show:function(){this.detect.isDesktop()||document.activeElement.blur(),this.selection.save(),this.modal.buildTabber(),this.detect.isMobile()&&(this.modal.width="96%"),setTimeout(t.proxy(this.modal.buildWidth,this),0),t(window).on("resize.redactor-modal",t.proxy(this.modal.buildWidth,this)),this.$modalOverlay.redactorAnimation("fadeIn",{duration:.25}),this.$modalBox.addClass("open").show(),this.$modal.redactorAnimation("fadeIn",{timing:"cubic-bezier(0.175, 0.885, 0.320, 1.105)"},t.proxy(function(){this.utils.saveScroll(),this.utils.disableBodyScroll(),this.core.callback("modalOpened",this.modal.templateName,this.$modal),t(document).off("focusin.modal"),this.$modal.find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor-modal",t.proxy(this.modal.setEnter,this))},this))},buildWidth:function(){var e=t(window).height(),i=t(window).width(),n="number"==typeof this.modal.width;!n&&this.modal.width.match(/%$/)?this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}):parseInt(this.modal.width)>i?this.$modal.css({width:"96%","margin-bottom":"2%"}):(n&&(this.modal.width+="px"),this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}));var r=this.$modal.outerHeight(),o=e/2-r/2+"px";this.detect.isMobile()?o="2%":r>e&&(o="16px"),this.$modal.css("margin-top",o)},buildTabber:function(){this.modal.tabs=this.$modal.find(".redactor-modal-tab"),this.modal.tabs.length<2||(this.modal.$tabsBox=t('<div id="redactor-modal-tabber" />'),t.each(this.modal.tabs,t.proxy(function(e,i){var n=t('<a href="#" rel="'+e+'" />').text(t(i).attr("data-title"));n.on("click",t.proxy(this.modal.showTab,this)),0===e&&n.addClass("active"),this.modal.$tabsBox.append(n)},this)),this.$modalBody.prepend(this.modal.$tabsBox))},showTab:function(e){e.preventDefault();var i=t(e.target),n=i.attr("rel");return this.modal.tabs.hide(),this.modal.tabs.eq(n).show(),t("#redactor-modal-tabber").find("a").removeClass("active"),i.addClass("active"),!1},setTitle:function(t){this.$modalHeader.html(t)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName)),this.modal.getCancelButton().on("mousedown",t.proxy(this.modal.close,this))},setDraggable:function(){void 0!==t.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(t){13===t.which&&(t.preventDefault(),this.modal.getActionButton().click())},build:function(){this.modal.buildOverlay(),this.$modalBox=t('<div id="redactor-modal-box"/>').hide(),this.$modal=t('<div id="redactor-modal" role="dialog" />'),this.$modalHeader=t('<div id="redactor-modal-header" />'),this.$modalClose=t('<button type="button" id="redactor-modal-close" aria-label="'+this.lang.get("close")+'" />').html("&times;"),this.$modalBody=t('<div id="redactor-modal-body" />'),this.$modal.append(this.$modalHeader),this.$modal.append(this.$modalBody),this.$modal.append(this.$modalClose),this.$modalBox.append(this.$modal),this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=t('<div id="redactor-modal-overlay">').hide(),t("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("mousedown.redactor-modal",t.proxy(this.modal.close,this)),t(document).on("keyup.redactor-modal",t.proxy(this.modal.closeHandler,this)),this.core.editor().on("keyup.redactor-modal",t.proxy(this.modal.closeHandler,this)),this.$modalBox.on("click.redactor-modal",t.proxy(this.modal.close,this))},disableEvents:function(){this.$modalClose.off("mousedown.redactor-modal"),t(document).off("keyup.redactor-modal"),this.core.editor().off("keyup.redactor-modal"),this.$modalBox.off("click§.redactor-modal"),t(window).off("resize.redactor-modal")},closeHandler:function(t){t.which===this.keyCode.ESC&&this.modal.close(!1)},close:function(e){if(e){if("redactor-modal-button-cancel"!==t(e.target).attr("id")&&e.target!==this.$modalClose[0]&&e.target!==this.$modalBox[0])return;e.preventDefault()}this.$modalBox&&(this.selection.restore(),this.modal.disableEvents(),this.utils.enableBodyScroll(),this.utils.restoreScroll(),this.$modalOverlay.redactorAnimation("fadeOut",{duration:.4},t.proxy(function(){this.$modalOverlay.remove()},this)),this.$modal.redactorAnimation("fadeOut",{duration:.3,timing:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},t.proxy(function(){void 0!==this.$modalBox&&(this.$modalBox.remove(),this.$modalBox=void 0),t(document.body).css("overflow",this.modal.bodyOveflow),this.core.callback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){void 0===this.opts.destroyed&&(this.observe.links(),this.observe.images())},isCurrent:function(e,i){return void 0===i&&(i=t(this.selection.current())),i.is(e)||i.parents(e).length>0},toolbar:function(){this.observe.buttons(),this.observe.dropdowns()},buttons:function(e,i){var n=this.selection.current(),r=this.selection.parent();return!1!==e?this.button.setInactiveAll():this.button.setInactiveAll(i),!1===e&&"html"!==i?void(-1!==t.inArray(i,this.opts.activeButtons)&&this.button.toggleActive(i)):void(this.utils.isRedactorParent(n)&&(this.utils.isCurrentOrParentHeader()||this.utils.isCurrentOrParent(["table","pre","blockquote","li"])?this.button.disable("horizontalrule"):this.button.enable("horizontalrule"),t.each(this.opts.activeButtonsStates,t.proxy(function(e,i){var o=t(r).closest(e,this.$editor[0]),s=t(n).closest(e,this.$editor[0]);(0===o.length||this.utils.isRedactorParent(o))&&this.utils.isRedactorParent(s)&&(0===o.length&&0===s.closest(e,this.$editor[0]).length||this.button.setActive(i))},this))))},dropdowns:function(){var e=t("<div />").html(this.selection.html()).find("a").length,i=t(this.selection.current()),n=this.utils.isRedactorParent(i);t.each(this.opts.observe.dropdowns,t.proxy(function(t,r){var o=r.observe,s=o.element,a=r.item,l=void 0!==o.in&&o.in,c=void 0!==o.out&&o.out;i.closest(s).length>0&&n||"a"===s&&0!==e?this.observe.setDropdownProperties(a,l,c):this.observe.setDropdownProperties(a,c,l)},this))},setDropdownProperties:function(t,e,i){i&&void 0!==i.attr&&this.observe.setDropdownAttr(t,i.attr,!0),void 0!==e.attr&&this.observe.setDropdownAttr(t,e.attr),void 0!==e.title&&t.find("span").text(e.title)},setDropdownAttr:function(e,i,n){t.each(i,function(t,i){"class"===t?n?e.removeClass(i):e.addClass(i):n?e.removeAttr(t):e.attr(t,i)})},addDropdown:function(t,e,i){void 0!==i.observe&&(i.item=t,this.opts.observe.dropdowns.push(i))},images:function(){this.opts.imageEditable&&(this.core.editor().addClass("redactor-layer-img-edit"),this.core.editor().find("img").each(t.proxy(function(e,i){var n=t(i);n.closest("a",this.$editor[0]).on("click",function(t){t.preventDefault()}),this.image.setEditable(n)},this)))},links:function(){this.opts.linkTooltip&&this.core.editor().find("a").each(t.proxy(function(e,i){var n=t(i);!0!==n.data("cached")&&(n.data("cached",!0),n.on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.showTooltip,this)))},this))},getTooltipPosition:function(t){return t.offset()},showTooltip:function(e){var i=t(e.target);if("IMG"!==i[0].tagName&&("A"!==i[0].tagName&&(i=i.closest("a",this.$editor[0])),"A"===i[0].tagName)){var n=i,r=this.observe.getTooltipPosition(n),o=t('<span class="redactor-link-tooltip"></span>'),s=n.attr("href");void 0===s&&(s=""),s.length>24&&(s=s.substring(0,24)+"...");var a=t('<a href="'+n.attr("href")+'" target="_blank" />').html(s).addClass("redactor-link-tooltip-action"),l=t('<a href="#" />').html(this.lang.get("edit")).on("click",t.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),c=t('<a href="#" />').html(this.lang.get("unlink")).on("click",t.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action");o.append(a).append(" | ").append(l).append(" | ").append(c);var u=parseInt(n.css("line-height"),10),h=Math.ceil((e.pageY-r.top)/u),d=r.top+h*u;o.css({top:d+"px",left:r.left+"px"}),t(".redactor-link-tooltip").remove(),t("body").append(o),this.core.editor().on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this)),t(document).on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this))}},closeAllTooltip:function(){t(".redactor-link-tooltip").remove()},closeTooltip:function(e){e=e.originalEvent||e;var i=e.target,n=t(i).closest("a",this.$editor[0]);0!==n.length&&"A"===n[0].tagName&&"A"!==i.tagName||"A"===i.tagName&&this.utils.isRedactorParent(i)||t(i).hasClass("redactor-link-tooltip-action")||(this.observe.closeAllTooltip(),this.core.editor().off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this)),t(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this)))}}},offset:function(){return{get:function(e){var i=this.offset.clone(e);if(!1===i)return 0;var n=document.createElement("div");return n.appendChild(i.cloneContents()),n.innerHTML=n.innerHTML.replace(/<img(.*?[^>])>$/gi,"i"),t.trim(t(n).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"").length},clone:function(t){var e=this.selection.get(),i=this.selection.range(e);if(null===i&&void 0===t)return!1;if(!1===(t=void 0===t?this.$editor:t))return!1;t=t[0]||t;var n=i.cloneRange();return n.selectNodeContents(t),n.setEnd(i.endContainer,i.endOffset),n},set:function(t,e){e=void 0===e?t:e,this.focus.is()||this.focus.start();for(var i,n=this.selection.get(),r=this.selection.range(n),o=0,s=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);null!==(i=s.nextNode());)if(o+=i.nodeValue.length,o>t&&(r.setStart(i,i.nodeValue.length+t-o),t=1/0),o>=e){r.setEnd(i,i.nodeValue.length+e-o);break}r.collapse(!1),this.selection.update(n,r)}}},paragraphize:function(){return{load:function(e){return!1===this.opts.paragraphize||"inline"===this.opts.type||"pre"===this.opts.type?e:""===e||"<p></p>"===e?this.opts.emptyHtml:(e+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,e=e.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>"),e=e.replace(/<\/pre>/gi,"</pre>\n\n"),e=e.replace(/<p>\s<br><\/p>/gi,"<p></p>"),e=this.paragraphize.getSafes(e),e=e.replace("<br>","\n"),e=this.paragraphize.convert(e),e=this.paragraphize.clear(e),e=this.paragraphize.restoreSafes(e),e=e.replace(new RegExp("<br\\s?/?>\n?<("+this.opts.paragraphizeBlocks.join("|")+")(.*?[^>])>","gi"),"<p><br /></p>\n<$1$2>"),t.trim(e))},getSafes:function(e){var i=t("<div />").append(e);return i.find("blockquote p").replaceWith(function(){return t(this).append("<br />").contents()}),i.find(this.opts.paragraphizeBlocks.join(", ")).each(t.proxy(function(e,i){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=i.outerHTML,t(i).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),i.find("span.redactor-selection-marker").each(t.proxy(function(e,i){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=i.outerHTML,t(i).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),i.html()},restoreSafes:function(e){return t.each(this.paragraphize.safes,function(t,i){i=void 0!==i?i.replace(/\$/g,"&#36;"):i,e=e.replace("#####replace"+t+"#####",i)}),e},convert:function(e){e=e.replace(/\r\n/g,"xparagraphmarkerz"),e=e.replace(/\n/g,"xparagraphmarkerz"),e=e.replace(/\r/g,"xparagraphmarkerz");var i=/\s+/g;e=e.replace(i," "),e=t.trim(e);var n=/xparagraphmarkerzxparagraphmarkerz/gi;e=e.replace(n,"</p><p>");var r=/xparagraphmarkerz/gi;return e=e.replace(r,"<br>"),e="<p>"+e+"</p>",e=e.replace("<p></p>",""),e=e.replace("\r\n\r\n",""),e=e.replace(/<\/p><p>/g,"</p>\r\n\r\n<p>"),e=e.replace(new RegExp("<br\\s?/?></p>","g"),"</p>"),e=e.replace(new RegExp("<p><br\\s?/?>","g"),"<p>"),e=e.replace(new RegExp("<p><br\\s?/?>","g"),"<p>"),e=e.replace(new RegExp("<br\\s?/?></p>","g"),"</p>"),e=e.replace(/<p>&nbsp;<\/p>/gi,""),e=e.replace(/<p>\s?<br>&nbsp;<\/p>/gi,""),e=e.replace(/<p>\s?<br>/gi,"<p>")},clear:function(t){return t=t.replace(/<p>(.*?)#####replace(.*?)#####\s?<\/p>/gi,"<p>$1</p>#####replace$2#####"),t=t.replace(/(<br\s?\/?>){2,}<\/p>/gi,"</p>"),t=t.replace(new RegExp("</blockquote></p>","gi"),"</blockquote>"),t=t.replace(new RegExp("<p></blockquote>","gi"),"</blockquote>"),t=t.replace(new RegExp("<p><blockquote>","gi"),"<blockquote>"),t=t.replace(new RegExp("<blockquote></p>","gi"),"<blockquote>"),t=t.replace(new RegExp("<p><p ","gi"),"<p "),t=t.replace(new RegExp("<p><p>","gi"),"<p>"),t=t.replace(new RegExp("</p></p>","gi"),"</p>"),t=t.replace(new RegExp("<p>\\s?</p>","gi"),""),t=t.replace(new RegExp("\n</p>","gi"),"</p>"),t=t.replace(new RegExp("<p>\t?\t?\n?<p>","gi"),"<p>"),t=t.replace(new RegExp("<p>\t*</p>","gi"),"")}}},paste:function(){return{init:function(e){this.rtePaste=!0;var i=!("pre"!==this.opts.type&&!this.utils.isCurrentOrParent("pre"));return this.detect.isDesktop()&&!this.paste.pre&&this.opts.clipboardImageUpload&&this.opts.imageUpload&&this.paste.detectClipboardUpload(e)?void(this.detect.isIe()&&setTimeout(t.proxy(this.paste.clipboardUpload,this),100)):(this.utils.saveScroll(),this.selection.save(),this.paste.createPasteBox(i),t(window).on("scroll.redactor-freeze",t.proxy(function(){t(window).scrollTop(this.saveBodyScroll)},this)),void setTimeout(t.proxy(function(){var e=this.paste.getPasteBoxCode(i);this.buffer.set(),this.selection.restore(),this.utils.restoreScroll();var n=this.clean.getCurrentType(e);e=this.clean.onPaste(e,n);var r=this.core.callback("paste",e);e=void 0===r?e:r,this.paste.insert(e,n),this.rtePaste=!1,i&&this.clean.cleanPre(),t(window).off("scroll.redactor-freeze")},this),1))},getPasteBoxCode:function(t){var e=t?this.$pasteBox.val():this.$pasteBox.html();return this.$pasteBox.remove(),e},createPasteBox:function(e){var i={position:"fixed",width:"1px",top:0,left:"-9999px"};this.$pasteBox=e?t("<textarea>").css(i):t("<div>").attr("contenteditable","true").css(i),this.paste.appendPasteBox(),this.$pasteBox.focus()},appendPasteBox:function(){if(this.detect.isIe())this.core.box().append(this.$pasteBox);else{var e=t(".modal-body:visible");e.length>0?e.append(this.$pasteBox):t("body").prepend(this.$pasteBox)}},detectClipboardUpload:function(e){e=e.originalEvent||e;var i=e.clipboardData;if(this.detect.isIe())return!0;if(this.detect.isFirefox())return!1;if(-1!==i.types.indexOf("public.tiff"))return e.preventDefault(),!1;if(i.items&&i.items.length){var n=i.items[0].getAsFile();if(null===n)return!1;var r=new FileReader;return r.readAsDataURL(n),r.onload=t.proxy(this.paste.insertFromClipboard,this),!0}},clipboardUpload:function(){var e=this.$editor.find("img");t.each(e,t.proxy(function(e,i){if(-1!==i.src.search(/^data\:image/i)){var n=window.FormData?new FormData:null;if(window.FormData){this.buffer.set(),this.upload.direct=!0,this.upload.type="image",this.upload.url=this.opts.imageUpload,this.upload.callback=t.proxy(function(e){if(this.detect.isIe())t(i).wrap(t("<figure />"));else{var n=t(i).parent();this.utils.replaceToTag(n,"figure")}i.src=e.url,this.core.callback("imageUpload",t(i),e)},this);var r=this.utils.dataURItoBlob(i.src);n.append("clipboard",1),n.append(this.opts.imageUploadParam,r),this.progress.show(),this.upload.send(n,!1),this.code.sync()}}},this))},insertFromClipboard:function(t){var e=window.FormData?new FormData:null;if(window.FormData){this.buffer.set(),this.upload.direct=!0,this.upload.type="image",this.upload.url=this.opts.imageUpload,this.upload.callback=this.image.insert;var i=this.utils.dataURItoBlob(t.target.result);e.append("clipboard",1),e.append(this.opts.imageUploadParam,i),this.progress.show(),this.upload.send(e,t)}},insert:function(e,i){i.pre?this.insert.raw(e):i.text?this.insert.text(e):this.insert.html(e,i),this.detect.isFirefox()&&this.opts.clipboardImageUpload&&setTimeout(t.proxy(this.paste.clipboardUpload,this),100)}}},placeholder:function(){return{enable:function(){setTimeout(t.proxy(function(){return this.placeholder.isEditorEmpty()?this.placeholder.show():this.placeholder.hide()},this),5)},show:function(){this.core.editor().addClass("redactor-placeholder")},update:function(t){this.opts.placeholder=t,this.core.editor().attr("placeholder",t)},hide:function(){this.core.editor().removeClass("redactor-placeholder")},is:function(){return this.core.editor().hasClass("redactor-placeholder")},init:function(){this.placeholder.enabled()&&(this.utils.isEditorRelative()||this.utils.setEditorRelative(),this.placeholder.build(),this.placeholder.buildPosition(),this.placeholder.enable(),this.placeholder.enableEvents())},enabled:function(){return this.opts.placeholder?this.core.element().attr("placeholder",this.opts.placeholder):this.placeholder.isAttr()},enableEvents:function(){this.core.editor().on("keydown.redactor-placeholder."+this.uuid,t.proxy(this.placeholder.enable,this))},disableEvents:function(){this.core.editor().off(".redactor-placeholder."+this.uuid)},build:function(){this.core.editor().attr("placeholder",this.core.element().attr("placeholder"))},buildPosition:function(){var e=t("<style />");e.addClass("redactor-placeholder-style-tag"),e.html("#"+this.core.id()+".redactor-placeholder::after "+this.placeholder.getPosition()),t("head").append(e)},getPosition:function(){return"{ top: "+this.core.editor().css("padding-top")+"; left: "+this.core.editor().css("padding-left")+"; }"},isEditorEmpty:function(){var e=t.trim(this.core.editor().html()).replace(/[\t\n]/g,""),i=["","<p>​</p>","<p>​<br></p>"];return-1!==t.inArray(e,i)},isAttr:function(){return void 0!==this.core.element().attr("placeholder")&&""!==this.core.element().attr("placeholder")},destroy:function(){this.core.editor().removeAttr("placeholder"),this.placeholder.hide(),this.placeholder.disableEvents(),t(".redactor-placeholder-style-tag").remove()}}},progress:function(){return{$box:null,$bar:null,target:document.body,show:function(){this.progress.is()?this.progress.$box.show():(this.progress.build(),this.progress.$box.redactorAnimation("fadeIn"))},hide:function(){this.progress.is()&&this.progress.$box.redactorAnimation("fadeOut",{duration:.35},t.proxy(this.progress.destroy,this))},update:function(t){this.progress.show(),this.progress.$bar.css("width",t+"%")},is:function(){return null!==this.progress.$box},build:function(){this.progress.$bar=t("<span />"),this.progress.$box=t('<div id="redactor-progress" />'),this.progress.$box.append(this.progress.$bar),t(this.progress.target).append(this.progress.$box)},destroy:function(){this.progress.is()&&this.progress.$box.remove(),this.progress.$box=null,this.progress.$bar=null}}},selection:function(){return{get:function(){return window.getSelection?window.getSelection():document.selection&&"Control"!==document.selection.type?document.selection:null},range:function(t){return void 0===t&&(t=this.selection.get()),t.getRangeAt&&t.rangeCount?t.getRangeAt(0):null},is:function(){return!this.selection.isCollapsed()},isRedactor:function(){var e=this.selection.range();if(null!==e){var i=e.startContainer.parentNode;if(t(i).hasClass("redactor-in")||0!==t(i).parents(".redactor-in").length)return!0}return!1},isCollapsed:function(){var t=this.selection.get();return null!==t&&t.isCollapsed},update:function(t,e){null!==e&&(t.removeAllRanges(),t.addRange(e))},current:function(){var t=this.selection.get();return null!==t&&t.anchorNode},parent:function(){var t=this.selection.current();return null!==t&&t.parentNode},block:function(e){for(e=e||this.selection.current();e;){if(this.utils.isBlockTag(e.tagName))return!t(e).hasClass("redactor-in")&&e;e=e.parentNode}return!1},inline:function(e){for(e=e||this.selection.current();e;){if(this.utils.isInlineTag(e.tagName))return!t(e).hasClass("redactor-in")&&e;e=e.parentNode}return!1},element:function(e){for(e||(e=this.selection.current());e;){if(1===e.nodeType)return!t(e).hasClass("redactor-in")&&e;e=e.parentNode}return!1},prev:function(){return null!==this.selection.current()&&this.selection.current().previousSibling},next:function(){return null!==this.selection.current()&&this.selection.current().nextSibling},blocks:function(e){var i=[],n=this.selection.nodes(e);t.each(n,t.proxy(function(t,e){this.utils.isBlock(e)&&i.push(e)},this));var r=this.selection.block();return 0===i.length&&!1===r?[]:0===i.length&&!1!==r?[r]:i},inlines:function(e){var i=[],n=this.selection.nodes(e);t.each(n,t.proxy(function(t,e){this.utils.isInline(e)&&i.push(e)},this));var r=this.selection.inline();return 0===i.length&&!1===r?[]:0===i.length&&!1!==r?[r]:i},nodes:function(e){var i=void 0===e?[]:t.isArray(e)?e:[e],n=this.selection.get(),r=this.selection.range(n);if(this.utils.isCollapsed())return[this.selection.current()];var o=r.startContainer,s=r.endContainer;if(o===s)return[this.selection.parent()];for(var a=[];o&&o!==s;)a.push(o=this.selection.nextNode(o));for(o=r.startContainer;o&&o!==r.commonAncestorContainer;)a.unshift(o),o=o.parentNode;var l=[];return t.each(a,function(e,n){if(n){var r=1===n.nodeType&&n.tagName.toLowerCase();if(t(n).hasClass("redactor-script-tag, redactor-selection-marker"))return;if(r&&0!==i.length&&-1===t.inArray(r,i))return;l.push(n)}}),0===l.length?[]:l},nextNode:function(t){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null},save:function(){this.marker.insert(),this.savedSel=this.core.editor().html()},restore:function(t){var e=this.marker.find(1),i=this.marker.find(2);this.detect.isFirefox()&&this.core.editor().focus(),0!==e.length&&0!==i.length?this.caret.set(e,i):0!==e.length?this.caret.start(e):this.core.editor().focus(),!1!==t&&(this.marker.remove(),this.savedSel=!1)},saveInstant:function(){var t=this.core.editor()[0],e=t.ownerDocument,i=e.defaultView,n=i.getSelection();if(n.getRangeAt&&n.rangeCount){var r=n.getRangeAt(0),o=r.cloneRange();o.selectNodeContents(t),o.setEnd(r.startContainer,r.startOffset);var s=o.toString().length;return this.saved={start:s,end:s+r.toString().length,node:r.startContainer},this.saved}},restoreInstant:function(t){if(void 0!==t||this.saved){this.saved=void 0!==t?t:this.saved;var e=this.core.editor().find(this.saved.node);if(0===e.length||0!==e.text().trim().replace(/\u200B/g,"").length){var i=this.core.editor()[0],n=i.ownerDocument,r=n.defaultView,o=0,s=n.createRange();s.setStart(i,0),s.collapse(!0);for(var a,l=[i],c=!1,u=!1;!u&&(a=l.pop());)if(3==a.nodeType){var h=o+a.length;!c&&this.saved.start>=o&&this.saved.start<=h&&(s.setStart(a,this.saved.start-o),c=!0),c&&this.saved.end>=o&&this.saved.end<=h&&(s.setEnd(a,this.saved.end-o),u=!0),o=h}else for(var d=a.childNodes.length;d--;)l.push(a.childNodes[d]);var f=r.getSelection();f.removeAllRanges(),f.addRange(s)}else try{var s=document.createRange();s.setStart(e[0],0);var f=window.getSelection();f.removeAllRanges(),f.addRange(s)}catch(t){}}},node:function(e){t(e).prepend(this.marker.get(1)),t(e).append(this.marker.get(2)),this.selection.restore()},all:function(){this.core.editor().focus();var t=this.selection.get(),e=this.selection.range(t);e.selectNodeContents(this.core.editor()[0]),this.selection.update(t,e)},remove:function(){this.selection.get().removeAllRanges()},replace:function(t){this.insert.html(t)},text:function(){return this.selection.get().toString()},html:function(){var t="",e=this.selection.get();if(e.rangeCount){for(var i=document.createElement("div"),n=e.rangeCount,r=0;n>r;++r)i.appendChild(e.getRangeAt(r).cloneContents());t=this.clean.onGet(i.innerHTML)}return t},extractEndOfNode:function(t){var e=this.selection.get(),i=this.selection.range(e),n=i.cloneRange();return n.selectNodeContents(t),n.setStart(i.endContainer,i.endOffset),n.extractContents()},removeMarkers:function(){this.marker.remove()},marker:function(t){return this.marker.get(t)},markerHtml:function(t){return this.marker.html(t)}}},shortcuts:function(){return{hotkeysSpecialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hotkeysShiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},init:function(e,i){return!1===this.opts.shortcuts?(!e.ctrlKey&&!e.metaKey||66!==i&&73!==i||e.preventDefault(),!1):void t.each(this.opts.shortcuts,t.proxy(function(t,i){this.shortcuts.build(e,t,i)},this))},build:function(e,i,n){for(var r=t.proxy(function(){this.shortcuts.buildHandler(n)},this),o=i.split(","),s=o.length,a=0;s>a;a++)"string"==typeof o[a]&&this.shortcuts.handler(e,t.trim(o[a]),r)},buildHandler:function(t){var e;"-1"!==t.func.search(/\./)?(e=t.func.split("."),void 0!==this[e[0]]&&this[e[0]][e[1]].apply(this,t.params)):this[t.func].apply(this,t.params)},handler:function(e,i,n){i=i.toLowerCase().split(" ");var r=this.shortcuts.hotkeysSpecialKeys[e.keyCode],o=String.fromCharCode(e.which).toLowerCase(),s="",a={};t.each(["alt","ctrl","meta","shift"],function(t,i){e[i+"Key"]&&r!==i&&(s+=i+"+")}),r&&(a[s+r]=!0),o&&(a[s+o]=!0,a[s+this.shortcuts.hotkeysShiftNums[o]]=!0,"shift+"===s&&(a[this.shortcuts.hotkeysShiftNums[o]]=!0));for(var l=i.length,c=0;l>c;c++)if(a[i[c]])return e.preventDefault(),n.apply(this,arguments)}}},storage:function(){return{data:[],add:function(t){t.status=!0,t.url=decodeURI(this.link.removeSelfHostFromUrl(t.url)),this.storage.data[t.url]=t},status:function(t,e){this.storage.data[decodeURI(t)].status=e},observe:function(){var e=this;this.core.editor().find("[data-image]").each(function(i,n){e.storage.add({type:"image",node:n,url:n.src,id:t(n).attr("data-image")})}),this.core.editor().find("[data-file]").each(function(i,n){e.storage.add({type:"file",node:n,url:n.href,id:t(n).attr("data-file")})}),this.core.editor().find("[data-s3]").each(function(i,n){var r="IMG"===n.tagName?n.src:n.href;e.storage.add({type:"s3",node:n,url:r,id:t(n).attr("data-s3")})})},changes:function(){for(var t in this.storage.data){var e=this.storage.data[t],i="IMG"===e.node.tagName?"src":"href";0===this.core.editor().find("[data-"+e.type+"]["+i+'="'+e.url+'"]').length?this.storage.status(e.url,!1):this.storage.status(e.url,!0)}return this.storage.data}}},toolbar:function(){return{build:function(){this.button.hideButtons(),this.button.hideButtonsOnMobile(),this.$toolbar=this.toolbar.createContainer(),this.toolbar.append(),this.button.$toolbar=this.$toolbar,this.button.setFormatting(),this.button.load(this.$toolbar),this.toolbar.setFixed()},createContainer:function(){return t("<ul>").addClass("redactor-toolbar").attr({id:"redactor-toolbar-"+this.uuid,role:"toolbar"})},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),t(this.opts.toolbarExternal).html(this.$toolbar)):"textarea"===this.opts.type?this.$box.prepend(this.$toolbar):this.$element.before(this.$toolbar)},setFixed:function(){if(this.opts.toolbarFixed&&!this.opts.toolbarExternal){if(this.opts.toolbarFixedTarget!==document){var e=t(this.opts.toolbarFixedTarget);this.toolbarOffsetTop=0===e.length?0:this.core.box().offset().top-e.offset().top}var i=0!==this.core.box().closest(".modal-body").length?1e3:0;setTimeout(t.proxy(function(){var e=this;this.toolbar.observeScroll(!1),this.detect.isDesktop()?t(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){e.core.editor().height()<100||e.placeholder.isEditorEmpty()||e.toolbar.observeScroll()}):t(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){e.core.editor().height()<100||e.placeholder.isEditorEmpty()||(e.core.toolbar().hide(),clearTimeout(t.data(this,"scrollCheck")),t.data(this,"scrollCheck",setTimeout(function(){e.core.toolbar().show(),e.toolbar.observeScroll()},250)))})},this),i)}},getBoxTop:function(){return this.opts.toolbarFixedTarget===document?this.core.box().offset().top:this.toolbar.toolbarOffsetTop},observeScroll:function(e){var i=0;!1!==e&&(i=this.opts.toolbarFixedTarget===document?20:0);var n=t(this.opts.toolbarFixedTarget).scrollTop(),r=this.toolbar.getBoxTop();n!==r&&(n+this.opts.toolbarFixedTopOffset+i>r?this.toolbar.observeScrollEnable(n,r):this.toolbar.observeScrollDisable())},observeScrollResize:function(){this.$toolbar.css({width:this.core.box().innerWidth(),left:this.core.box().offset().left})},observeScrollEnable:function(e,i){if(void 0!==this.fullscreen&&!1===this.fullscreen.isOpened)return void this.toolbar.observeScrollDisable();var n=i+this.core.box().outerHeight()-32,r=this.core.box().innerWidth(),o=this.detect.isDesktop()?"fixed":"absolute",s=this.detect.isDesktop()?this.opts.toolbarFixedTopOffset:t(this.opts.toolbarFixedTarget).scrollTop()-i+this.opts.toolbarFixedTopOffset,a=this.detect.isDesktop()?this.core.box().offset().left:0;this.opts.toolbarFixedTarget!==document&&(o="absolute",s=this.opts.toolbarFixedTopOffset+t(this.opts.toolbarFixedTarget).scrollTop()-i,a=0),this.$toolbar.addClass("toolbar-fixed-box"),this.$toolbar.css({position:o,width:r,top:s,left:a}),e>n&&t(".redactor-dropdown-"+this.uuid+":visible").hide(),this.toolbar.setDropdownsFixed(),this.$toolbar.css("visibility",n>e?"visible":"hidden"),t(window).on("resize.redactor-toolbar."+this.uuid,t.proxy(this.toolbar.observeScrollResize,this))},observeScrollDisable:function(){this.$toolbar.css({position:"relative",width:"auto",top:0,left:0,visibility:"visible"}),this.toolbar.unsetDropdownsFixed(),this.$toolbar.removeClass("toolbar-fixed-box"),t(window).off("resize.redactor-toolbar."+this.uuid)},setDropdownsFixed:function(){var t=this.opts.toolbarFixedTarget===document&&this.detect.isDesktop()?"fixed":"absolute";this.toolbar.setDropdownPosition(t)},unsetDropdownsFixed:function(){this.toolbar.setDropdownPosition("absolute")},setDropdownPosition:function(e){var i=this;t(".redactor-dropdown-"+this.uuid).each(function(){var n=t(this),r=i.button.get(n.attr("rel")),o="fixed"===e?i.opts.toolbarFixedTopOffset:r.offset().top;n.css({position:e,top:r.innerHeight()+o+"px"})})}}},upload:function(){return{init:function(e,i,n){this.upload.direct=!1,this.upload.callback=n,this.upload.url=i,this.upload.$el=t(e),this.upload.$droparea=t('<div id="redactor-droparea" />'),this.upload.$placeholdler=t('<div id="redactor-droparea-placeholder" />').text(this.lang.get("upload-label")),this.upload.$input=t('<input type="file" name="file" />'),this.upload.$placeholdler.append(this.upload.$input),this.upload.$droparea.append(this.upload.$placeholdler),this.upload.$el.append(this.upload.$droparea),this.upload.$droparea.off("redactor.upload"),this.upload.$input.off("redactor.upload"),this.upload.$droparea.on("dragover.redactor.upload",t.proxy(this.upload.onDrag,this)),this.upload.$droparea.on("dragleave.redactor.upload",t.proxy(this.upload.onDragLeave,this)),this.upload.$input.on("change.redactor.upload",t.proxy(function(t){t=t.originalEvent||t,this.upload.traverseFile(this.upload.$input[0].files[0],t)},this)),this.upload.$droparea.on("drop.redactor.upload",t.proxy(function(t){t.preventDefault(),this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop"),this.upload.onDrop(t)},this))},directUpload:function(t,e){this.upload.direct=!0,this.upload.traverseFile(t,e)},onDrop:function(t){t=t.originalEvent||t;var e=t.dataTransfer.files;if(this.opts.multipleImageUpload)for(var i=e.length,n=0;i>n;n++)this.upload.traverseFile(e[n],t);else this.upload.traverseFile(e[0],t)},traverseFile:function(t,e){if(this.opts.s3)return this.upload.setConfig(t),void this.uploads3.send(t,e);var i=window.FormData?new FormData:null;if(window.FormData){this.upload.setConfig(t);var n="image"===this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam;i.append(n,t)}this.progress.show(),this.core.callback("uploadStart",e,i),this.upload.send(i,e)},setConfig:function(t){this.upload.getType(t),this.upload.direct&&(this.upload.url="image"===this.upload.type?this.opts.imageUpload:this.opts.fileUpload,this.upload.callback="image"===this.upload.type?this.image.insert:this.file.insert)},getType:function(t){this.upload.type=-1===this.opts.imageTypes.indexOf(t.type)?"file":"image",null===this.opts.imageUpload&&null!==this.opts.fileUpload&&(this.upload.type="file")},getHiddenFields:function(e,i){return!1===e||"object"!=(void 0===e?"undefined":n(e))?i:(t.each(e,t.proxy(function(e,n){null!==n&&0===n.toString().indexOf("#")&&(n=t(n).val()),i.append(e,n)},this)),i)},send:function(e,i){"image"===this.upload.type?(e=this.utils.appendFields(this.opts.imageUploadFields,e),e=this.utils.appendForms(this.opts.imageUploadForms,e),e=this.upload.getHiddenFields(this.upload.imageFields,e)):(e=this.utils.appendFields(this.opts.fileUploadFields,e),e=this.utils.appendForms(this.opts.fileUploadForms,e),e=this.upload.getHiddenFields(this.upload.fileFields,e));var n=new XMLHttpRequest;n.open("POST",this.upload.url),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.onreadystatechange=t.proxy(function(){if(4===n.readyState){var t=n.responseText;t=t.replace(/^\[/,""),t=t.replace(/\]$/,"");var e;try{e="string"==typeof t?JSON.parse(t):t}catch(t){e={error:!0}}this.progress.hide(),this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),this.upload.callback(e,this.upload.direct,i)}},this),n.send(e)},onDrag:function(t){t.preventDefault(),this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(t){t.preventDefault(),this.upload.$droparea.removeClass("drag-hover")},clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(t,e){this.upload.imageFields[t]=e},removeImageFields:function(t){delete this.upload.imageFields[t]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(t,e){this.upload.fileFields[t]=e},removeFileFields:function(t){delete this.upload.fileFields[t]}}},uploads3:function(){return{send:function(e,i){this.uploads3.executeOnSignedUrl(e,t.proxy(function(t){this.uploads3.sendToS3(e,t,i)},this))},executeOnSignedUrl:function(t,e){var i=new XMLHttpRequest,n=-1===this.opts.s3.search(/\?/)?"?":"&";i.open("GET",this.opts.s3+n+"name="+t.name+"&type="+t.type,!0),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined");var r=this;i.onreadystatechange=function(t){4===this.readyState&&200===this.status&&(r.progress.show(),e(decodeURIComponent(this.responseText)))},i.send()},createCORSRequest:function(t,e){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(t,e,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(t,e)):i=null,i},sendToS3:function(e,i,n){var r=this.uploads3.createCORSRequest("PUT",i);r&&(r.onload=t.proxy(function(){var t;if(this.progress.hide(),200!==r.status)return t={error:!0},void this.upload.callback(t,this.upload.direct,r);var e=i.split("?");if(!e[0])return!1;if(this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),t={url:e[0],id:e[0],s3:!0},"file"===this.upload.type){var o=e[0].split("/");t.name=o[o.length-1]}this.upload.callback(t,this.upload.direct,n)},this),r.onerror=function(){},r.upload.onprogress=function(t){},r.setRequestHeader("Content-Type",e.type),r.setRequestHeader("x-amz-acl","public-read"),r.send(e))}}},utils:function(){return{isEmpty:function(e){return e=void 0===e?this.core.editor().html():e,e=e.replace(/[\u200B-\u200D\uFEFF]/g,""),e=e.replace(/&nbsp;/gi,""),e=e.replace(/<\/?br\s?\/?>/g,""),e=e.replace(/\s/g,""),e=e.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,""),e=e.replace(/<iframe(.*?[^>])>$/i,"iframe"),e=e.replace(/<source(.*?[^>])>$/i,"source"),e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),""===(e=t.trim(e))},isElement:function(t){try{return t instanceof HTMLElement}catch(e){return"object"==(void 0===t?"undefined":n(t))&&1===t.nodeType&&"object"==n(t.style)&&"object"==n(t.ownerDocument)}},strpos:function(t,e,i){var n=t.indexOf(e,i);return n>=0&&n},dataURItoBlob:function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var i=t.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return new Blob([n],{type:i})},getOuterHtml:function(e){return t("<div>").append(t(e).eq(0).clone()).html()},cloneAttributes:function(e,i){e=e[0]||e,i=t(i);for(var n=e.attributes,r=n.length;r--;){var o=n[r];i.attr(o.name,o.value)}return i},breakBlockTag:function(){var e=this.selection.block();if(!e)return!1;var i=this.utils.isEmpty(e.innerHTML),n=e.tagName.toLowerCase();if("pre"===n||"li"===n||"td"===n||"th"===n)return!1;if(!i&&this.utils.isStartOfElement(e))return{$block:t(e),$next:t(e).next(),type:"start"};if(!i&&this.utils.isEndOfElement(e))return{$block:t(e),$next:t(e).next(),type:"end"};var r=this.selection.extractEndOfNode(e),o=t("<"+n+" />").append(r);return o=this.utils.cloneAttributes(e,o),t(e).after(o),{$block:t(e),$next:o,type:"break"}},inBlocks:function(e){e=t.isArray(e)?e:[e];for(var i=this.selection.blocks(),n=i.length,r=!1,o=0;n>o;o++)if(!1!==i[o]){var s=i[o].tagName.toLowerCase();-1!==t.inArray(s,e)&&(r=!0)}return r},inInlines:function(e){e=t.isArray(e)?e:[e];for(var i=this.selection.inlines(),n=i.length,r=!1,o=0;n>o;o++){var s=i[o].tagName.toLowerCase();-1!==t.inArray(s,e)&&(r=!0)}return r},isTag:function(e,i){var n=t(e).closest(i,this.core.editor()[0]);return 1===n.length&&n[0]},isBlock:function(t){return null!==t&&((t=t[0]||t)&&this.utils.isBlockTag(t.tagName))},isBlockTag:function(t){return void 0!==t&&this.reIsBlock.test(t)},isInline:function(t){return(t=t[0]||t)&&this.utils.isInlineTag(t.tagName)},isInlineTag:function(t){return void 0!==t&&this.reIsInline.test(t)},isRedactorParent:function(e){return!!e&&(0!==t(e).parents(".redactor-in").length&&!t(e).hasClass("redactor-in")&&e)},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent(["H1","H2","H3","H4","H5","H6"])},isCurrentOrParent:function(e){var i=this.selection.parent(),n=this.selection.current();if(t.isArray(e)){var r=0;return t.each(e,t.proxy(function(t,e){this.utils.isCurrentOrParentOne(n,i,e)&&r++},this)),0!==r}return this.utils.isCurrentOrParentOne(n,i,e)},isCurrentOrParentOne:function(t,e,i){return i=i.toUpperCase(),e&&e.tagName===i?e:!(!t||t.tagName!==i)&&t},isEditorRelative:function(){var e=this.core.editor().css("position"),i=["absolute","fixed","relative"];return-1!==t.inArray(i,e)},setEditorRelative:function(){this.core.editor().addClass("redactor-relative")},getScrollTarget:function(){var e=t(this.opts.scrollTarget);return 0!==e.length?e:t(document)},freezeScroll:function(){this.freezeScrollTop=this.utils.getScrollTarget().scrollTop(),this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},unfreezeScroll:function(){void 0!==this.freezeScrollTop&&this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},saveScroll:function(){this.tmpScrollTop=this.utils.getScrollTarget().scrollTop()},restoreScroll:function(){void 0!==this.tmpScrollTop&&this.utils.getScrollTarget().scrollTop(this.tmpScrollTop)},isStartOfElement:function(t){return!(void 0===t&&!(t=this.selection.block()))&&0===this.offset.get(t)},isEndOfElement:function(e){if(void 0===e&&!(e=this.selection.block()))return!1;var i=t.trim(t(e).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"");return this.offset.get(e)===i.length},removeEmptyAttr:function(e,i){var n=t(e);return void 0===n.attr(i)||""===n.attr(i)&&(n.removeAttr(i),!0)},replaceToTag:function(e,i){var n;return t(e).replaceWith(function(){n=t("<"+i+" />").append(t(this).contents());for(var e=0;e<this.attributes.length;e++)n.attr(this.attributes[e].name,this.attributes[e].value);return n}),n},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=!0},disableSelectAll:function(){this.selectAll=!1},disableBodyScroll:function(){var e=t("html"),i=window.innerWidth;if(!i){var n=document.documentElement.getBoundingClientRect();i=n.right-Math.abs(n.left)}var r=document.body.clientWidth<i,o=this.utils.measureScrollbar();e.css("overflow","hidden"),r&&e.css("padding-right",o)},measureScrollbar:function(){var e=t("body"),i=document.createElement("div");i.className="redactor-scrollbar-measure",e.append(i);var n=i.offsetWidth-i.clientWidth;return e[0].removeChild(i),n},enableBodyScroll:function(){t("html").css({overflow:"","padding-right":""}),t("body").remove("redactor-scrollbar-measure")},appendFields:function(e,i){if(!e)return i;if("object"==(void 0===e?"undefined":n(e)))return t.each(e,function(e,n){null!==n&&0===n.toString().indexOf("#")&&(n=t(n).val()),i.append(e,n)}),i;var r=t(e);return 0===r.length?i:(r.each(function(){i.append(t(this).attr("name"),t(this).val())}),i)},appendForms:function(e,i){if(!e)return i;var n=t(e);if(0===n.length)return i;var r=n.serializeArray();return t.each(r,function(t,e){i.append(e.name,e.value)}),i},isRgb:function(t){return 0===t.search(/^rgb/i)},rgb2hex:function(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},isCollapsed:function(){return this.selection.isCollapsed()},isMobile:function(){return this.detect.isMobile()},isDesktop:function(){return this.detect.isDesktop()},isPad:function(){return this.detect.isIpad()}}},browser:function(){return{webkit:function(){return this.detect.isWebkit()},ff:function(){return this.detect.isFirefox()},ie:function(){return this.detect.isIe()}}}},t(window).on("load.tools.redactor",function(){t('[data-tools="redactor"]').redactor()}),e.prototype.init.prototype=e.prototype}(jQuery),function(t){function e(e,i,n,r){var o={duration:.5,iterate:1,delay:0,prefix:"redactor-",timing:"linear"};this.animation=i,this.slide="slideDown"===this.animation||"slideUp"===this.animation,this.$element=t(e),this.prefixes=["","-moz-","-o-animation-","-webkit-"],this.queue=[],"function"==typeof n?(r=n,this.opts=o):this.opts=t.extend(o,n),this.slide&&this.$element.height(this.$element.height()),this.init(r)}t.fn.redactorAnimation=function(t,i,n){return this.each(function(){new e(this,t,i,n)})},e.prototype={init:function(t){this.queue.push(this.animation),this.clean(),"show"===this.animation?(this.opts.timing="linear",this.$element.removeClass("hide").show(),"function"==typeof t&&t(this)):"hide"===this.animation?(this.opts.timing="linear",this.$element.hide(),"function"==typeof t&&t(this)):this.animate(t)},animate:function(e){this.$element.addClass("redactor-animated").css("display","").removeClass("hide"),this.$element.addClass(this.opts.prefix+this.queue[0]),this.set(this.opts.duration+"s",this.opts.delay+"s",this.opts.iterate,this.opts.timing);var i=this.queue.length>1?null:e;this.complete("AnimationEnd",t.proxy(function(){this.$element.hasClass(this.opts.prefix+this.queue[0])&&(this.clean(),this.queue.shift(),this.queue.length&&this.animate(e))},this),i)},set:function(t,e,i,n){for(var r=this.prefixes.length;r--;)this.$element.css(this.prefixes[r]+"animation-duration",t),this.$element.css(this.prefixes[r]+"animation-delay",e),this.$element.css(this.prefixes[r]+"animation-iteration-count",i),this.$element.css(this.prefixes[r]+"animation-timing-function",n)},clean:function(){this.$element.removeClass("redactor-animated"),this.$element.removeClass(this.opts.prefix+this.queue[0]),this.set("","","","")},complete:function(e,i,n){this.$element.one(e.toLowerCase()+" webkit"+e+" o"+e+" MS"+e,t.proxy(function(){"function"==typeof i&&i(),"function"==typeof n&&n(this);var e=["fadeOut","slideUp","zoomOut","slideOutUp","slideOutRight","slideOutLeft"];-1!==t.inArray(this.animation,e)&&this.$element.css("display","none"),this.slide&&this.$element.css("height","")},this))}}}(jQuery)},{}],22:[function(t,e,i){"use strict";!function(t){t.Redactor.prototype.limiter=function(){return{init:function(){this.opts.limiter&&this.core.editor().on("keydown.redactor-plugin-limiter",t.proxy(function(t){var e=t.which,i=t.ctrlKey||t.metaKey;if(!(e===this.keyCode.BACKSPACE||e===this.keyCode.DELETE||e===this.keyCode.ESC||e===this.keyCode.SHIFT||33===e||34===e||35===e||36===e||37===e||38===e||39===e||40===e||i&&65===e||i&&82===e||i&&116===e||i&&67===e||i&&88===e)){var n=this.core.editor().text();n=n.replace(/\u200B/g,"");return!(n.length>=this.opts.limiter)&&void 0}},this))}}}}(jQuery)},{}],23:[function(t,e,i){"use strict";$(function(){$(".-report").click(function(){var t=$(this).attr("data-action");$($(this).attr("href")).find(".report-form").attr("action",t)}),$('.report-form input[name="reason"]').change(function(){var t=$(this).parents(".report-form"),e=t.find(".report-form__infringing"),i=e.find("input,textarea");"Infringes my rights"===$(this).siblings(".radio__label").text()?(e.addClass("-active"),i.attr("required","required")):(e.removeClass("-active"),i.removeAttr("required"))}),$(".report-form").submit(function(t){t.preventDefault();var e=$(this),i=e.attr("action"),n=e.find(".js-modal"),r=e.find('textarea[name="description"]').val(),o=e.find('input[name="email"]').val(),s=e.find('input[name="reason"]:checked').val(),a=e.find('input[name="_token"]').val(),l={description:r,email:o,reason:s,_token:a};n.trigger("click"),$.post(i,l,function(){$("#report-success .js-modal").trigger("click")})})})},{}],24:[function(t,e,i){"use strict";$(function(){$(".select-multiple").each(function(){var t=$(this),e=t.find(".select-multiple__choices"),i=t.find(".select-multiple__selected"),n=parseInt(t.attr("data-max")),r=t.attr("data-name"),o=$('input[name="'+r+'[]"]'),s=o.parents(".categories-field__category"),a=t.find("input");s.hide(),o.each(function(){var t=$(this),o=$("<a/>"),s=t.siblings(".checkbox__label"),l=t.attr("value"),c=$("<a/>"),u=$("<svg/>"),h=$("<use/>");h.attr("xlink:href","#close"),h.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),u.addClass("icon select-multiple__selected-single-icon"),u.append(h),o.addClass("select-multiple__choices-single"),o.attr("data-value",l),o.attr("href","#"+r+"_"+l),o.text(s.text()),t[0].checked&&o.addClass("-selected"),o.click(function(r){r.preventDefault();var o=e.find(".select-multiple__choices-single"),s=i.find('.select-multiple__selected-single[data-value="'+l+'"]');t[0].checked=!0,$(this).addClass("-selected"),o.removeClass("-visible"),s.addClass("-selected"),a.val(""),i.show(),i.find(".select-multiple__selected-single.-selected").length>=n&&a.attr("disabled","disabled")}),e.append(o),c.addClass("select-multiple__selected-single"),c.attr("data-value",l),c.attr("href","#"+r+"_"+l),c.text(s.text()),t[0].checked&&c.addClass("-selected"),c.append('<svg class="icon select-multiple__selected-single-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#close"></use></svg>'),c.click(function(n){n.preventDefault();var r=e.find('.select-multiple__choices-single[data-value="'+l+'"]');t[0].checked=!1,$(this).removeClass("-selected"),r.removeClass("-selected"),a.removeAttr("disabled"),0===i.find(".select-multiple__selected-single.-selected").length&&i.hide()}),i.append(c)});var l=i.find(".select-multiple__selected-single.-selected").length;l>=n?a.attr("disabled","disabled"):0===l&&i.hide(),a.on("keyup",function(t){var i=e.find(".select-multiple__choices-single"),n=$(this).val();n?i.each(function(){$(this).text().toLowerCase().startsWith(n.toLowerCase())?$(this).addClass("-visible"):$(this).removeClass("-visible")}):i.removeClass("-visible")})})})},{}],25:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("domready"),o=n(r);!function(){function t(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.select();try{var i=document.execCommand("copy"),n=i?"successful":"unsuccessful";console.log("Copying text command was "+n)}catch(t){console.log("Oops, unable to copy")}document.body.removeChild(e)}function e(e){e.preventDefault(),t(location.href)}var i=document.getElementsByClassName("copyurl");(0,o.default)(function(){[].forEach.call(i,function(t){return t.addEventListener("click",e)})})}()},{domready:1}],26:[function(t,e,i){"use strict";$(function(){$(".show-more__button").click(function(t){t.preventDefault();var e=$(this).parents(".show-more"),i=$(this).attr("href"),n=$(i);e.addClass("-shown"),n.addClass("-shown")})})},{}],27:[function(t,e,i){"use strict";$(function(){var t=$("#solution-hero-links"),e=t.attr("data-solution"),i=t.attr("data-user"),n=t.attr("data-token"),r=$(".-create"),o=$(".-destroy");r.bind("click",function(t){t.preventDefault(),$.post($(this).attr("data-route"),{solution_id:e,user_id:i,_token:n}).done(function(){r.hide(),o.show()}).fail(function(){alert("nope")})}),o.bind("click",function(t){t.preventDefault(),$.post($(this).attr("data-route"),{solution_id:e,user_id:i,_token:n}).done(function(){o.hide(),r.show()}).fail(function(){alert("nope")})})})},{}],28:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("domready"),o=n(r);!function(){function t(t){t.preventDefault(),i.classList.toggle("-active"),this.classList.toggle("-active")}var e=document.getElementById("solution-subnav-trigger"),i=document.getElementById("solution-subnav");(0,o.default)(function(){e&&e.addEventListener("click",t)})}()},{domready:1}],29:[function(t,e,i){"use strict";$(function(){var t=$(window).width();t<770&&$(".solution-timeline").each(function(){var e=$(this).attr("data-current"),i=e?"timeline_"+e:"timeline_0",n=$("#"+i).offset().left;$(this).scrollLeft(n-t/2+40)})})},{}],30:[function(t,e,i){"use strict";$(function(){var t=function(){$(this).css({height:1,overflowY:"auto"}).css({height:this.scrollHeight,overflowY:"hidden"})};$(".-auto-grow").on("input",t).each(t),$(window).on("resize",function(){$(".-auto-grow").each(t)}),window.autoGrowLoaded=function(){var e=$(this);e.find(".-auto-grow").on("input",t).each(t),$(window).on("resize",function(){e.find(".-auto-grow").each(t)})}})},{}],31:[function(t,e,i){"use strict";$(function(){var t=$(".three-card-picker__choice-input");t.click(function(){t.each(function(){$(this).parents(".three-card-picker__choice").removeClass("-active")}),$(this).parents(".three-card-picker__choice").addClass("-active")})})},{}],32:[function(t,e,i){"use strict";$(function(){$(".timeline-accordion__title").click(function(){$(this).parents(".timeline-accordion").toggleClass("-active")})})},{}],33:[function(t,e,i){"use strict";$(function(){$(".toggle-panel__header").bind("click",function(t){t.preventDefault(),$(this).toggleClass("-active"),$(this).siblings(".toggle-panel__content").slideToggle("fast")})})},{}],34:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("domready"),o=n(r);!function(){(0,o.default)(function(){function t(){[].forEach.call(e,function(t){var e=t.getAttribute("data-aspect-ratio");t.setAttribute("width",t.parentNode.offsetWidth),t.setAttribute("height",t.parentNode.offsetWidth*e)})}var e=document.getElementsByClassName("video");[].forEach.call(e,function(t){t.setAttribute("data-aspect-ratio",t.height/t.width),t.removeAttribute("height"),t.removeAttribute("width")}),window.addEventListener("resize",t),t()})}()},{domready:1}],35:[function(t,e,i){"use strict";$(function(){$(".categories-field").each(function(){var t=$(this).find('input[type="checkbox"]'),e=parseInt($(this).attr("data-max"));e&&(t.change(function(){this.checked?t.filter(":checked").length>=e&&t.not(":checked").attr("disabled","disabled"):t.removeAttr("disabled")}),t.filter(":checked").length>=e&&t.not(":checked").attr("disabled","disabled"))})})},{}],36:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("domready"),o=n(r);!function(){function t(t){t.preventDefault();var e=document.getElementById(this.getAttribute("href").slice(1));[].forEach.call(n,function(t){return t.classList.remove("-show")}),[].forEach.call(i,function(t){return t.classList.remove("-active")}),this.classList.add("-active"),e.classList.add("-show")}function e(){for(var t=new Array,e=0;e<s.length;e++){var i=s[e];t.push(i.childElementCount)}Array.prototype.max=function(){return Math.max.apply(null,this)},r.style.minHeight=90*t.max()+"px"}var i=document.getElementsByClassName("challenge-timeline__phase-link"),n=document.getElementsByClassName("challenge-timeline__phase"),r=document.getElementById("challenge-timeline"),s=document.getElementsByClassName("challenge-timeline__phase-dates");(0,o.default)(function(){r&&e(),[].forEach.call(i,function(e){e.addEventListener("click",t,!1)})})}()},{domready:1}],37:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("headroom.js"),o=n(r);!function(){function t(t){t.preventDefault();var e=$($(this).attr("href")),n=$("#"+this.dataset.retract);$("[href='#"+this.dataset.retract+"']").removeClass("-active"),n.removeClass("-active"),$(this).toggleClass("-active"),e.toggleClass("-active");var o=1;r.each(function(){$(this).hasClass("-active")&&o++}),1===o?i.removeClass("-no-scroll"):i.addClass("-no-scroll")}function e(){var t=$(window).width();if(t>=769){var e=10;a.each(function(){e+=$(this).outerWidth()}),s.each(function(){e+=$(this).outerWidth(),e>t?$(this).addClass("-hide"):$(this).removeClass("-hide")})}else s.removeClass("-hide")}var i=$("#base"),n=$("#global-header"),r=n.find(".-more"),s=n.find(".global-header__menu .global-header__menu-link"),a=n.find(".global-header__auth .global-header__menu-link,.global-header__logo,.global-header__trigger");$(function(){new o.default(document.getElementById("global-header"),{offset:0,tolerance:10}).init(),r.click("click",t)}),$(window).on("load",e).resize(e)}()},{"headroom.js":3}],38:[function(t,e,i){"use strict"},{}],39:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=t("domready"),o=n(r);!function(){var t=document.getElementsByClassName("login-hero__tab-content"),e=document.getElementsByClassName("login-hero__tabs-single");(0,o.default)(function(){[].forEach.call(e,function(i){i.addEventListener("click",function(n){n.preventDefault(),[].forEach.call(e,function(t){t.classList.remove("-active")}),[].forEach.call(t,function(t){t.classList.remove("-active")}),i.classList.add("-active"),document.querySelector(i.getAttribute("href")).classList.add("-active")})})})}()},{domready:1}]},{},[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39]);